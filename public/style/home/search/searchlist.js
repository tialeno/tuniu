!function(t){var e={};function n(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t['default']}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=23)}([function(t,e,n){"use strict";
/**
 * @file Embedded JavaScript templating engine.
 * @author Matthew Eernisse <mde@fleegix.org>
 * @author Tiancheng "Timothy" Gu <timothygu99@gmail.com>
 * @project EJS
 * @license {@link http://www.apache.org/licenses/LICENSE-2.0 Apache License, Version 2.0}
 */Object.defineProperty(e,"__esModule",{value:!0}),e.VERSION=e.__express=e.escapeXML=e.clearCache=e.renderFile=e.render=e.compile=e.resolveInclude=e.localsName=e.cache=void 0;var i=r(n(1)),a=r(n(3));function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e['default']=t,e}var s={},o=!1,l=r(n(4)).version,c="%",u="locals",p=["cache","filename","delimiter","scope","context","debug","compileDebug","client","_with","root","rmWhitespace","strict","localsName"],d=/;\s*$/,f=/^\uFEFF/,h=e.cache=a.cache,m=e.localsName=u,g=e.resolveInclude=function(t,e,n){var a=i.dirname,r=i.extname,s=(0,i.resolve)(n?e:a(e),t);return r(t)||(s+=".ejs"),s};function y(t,e){var n;if("/"==t.charAt(0))n=g(t.replace(/^\/*/,""),e.root||"/",!0);else{if(!e.filename)throw new Error("`include` use relative path requires the 'filename' option.");n=g(t,e.filename)}return n}function v(t,e){var n,i=t.filename,a=arguments.length>1;if(t.cache){if(!i)throw new Error("cache option requires a filename");if(n=h.get(i))return n;a||(e=s.readFileSync(i).toString().replace(f,""))}else if(!a){if(!i)throw new Error("Internal EJS error: no file name or template provided");e=s.readFileSync(i).toString().replace(f,"")}return n=_(e,t),t.cache&&h.set(i,n),n}function b(t,e,n,i){var a=e.split("\n"),r=Math.max(i-3,0),s=Math.min(a.length,i+3),o=a.slice(r,s).map(function(t,e){var n=e+r+1;return(n==i?" >> ":"    ")+n+"| "+t}).join("\n");throw t.path=n,t.message=(n||"ejs")+":"+i+"\n"+o+"\n\n"+t.message,t}function x(t,e){p.forEach(function(n){void 0!==t[n]&&(e[n]=t[n])})}var _=e.compile=function(t,e){return e&&e.scope&&(o||(console.warn("`scope` option is deprecated and will be removed in EJS 3"),o=!0),e.context||(e.context=e.scope),delete e.scope),new k(t,e).compile()},w=(e.render=function(t,e,n){var i=e||{},a=n||{};return 2==arguments.length&&x(i,a),v(a,t)(i)},e.renderFile=function(){var t,e=Array.prototype.slice.call(arguments),n=e.shift(),i=e.pop(),r=e.shift()||{},s=e.pop()||{};s=a.shallowCopy({},s),3==arguments.length&&(r.settings&&r.settings["view options"]?x(r.settings["view options"],s):x(r,s)),s.filename=n;try{t=v(s)(r)}catch(t){return i(t)}return i(null,t)});e.clearCache=function(){h.reset()};function k(t,e){e=e||{};var n={};this.templateText=t,this.mode=null,this.truncate=!1,this.currentLine=1,this.source="",this.dependencies=[],n.client=e.client||!0,n.escapeFunction=e.escape||a.escapeXML,n.compileDebug=!1!==e.compileDebug,n.debug=!!e.debug,n.filename=e.filename,n.delimiter=e.delimiter||c,n.strict=e.strict||!1,n.context=e.context,n.cache=e.cache||!1,n.rmWhitespace=e.rmWhitespace,n.root=e.root,n.localsName=e.localsName||m||u,n.strict?n._with=!1:n._with=void 0===e._with||e._with,this.opts=n,this.regex=this.createRegex()}k.modes={EVAL:"eval",ESCAPED:"escaped",RAW:"raw",COMMENT:"comment",LITERAL:"literal"},k.prototype={createRegex:function(){var t="(<%%|%%>|<%=|<%-|<%_|<%#|<%|%>|-%>|_%>)",e=a.escapeRegExpChars(this.opts.delimiter);return t=t.replace(/%/g,e),new RegExp(t)},compile:function(){var t,e,n=this.opts,i="",r="",s=n.escapeFunction;this.source||(this.generateSource(),i+="  var __output = [], __append = __output.push.bind(__output);\n",!1!==n._with&&(i+="  with ("+n.localsName+" || {}) {\n",r+="  }\n"),r+='  return __output.join("");\n',this.source=i+this.source+r),t=n.compileDebug?"var __line = 1\n  , __lines = "+JSON.stringify(this.templateText)+"\n  , __filename = "+(n.filename?JSON.stringify(n.filename):"undefined")+";\ntry {\n"+this.source+"} catch (e) {\n  rethrow(e, __lines, __filename, __line);\n}\n":this.source,n.debug&&console.log(t),n.client&&(t="escape = escape || "+s.toString()+";\n"+t,n.compileDebug&&(t="rethrow = rethrow || "+b.toString()+";\n"+t)),n.strict&&(t='"use strict";\n'+t);try{e=new Function(n.localsName+", escape, include, rethrow",t)}catch(t){throw t instanceof SyntaxError&&(n.filename&&(t.message+=" in "+n.filename),t.message+=" while compiling ejs"),t}if(n.client)return e.dependencies=this.dependencies,function(){return e.apply(n.context,Array.from(arguments))};var o=function(t){return e.apply(n.context,[t||{},s,function(e,i){var r=a.shallowCopy({},t);return i&&(r=a.shallowCopy(r,i)),function(t,e){var n=a.shallowCopy({},e);return n.filename=y(t,n),v(n)}(e,n)(r)},b])};return o.dependencies=this.dependencies,o},generateSource:function(){this.opts.rmWhitespace&&(this.templateText=this.templateText.replace(/\r/g,"").replace(/^\s+|\s+$/gm,"")),this.templateText=this.templateText.replace(/[ \t]*<%_/gm,"<%_").replace(/_%>[ \t]*/gm,"_%>");var t=this,e=this.parseTemplateText(),n=this.opts.delimiter;e&&e.length&&e.forEach(function(i,r){var o,l,c,u,p,d;if(0===i.indexOf("<"+n)&&0!==i.indexOf("<"+n+n)&&(l=e[r+2])!=n+">"&&l!="-"+n+">"&&l!="_"+n+">")throw new Error('Could not find matching close tag for "'+i+'".');if((c=i.match(/^\s*include\s+(\S+)/))&&(o=e[r-1])&&(o=="<"+n||o=="<"+n+"-"||o=="<"+n+"_"))return u=a.shallowCopy({},t.opts),p=function(t,e){var n,i,r=a.shallowCopy({},e);n=y(t,r),i=s.readFileSync(n).toString().replace(f,""),r.filename=n;var o=new k(i,r);return o.generateSource(),{source:o.source,filename:n,template:i}}(c[1],u),d=t.opts.compileDebug?"    ; (function(){\n      var __line = 1\n      , __lines = "+JSON.stringify(p.template)+"\n      , __filename = "+JSON.stringify(p.filename)+";\n      try {\n"+p.source+"      } catch (e) {\n        rethrow(e, __lines, __filename, __line);\n      }\n    ; }).call(this)\n":"    ; (function(){\n"+p.source+"    ; }).call(this)\n",t.source+=d,void t.dependencies.push(g(c[1],u.filename));t.scanLine(i)})},parseTemplateText:function(){for(var t,e=this.templateText,n=this.regex,i=n.exec(e),a=[];i;)0!==(t=i.index)&&(a.push(e.substring(0,t)),e=e.slice(t)),a.push(i[0]),e=e.slice(i[0].length),i=n.exec(e);return e&&a.push(e),a},scanLine:function(t){var e,n=this,i=this.opts.delimiter;function a(){n.truncate?(t=t.replace(/^(?:\r\n|\r|\n)/,""),n.truncate=!1):n.opts.rmWhitespace&&(t=t.replace(/^\n/,"")),t&&(t=(t=(t=(t=t.replace(/\\/g,"\\\\")).replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace(/"/g,'\\"'),n.source+='    ; __append("'+t+'")\n')}switch(e=t.split("\n").length-1,t){case"<"+i:case"<"+i+"_":this.mode=k.modes.EVAL;break;case"<"+i+"=":this.mode=k.modes.ESCAPED;break;case"<"+i+"-":this.mode=k.modes.RAW;break;case"<"+i+"#":this.mode=k.modes.COMMENT;break;case"<"+i+i:this.mode=k.modes.LITERAL,this.source+='    ; __append("'+t.replace("<"+i+i,"<"+i)+'")\n';break;case i+i+">":this.mode=k.modes.LITERAL,this.source+='    ; __append("'+t.replace(i+i+">",i+">")+'")\n';break;case i+">":case"-"+i+">":case"_"+i+">":this.mode==k.modes.LITERAL&&a(),this.mode=null,this.truncate=0===t.indexOf("-")||0===t.indexOf("_");break;default:if(this.mode){switch(this.mode){case k.modes.EVAL:case k.modes.ESCAPED:case k.modes.RAW:t.lastIndexOf("//")>t.lastIndexOf("\n")&&(t+="\n")}switch(this.mode){case k.modes.EVAL:this.source+="    ; "+t+"\n";break;case k.modes.ESCAPED:this.source+="    ; __append(escape("+t.replace(d,"").trim()+"))\n";break;case k.modes.RAW:this.source+="    ; __append("+t.replace(d,"").trim()+")\n";break;case k.modes.COMMENT:break;case k.modes.LITERAL:a()}}else a()}n.opts.compileDebug&&e&&(this.currentLine+=e,this.source+="    ; __line = "+this.currentLine+"\n")}};e.escapeXML=a.escapeXML,e.__express=w,e.VERSION=l},function(t,e,n){"use strict";var i=n(2);function a(t,e){for(var n=0,i=t.length-1;i>=0;i--){var a=t[i];"."===a?t.splice(i,1):".."===a?(t.splice(i,1),n++):n&&(t.splice(i,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,s=function(t){return r.exec(t).slice(1)};function o(t,e){if(t.filter)return t.filter(e);for(var n=[],i=0;i<t.length;i++)e(t[i],i,t)&&n.push(t[i]);return n}e.resolve=function(){for(var t="",e=!1,n=arguments.length-1;n>=-1&&!e;n--){var r=n>=0?arguments[n]:i.process.cwd();if("string"!=typeof r)throw new TypeError("Arguments to path.resolve must be strings");r&&(t=r+"/"+t,e="/"===r.charAt(0))}return t=a(o(t.split("/"),function(t){return!!t}),!e).join("/"),(e?"/":"")+t||"."},e.normalize=function(t){var n=e.isAbsolute(t),i="/"===l(t,-1);return(t=a(o(t.split("/"),function(t){return!!t}),!n).join("/"))||n||(t="."),t&&i&&(t+="/"),(n?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(o(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,n){function i(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var a=i(t.split("/")),r=i(n.split("/")),s=Math.min(a.length,r.length),o=s,l=0;l<s;l++)if(a[l]!==r[l]){o=l;break}var c=[];for(l=o;l<a.length;l++)c.push("..");return(c=c.concat(r.slice(o))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=s(t),n=e[0],i=e[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):"."},e.basename=function(t,e){var n=s(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){return s(t)[3]};var l="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}},function(t,e,n){"use strict";var i=t.exports={},a=[],r=!1;function s(){if(!r){var t;r=!0;for(var e=a.length;e;){t=a,a=[];for(var n=-1;++n<e;)t[n]();e=a.length}r=!1}}function o(){}i.nextTick=function(t){a.push(t),r||setTimeout(s,0)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=o,i.addListener=o,i.once=o,i.off=o,i.removeListener=o,i.removeAllListeners=o,i.emit=o,i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";var i=/[|\\{}()[\]^$+*?.]/g;e.escapeRegExpChars=function(t){return t?String(t).replace(i,"\\$&"):""};e.escapeXML=new Function("markup","\n    return markup == undefined\n    ? ''\n    : String(markup).replace(_MATCH_HTML, encode_char);\n"),e.escapeXML.toString=function(){return Function.prototype.toString.call(this)+';\nvar _ENCODE_HTML_RULES = {\n      "&": "&amp;"\n    , "<": "&lt;"\n    , ">": "&gt;"\n    , \'"\': "&#34;"\n    , "\'": "&#39;"\n    }\n  , _MATCH_HTML = /[&<>\'"]/g;\nfunction encode_char(c) {\n  return _ENCODE_HTML_RULES[c] || c;\n};\n'},e.shallowCopy=function(t,e){for(var n in e=e||{})t[n]=e[n];return t},e.cache={_data:{},set:function(t,e){this._data[t]=e},get:function(t){return this._data[t]},reset:function(){this._data={}}}},function(t,e,n){"use strict";t.exports={name:"ejs",description:"Embedded JavaScript templates",keywords:["template","engine","ejs"],version:"2.5.2",author:"Matthew Eernisse <mde@fleegix.org> (http://fleegix.org)",contributors:["Timothy Gu <timothygu99@gmail.com> (https://timothygu.github.io)"],license:"Apache-2.0",main:"./lib/ejs.js",repository:{type:"git",url:"git://github.com/mde/ejs.git"},bugs:"https://github.com/mde/ejs/issues",homepage:"https://github.com/mde/ejs",dependencies:{},devDependencies:{browserify:"^13.0.1",eslint:"^3.0.0",istanbul:"~0.4.3",jake:"^8.0.0",jsdoc:"^3.4.0","lru-cache":"^4.0.1",mocha:"^3.0.2",rimraf:"^2.2.8","uglify-js":"^2.6.2"},engines:{node:">=0.10.0"},scripts:{test:"mocha",coverage:"istanbul cover node_modules/mocha/bin/_mocha",doc:"rimraf out && jsdoc -c jsdoc.json lib/* docs/jsdoc/*",devdoc:"rimraf out && jsdoc -p -c jsdoc.json lib/* docs/jsdoc/*"}}},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.GET_TIP_URL="classificationPage/ajaxGetProdunctStar/",e.GET_DESC_URL="classificationPage/ajaxGetPromotionDesc/";e.queryStringify=function(t){return Object.keys(t||{}).reduce(function(e,n){var i=t[n];return i&&(Array.isArray(i)?i.forEach(function(t){e.push(n+"[]="+t)}):e.push(n+"="+i)),e},[]).join("&")}},,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n(24)},function(t,e,n){"use strict";n(25);var i=n(26),a=n(27),r=o(n(30)),s=o(n(32));function o(t){return t&&t.__esModule?t:{default:t}}i.banner.init(),r['default'].init(),s['default'].init(),a.hoverTip.init()},function(t,e){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={init:function(){$(".J_banner_wrap")&&$(".J_banner_wrap").length&&"whole"==$("#tabKey").val()&&(this.$container=$(".J_banner_wrap"),this.currentIndex=0,this.nextIndex=0,self.displayChanging=!1,this.children=this.$container.find("li").toArray(),this.changeChildren=this.$container.find(".change").toArray(),this.length=this.children.length,this.containerWidth=1e3,this.atuoMove(),this.bind())},bind:function(){var t=this,e=this;this.$container.on("click",".J_slide_prev",function(){e.change(e.getPrevIndex(),-1)}).on("click",".J_slide_next",function(){e.change(e.getNextIndex(),1)}),this.$container.hover(function(){e.stopAutoMove()},function(){e.atuoMove()}),this.changeChildren.forEach(function(n,i){$(t.changeChildren[i]).click(function(){e.change(i)})})},atuoMove:function(){var t=this;this.timer=setTimeout(function(){t.change(t.getNextIndex())},5e3)},change:function(t,e){this.displayChanging||(this.nextIndex=t,this.changing=!0,this.changeDisplay(e),this.currentIndex=this.nextIndex)},changeDisplay:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this,n=$(this.children[this.currentIndex]),i=$(this.children[this.nextIndex]),a=$(this.changeChildren[this.nextIndex]);this.displayChanging=!0,i.css("left",this.containerWidth*t),n.addClass("active"),i.addClass("active"),this.$container.find("ul").stop().animate({left:-this.containerWidth*t},700,function(){$(this).css("left",0),i.css("left",0),n.css("left",-e.containerWidth).removeClass("active"),a.siblings().removeClass("active"),a.addClass("active"),e.displayChanging=!1,e.endChange()})},stopAutoMove:function(){clearTimeout(this.timer)},getNextIndex:function(){return(this.currentIndex+1)%this.length},getPrevIndex:function(){return(this.length+this.currentIndex-1)%this.length},endChange:function(){this.displayChanging||this.startAutoChange()},startAutoChange:function(){this.stopAutoMove(),this.atuoMove()}};e.banner=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hoverTip=void 0;var i=n(28),a=n(6),r={ppdzy:"为您的个性化出游需求提供高品质独立包团、自助出游等产品定制服务。",bmy:"专为50岁以上的中老年人倾情打造的精品线路，优选航班、舒适行程、专属保险。",ggqzy:"专为亲子人群设立的品牌，优先目的地，设计亲子玩法，让孩子多一个交友平台。",nrzx:"高品质的跟团游，吃住升级、行程合理、资深导游、无强制消费。",cfbwm:"专为青年人出游打造的品牌，线路行程自由、性价比高、无强制消费。",ylzs:"途牛精选，轻奢之旅，心灵触碰。",sfcf:"轻松首付，即刻出发，灵活分期，还款无忧",mx:"该线路支持部分分期服务费减免，具体以收银台为准。",visa:"专属顾问，专家团队，高效服务，信息安全"},s=void 0,o={},l={},c={init:function(){var t=this;$(".contentcontainer").on("mouseenter",".hover_tip",function(){var e=this,n=$(this).attr("tt"),a=$(this).attr("productid"),r=$(this).attr("producttype"),o=$(this).attr("num");t.showTipText(n,a,r,o).then(function(t){!s&&t&&(s=i.layer.open({type:4,skin:"layui-layer-rim",area:["auto"],content:[t,e],tips:3,shade:!1,fix:!1,closeBtn:!1,tipsOffset:[10,-27]}))},function(){})}).on("mouseleave",".hover_tip",function(){s&&i.layer.close(s),s=null})},showTipText:function(t,e,n,i){var s=this;return new Promise(function(c,u){if("xj"==t&&e)o[e]?c(s.fillHtml(o[e])):$.ajax({url:app_url(a.GET_TIP_URL+e),dataType:"json",type:"get",success:function(t){t.success&&t.data&&"string"==typeof t.data&&""!=t.data?(o[e]=t.data,c(s.fillHtml(t.data))):c(s.fillHtml(!1))},error:function(){c(s.fillHtml(!1))}});else if("aj"==t&&e&&n)if("300"==e.slice(0,3)){var p=$("#bookCity").val(),d=e+"_"+n+"_"+p;l[d]?c(s.fillHtml(l[d])):$.ajax({url:"//www.tuniu.com/web-catalog/api/search/ajaxGetRetail",data:{productIdList:e},type:"get",success:function(t){t.success?c(s.fillHtml(s.buildDescHtmlRetail(t.data,d))):c(s.fillHtml(!1))},error:function(){c(s.fillHtml(!1))}})}else{var f=$("#bookCity").val(),h=e+"_"+n+"_"+f;l[h]?c(s.fillHtml(l[h])):$.ajax({url:app_url(a.GET_DESC_URL+f+"/"+e+"/"+n),dataType:"json",type:"get",success:function(t){t.success&&t.data&&Array.isArray(t.data)?c(s.fillHtml(s.buildDescHtml(t.data,i,h))):c(s.fillHtml(!1))},error:function(){c(s.fillHtml(!1))}})}else c(s.fillHtml(r[t]||t))})},fillHtml:function(t){return!!t&&'<div style="background: #fffce5;color: #666; height: auto; max-width: 350px; padding: 0 10px;">'+t+"</div>"},buildDescHtmlRetail:function(t,e){var n=[],i=0,a=t.productList[0].promotionList;for(var r in a)"14"==a[r].psType&&"3"==a[r].psState&&(n.push('<p style="padding:5px 0">活动'+(+i+1)+"："+a[r].psName.replace(/\n/g,"<br>")+"<br>活动时间："+a[r].beginDate+"至"+a[r].endDate),i+=1);return l[e]=n.join(""),n.join("")},buildDescHtml:function(t,e,n){var i=-1!=e,a=[],r=0;for(var s in t)(t[s].type==e&&i||!i&&(16==t[s].type||17==t[s].type))&&(t[s].description&&a.push('<p style="padding:5px 0">活动'+(+r+1)+"："+t[s].description.replace(/\n/g,"<br>")+"<br>活动时间："+t[s].beginDate+"至"+t[s].endDate),r+=1);return l[n]=a.join(""),a.join("")}};e.hoverTip=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.layer=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n(29);var a,r,s={getPath:function(){var t=document.scripts,e=t[t.length-1],n=e.src;if(!e.getAttribute("merge"))return n.substring(0,n.lastIndexOf("/")+1)}(),enter:function(t){13===t.keyCode&&t.preventDefault()},config:{},end:{},btn:["&#x786E;&#x5B9A;","&#x53D6;&#x6D88;"],type:["dialog","page","iframe","loading","tips"]},o={v:"2.4",ie6:!!window.ActiveXObject&&!window.XMLHttpRequest,index:0,path:s.getPath,config:function(t,e){var n=0;return t=t||{},o.cache=s.config=a.extend(s.config,t),o.path=s.config.path||o.path,"string"==typeof t.extend&&(t.extend=[t.extend]),o.use("skin/layer.css",t.extend&&t.extend.length>0?function i(){var a=t.extend;o.use(a[a[n]?n:n-1],n<a.length?(++n,i):e)}():e),this},use:function(t,e,n){var i=a("head")[0],r=(t=t.replace(/\s/g,""),/\.css$/.test(t)),s=document.createElement(r?"link":"script"),l="layui_layer_"+t.replace(/\.|\//g,"");if(o.path)return r&&(s.rel="stylesheet"),s[r?"href":"src"]=/^http:\/\//.test(t)?t:o.path+t,s.id=l,a("#"+l)[0]||i.appendChild(s),function t(){(r?1989===parseInt(a("#"+l).css("width")):o[n||l])?function(){e&&e();try{r||i.removeChild(s)}catch(t){}}():setTimeout(t,100)}(),this},ready:function(t,e){var n="function"==typeof t;return n&&(e=t),o.config(a.extend(s.config,n?{}:{path:t}),e),this},alert:function(t,e,n){var i="function"==typeof e;return i&&(n=e),o.open(a.extend({content:t,yes:n},i?{}:e))},confirm:function(t,e,n,i){var r="function"==typeof e;return r&&(i=n,n=e),o.open(a.extend({content:t,btn:s.btn,yes:n,btn2:i},r?{}:e))},msg:function(t,e,n){var i="function"==typeof e,r=s.config.skin,l=(r?r+" "+r+"-msg":"")||"layui-layer-msg",u=c.anim.length-1;return i&&(n=e),o.open(a.extend({content:t,time:3e3,shade:!1,skin:l,title:!1,closeBtn:!1,btn:!1,end:n},i&&!s.config.skin?{skin:l+" layui-layer-hui",shift:u}:((-1===(e=e||{}).icon||void 0===e.icon&&!s.config.skin)&&(e.skin=l+" "+(e.skin||"layui-layer-hui")),e)))},load:function(t,e){return o.open(a.extend({type:3,icon:t||0,shade:.01},e))},tips:function(t,e,n){return o.open(a.extend({type:4,content:[t,e],closeBtn:!1,time:3e3,shade:!1,fix:!1,maxWidth:210},n))}},l=function(t){this.index=++o.index,this.config=a.extend({},this.config,s.config,t),this.creat()};l.pt=l.prototype;var c=["layui-layer",".layui-layer-title",".layui-layer-main",".layui-layer-dialog","layui-layer-iframe","layui-layer-content","layui-layer-btn","layui-layer-close"];c.anim=["layer-anim","layer-anim-01","layer-anim-02","layer-anim-03","layer-anim-04","layer-anim-05","layer-anim-06"],l.pt.config={type:0,shade:.3,fix:!0,move:c[1],title:"&#x4FE1;&#x606F;",offset:"auto",area:"auto",closeBtn:1,time:0,zIndex:19891014,maxWidth:360,shift:0,icon:-1,scrollbar:!0,tips:2},l.pt.vessel=function(t,e){var n=this.index,a=this.config,r=a.zIndex+n,o="object"===i(a.title),l=a.maxmin&&(1===a.type||2===a.type),u=a.title?'<div class="layui-layer-title" style="'+(o?a.title[1]:"")+'">'+(o?a.title[0]:a.title)+"</div>":"";return a.zIndex=r,e([a.shade?'<div class="layui-layer-shade" id="layui-layer-shade'+n+'" times="'+n+'" style="z-index:'+(r-1)+"; background-color:"+(a.shade[1]||"#000")+"; opacity:"+(a.shade[0]||a.shade)+"; filter:alpha(opacity="+(100*a.shade[0]||100*a.shade)+');"></div>':"",'<div class="'+c[0]+" layui-layer-"+s.type[a.type]+(0!=a.type&&2!=a.type||a.shade?"":" layui-layer-border")+" "+(a.skin||"")+'" id="'+c[0]+n+'" type="'+s.type[a.type]+'" times="'+n+'" showtime="'+a.time+'" conType="'+(t?"object":"string")+'" style="z-index: '+r+"; width:"+a.area[0]+";height:"+a.area[1]+(a.fix?"":";position:absolute;")+'">'+(t&&2!=a.type?"":u)+'<div id="'+(a.id||"")+'" class="layui-layer-content'+(0==a.type&&-1!==a.icon?" layui-layer-padding":"")+(3==a.type?" layui-layer-loading"+a.icon:"")+'">'+(0==a.type&&-1!==a.icon?'<i class="layui-layer-ico layui-layer-ico'+a.icon+'"></i>':"")+(2==a.type||4==a.type||1==a.type&&t?"":a.content||"")+'</div><span class="layui-layer-setwin">'+function(){var t=l?'<a class="layui-layer-min" href="javascript:;"><cite></cite></a><a class="layui-layer-ico layui-layer-max" href="javascript:;"></a>':"";return a.closeBtn&&(t+='<a class="layui-layer-ico '+c[7]+" "+c[7]+(a.title?a.closeBtn:4==a.type?"1":"2")+'" href="javascript:;"></a>'),t}()+"</span>"+(a.btn?function(){var t="";"string"==typeof a.btn&&(a.btn=[a.btn]);for(var e=0,n=a.btn.length;e<n;e++)t+='<a class="'+c[6]+e+'">'+a.btn[e]+"</a>";return'<div class="'+c[6]+'">'+t+"</div>"}():"")+"</div>"],u),this},l.pt.creat=function(){var t=this,e=t.config,n=t.index,l="object"===(void 0===(u=e.content)?"undefined":i(u));if(!a("#"+e.id)[0]){switch("string"==typeof e.area&&(e.area="auto"===e.area?["",""]:[e.area,""]),e.type){case 0:e.btn="btn"in e?e.btn:s.btn[0],o.closeAll("dialog");break;case 2:var u=e.content=l?e.content:[e.content||"http://layer.layui.com","auto"];e.content='<iframe scrolling="'+(e.content[1]||"auto")+'" allowtransparency="true" id="'+c[4]+n+'" name="'+c[4]+n+'" onload="this.className=\'\';" class="layui-layer-load" frameborder="0" src="'+e.content[0]+'"></iframe>';break;case 3:e.title=!1,e.closeBtn=!1,-1===e.icon&&e.icon,o.closeAll("loading");break;case 4:l||(e.content=[e.content,"body"]),e.follow=e.content[1],e.content=a("<div />").append(e.content[0],'<i class="layui-layer-TipsG"></i>')[0],e.title=!1,e.tips="object"===i(e.tips)?e.tips:[e.tips,!0],e.tipsMore||o.closeAll("tips")}t.vessel(l,function(i,r){a("body").append(i[0]),l?2==e.type||4==e.type?function(){var t=a(i[1]);t.find(".layui-layer-content").append(e.content),a("body").append(t)}():u.parents("."+c[0])[0]||(u.show().addClass("layui-layer-wrap").wrap(i[1]),a("#"+c[0]+n).find("."+c[5]).before(r)):a("body").append(i[1]),t.layero=a("#"+c[0]+n),e.scrollbar||c.html.css("overflow","hidden").attr("layer-full",n)}).auto(n),2==e.type&&o.ie6&&t.layero.find("iframe").attr("src",u[0]),a(document).off("keydown",s.enter).on("keydown",s.enter),t.layero.on("keydown",function(t){a(document).off("keydown",s.enter)}),4==e.type?t.tips():t.offset(),e.fix&&r.on("resize",function(){t.offset(),(/^\d+%$/.test(e.area[0])||/^\d+%$/.test(e.area[1]))&&t.auto(n),4==e.type&&t.tips()}),e.time<=0||setTimeout(function(){o.close(t.index)},e.time),t.move().callback(),c.anim[e.shift]&&t.layero.addClass(c.anim[e.shift])}},l.pt.auto=function(t){var e=this.config,n=a("#"+c[0]+t);""===e.area[0]&&e.maxWidth>0&&(/MSIE 7/.test(navigator.userAgent)&&e.btn&&n.width(n.innerWidth()),n.outerWidth()>e.maxWidth&&n.width(e.maxWidth));var i=[n.innerWidth(),n.innerHeight()],s=n.find(c[1]).outerHeight()||0,o=n.find("."+c[6]).outerHeight()||0;function l(t){(t=n.find(t)).height(i[1]-s-o-2*(0|parseFloat(t.css("padding"))))}switch(e.type){case 2:l("iframe");break;default:""===e.area[1]?e.fix&&i[1]>=r.height()&&(i[1]=r.height(),l("."+c[5])):l("."+c[5])}return this},l.pt.offset=function(){var t=this.config,e=this.layero,n=[e.outerWidth(),e.outerHeight()],a="object"===i(t.offset);this.offsetTop=(r.height()-n[1])/2,this.offsetLeft=(r.width()-n[0])/2,a?(this.offsetTop=t.offset[0],this.offsetLeft=t.offset[1]||this.offsetLeft):"auto"!==t.offset&&(this.offsetTop=t.offset,"rb"===t.offset&&(this.offsetTop=r.height()-n[1],this.offsetLeft=r.width()-n[0])),t.fix||(this.offsetTop=/%$/.test(this.offsetTop)?r.height()*parseFloat(this.offsetTop)/100:parseFloat(this.offsetTop),this.offsetLeft=/%$/.test(this.offsetLeft)?r.width()*parseFloat(this.offsetLeft)/100:parseFloat(this.offsetLeft),this.offsetTop+=r.scrollTop(),this.offsetLeft+=r.scrollLeft()),e.css({top:this.offsetTop,left:this.offsetLeft})},l.pt.tips=function(){var t=this.config,e=this.layero,n=[e.outerWidth(),e.outerHeight()],i=a(t.follow);i[0]||(i=a("body"));var s={width:i.outerWidth(),height:i.outerHeight(),top:i.offset().top,left:i.offset().left},o=e.find(".layui-layer-TipsG"),l=t.tips[0];t.tips[1]||o.remove();var u=t.tipsOffset,p=t.arrowOffset||[0,0],d=10,f=10;u&&("number"==typeof u?d=u:u&&u.length&&(d=void 0===u[0]?d:u[0],f=void 0===u[1]?f:u[1])),s.autoLeft=function(){!0!==t.disableAutoLeft&&s.left+n[0]-r.width()>0?(s.tipLeft=s.left+s.width-n[0],o.css({right:12,left:"auto"})):s.tipLeft=s.left+f},s.where=[function(){s.autoLeft(),s.tipTop=s.top-n[1]-d,o.removeClass("layui-layer-TipsB").addClass("layui-layer-TipsT").css("border-right-color",t.tips[1])},function(){s.tipLeft=s.left+s.width+f,s.tipTop=s.top,o.removeClass("layui-layer-TipsL").addClass("layui-layer-TipsR").css("border-bottom-color",t.tips[1])},function(){s.autoLeft(),s.tipTop=s.top+s.height+d,o.removeClass("layui-layer-TipsT").addClass("layui-layer-TipsB").css({"border-right-color":t.tips[1],left:s.left+s.width/2-s.tipLeft+p[0]})},function(){s.tipLeft=s.left-n[0]-f,s.tipTop=s.top,o.removeClass("layui-layer-TipsR").addClass("layui-layer-TipsL").css("border-bottom-color",t.tips[1])}],s.where[l-1](),e.find("."+c[5]).css({"background-color":t.tips[1],"padding-right":t.closeBtn?"30px":""}),e.css({left:s.tipLeft-(t.fix?r.scrollLeft():0),top:s.tipTop-(t.fix?r.scrollTop():0)})},l.pt.move=function(){var t=this.config,e={setY:0,moveLayer:function(){var t=e.layero,n=parseInt(t.css("margin-left")),i=parseInt(e.move.css("left"));0===n||(i-=n),"fixed"!==t.css("position")&&(i-=t.parent().offset().left,e.setY=0),t.css({left:i,top:parseInt(e.move.css("top"))-e.setY})}},n=this.layero.find(t.move);return t.move&&n.attr("move","ok"),n.css({cursor:t.move?"move":"auto"}),a(t.move).on("mousedown",function(n){if(n.preventDefault(),"ok"===a(this).attr("move")){e.ismove=!0,e.layero=a(this).parents("."+c[0]);var i=e.layero.offset().left,s=e.layero.offset().top,o=e.layero.outerWidth()-6,l=e.layero.outerHeight()-6;a("#layui-layer-moves")[0]||a("body").append('<div id="layui-layer-moves" class="layui-layer-moves" style="left:'+i+"px; top:"+s+"px; width:"+o+"px; height:"+l+'px; z-index:2147483584"></div>'),e.move=a("#layui-layer-moves"),t.moveType&&e.move.css({visibility:"hidden"}),e.moveX=n.pageX-e.move.position().left,e.moveY=n.pageY-e.move.position().top,"fixed"!==e.layero.css("position")||(e.setY=r.scrollTop())}}),a(document).mousemove(function(n){if(e.ismove){var i=n.pageX-e.moveX,a=n.pageY-e.moveY;if(n.preventDefault(),!t.moveOut){e.setY=r.scrollTop();var s=r.width()-e.move.outerWidth(),o=e.setY;i<0&&(i=0),i>s&&(i=s),a<o&&(a=o),a>r.height()-e.move.outerHeight()+e.setY&&(a=r.height()-e.move.outerHeight()+e.setY)}e.move.css({left:i,top:a}),t.moveType&&e.moveLayer(),i=a=s=o=null}}).mouseup(function(){try{e.ismove&&(e.moveLayer(),e.move.remove(),t.moveEnd&&t.moveEnd()),e.ismove=!1}catch(t){e.ismove=!1}}),this},l.pt.callback=function(){var t=this,e=t.layero,n=t.config;t.openLayer(),n.success&&(2==n.type?e.find("iframe").on("load",function(){n.success(e,t.index)}):n.success(e,t.index)),o.ie6&&t.IE6(e),e.find("."+c[6]).children("a").on("click",function(){var i=a(this).index();0===i?n.yes?n.yes(t.index,e):n.btn1?n.btn1(t.index,e):o.close(t.index):!1===(n["btn"+(i+1)]&&n["btn"+(i+1)](t.index,e))||o.close(t.index)}),e.find("."+c[7]).on("click",function(){!1===(n.cancel&&n.cancel(t.index,e))||o.close(t.index)}),n.shadeClose&&a("#layui-layer-shade"+t.index).on("click",function(){o.close(t.index)}),e.find(".layui-layer-min").on("click",function(){!1===(n.min&&n.min(e))||o.min(t.index,n)}),e.find(".layui-layer-max").on("click",function(){a(this).hasClass("layui-layer-maxmin")?(o.restore(t.index),n.restore&&n.restore(e)):(o.full(t.index,n),setTimeout(function(){n.full&&n.full(e)},100))}),n.end&&(s.end[t.index]=n.end)},s.reselect=function(){a.each(a("select"),function(t,e){var n=a(this);n.parents("."+c[0])[0]||1==n.attr("layer")&&a("."+c[0]).length<1&&n.removeAttr("layer").show(),n=null})},l.pt.IE6=function(t){var e=this,n=t.offset().top;function i(){t.css({top:n+(e.config.fix?r.scrollTop():0)})}i(),r.scroll(i),a("select").each(function(t,e){var n=a(this);n.parents("."+c[0])[0]||"none"===n.css("display")||n.attr({layer:"1"}).hide(),n=null})},l.pt.openLayer=function(){o.zIndex=this.config.zIndex,o.setTop=function(t){return o.zIndex=parseInt(t[0].style.zIndex),t.on("mousedown",function(){o.zIndex++,t.css("z-index",o.zIndex+1)}),o.zIndex}},s.record=function(t){var e=[t.width(),t.height(),t.position().top,t.position().left+parseFloat(t.css("margin-left"))];t.find(".layui-layer-max").addClass("layui-layer-maxmin"),t.attr({area:e})},s.rescollbar=function(t){c.html.attr("layer-full")==t&&(c.html[0].style.removeProperty?c.html[0].style.removeProperty("overflow"):c.html[0].style.removeAttribute("overflow"),c.html.removeAttr("layer-full"))},window.layer=o,o.getChildFrame=function(t,e){return e=e||a("."+c[4]).attr("times"),a("#"+c[0]+e).find("iframe").contents().find(t)},o.getFrameIndex=function(t){return a("#"+t).parents("."+c[4]).attr("times")},o.iframeAuto=function(t){if(t){var e=o.getChildFrame("html",t).outerHeight(),n=a("#"+c[0]+t),i=n.find(c[1]).outerHeight()||0,r=n.find("."+c[6]).outerHeight()||0;n.css({height:e+i+r}),n.find("iframe").css({height:e})}},o.iframeSrc=function(t,e){a("#"+c[0]+t).find("iframe").attr("src",e)},o.style=function(t,e){var n=a("#"+c[0]+t),i=n.attr("type"),r=n.find(c[1]).outerHeight()||0,o=n.find("."+c[6]).outerHeight()||0;i!==s.type[1]&&i!==s.type[2]||(n.css(e),i===s.type[2]&&n.find("iframe").css({height:parseFloat(e.height)-r-o}))},o.min=function(t,e){var n=a("#"+c[0]+t),i=n.find(c[1]).outerHeight()||0;s.record(n),o.style(t,{width:180,height:i,overflow:"hidden"}),n.find(".layui-layer-min").hide(),"page"===n.attr("type")&&n.find(c[4]).hide(),s.rescollbar(t)},o.restore=function(t){var e=a("#"+c[0]+t),n=e.attr("area").split(",");e.attr("type");o.style(t,{width:parseFloat(n[0]),height:parseFloat(n[1]),top:parseFloat(n[2]),left:parseFloat(n[3]),overflow:"visible"}),e.find(".layui-layer-max").removeClass("layui-layer-maxmin"),e.find(".layui-layer-min").show(),"page"===e.attr("type")&&e.find(c[4]).show(),s.rescollbar(t)},o.full=function(t){var e,n=a("#"+c[0]+t);s.record(n),c.html.attr("layer-full")||c.html.css("overflow","hidden").attr("layer-full",t),clearTimeout(e),e=setTimeout(function(){var e="fixed"===n.css("position");o.style(t,{top:e?0:r.scrollTop(),left:e?0:r.scrollLeft(),width:r.width(),height:r.height()}),n.find(".layui-layer-min").hide()},100)},o.title=function(t,e){a("#"+c[0]+(e||o.index)).find(c[1]).html(t)},o.close=function(t){var e=a("#"+c[0]+t),n=e.attr("type");if(e[0]){if(n===s.type[1]&&"object"===e.attr("conType")){e.children(":not(."+c[5]+")").remove();for(var i=0;i<2;i++)e.find(".layui-layer-wrap").unwrap().hide()}else{if(n===s.type[2])try{var r=a("#"+c[4]+t)[0];r.contentWindow.document.write(""),r.contentWindow.close(),e.find("."+c[5])[0].removeChild(r)}catch(t){}e[0].innerHTML="",e.remove()}a("#layui-layer-moves, #layui-layer-shade"+t).remove(),o.ie6&&s.reselect(),s.rescollbar(t),a(document).off("keydown",s.enter),"function"==typeof s.end[t]&&s.end[t](),delete s.end[t]}},o.closeAll=function(t){a.each(a("."+c[0]),function(){var e=a(this),n=t?e.attr("type")===t:1;n&&o.close(e.attr("times")),n=null})};var u=o.cache||{},p=function(t){return u.skin?" "+u.skin+" "+u.skin+"-"+t:""};o.prompt=function(t,e){"function"==typeof(t=t||{})&&(e=t);var n,i=2==t.formType?'<textarea class="layui-layer-input">'+(t.value||"")+"</textarea>":'<input type="'+(1==t.formType?"password":"text")+'" class="layui-layer-input" value="'+(t.value||"")+'">';return o.open(a.extend({btn:["&#x786E;&#x5B9A;","&#x53D6;&#x6D88;"],content:i,skin:"layui-layer-prompt"+p("prompt"),success:function(t){(n=t.find(".layui-layer-input")).focus()},yes:function(i){var a=n.val();""===a?n.focus():a.length>(t.maxlength||500)?o.tips("&#x6700;&#x591A;&#x8F93;&#x5165;"+(t.maxlength||500)+"&#x4E2A;&#x5B57;&#x6570;",n,{tips:1}):e&&e(a,i,n)}},t))},o.tab=function(t){var e=(t=t||{}).tab||{};return o.open(a.extend({type:1,skin:"layui-layer-tab"+p("tab"),title:function(){var t=e.length,n=1,i="";if(t>0)for(i='<span class="layui-layer-tabnow">'+e[0].title+"</span>";n<t;n++)i+="<span>"+e[n].title+"</span>";return i}(),content:'<ul class="layui-layer-tabmain">'+function(){var t=e.length,n=1,i="";if(t>0)for(i='<li class="layui-layer-tabli xubox_tab_layer">'+(e[0].content||"no content")+"</li>";n<t;n++)i+='<li class="layui-layer-tabli">'+(e[n].content||"no  content")+"</li>";return i}()+"</ul>",success:function(e){var n=e.find(".layui-layer-title").children(),i=e.find(".layui-layer-tabmain").children();n.on("mousedown",function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0;var n=a(this),r=n.index();n.addClass("layui-layer-tabnow").siblings().removeClass("layui-layer-tabnow"),i.eq(r).show().siblings().hide(),"function"==typeof t.change&&t.change(r)})}},t))},o.photos=function(t,e,n){var i={};if((t=t||{}).photos){var r=t.photos.constructor===Object,s=r?t.photos:{},l=s.data||[],c=s.start||0;if(i.imgIndex=1+(0|c),t.img=t.img||"img",r){if(0===l.length)return o.msg("&#x6CA1;&#x6709;&#x56FE;&#x7247;")}else{var u=a(t.photos),d=function(){l=[],u.find(t.img).each(function(t){var e=a(this);e.attr("layer-index",t),l.push({alt:e.attr("alt"),pid:e.attr("layer-pid"),src:e.attr("layer-src")||e.attr("src"),thumb:e.attr("src")})})};if(d(),0===l.length)return;if(e||u.on("click",t.img,function(){var e=a(this).attr("layer-index");o.photos(a.extend(t,{photos:{start:e,data:l,tab:t.tab},full:t.full}),!0),d()}),!e)return}i.imgprev=function(t){i.imgIndex--,i.imgIndex<1&&(i.imgIndex=l.length),i.tabimg(t)},i.imgnext=function(t,e){i.imgIndex++,i.imgIndex>l.length&&(i.imgIndex=1,e)||i.tabimg(t)},i.keyup=function(t){if(!i.end){var e=t.keyCode;t.preventDefault(),37===e?i.imgprev(!0):39===e?i.imgnext(!0):27===e&&o.close(i.index)}},i.tabimg=function(e){l.length<=1||(s.start=i.imgIndex-1,o.close(i.index),o.photos(t,!0,e))},i.event=function(){i.bigimg.hover(function(){i.imgsee.show()},function(){i.imgsee.hide()}),i.bigimg.find(".layui-layer-imgprev").on("click",function(t){t.preventDefault(),i.imgprev()}),i.bigimg.find(".layui-layer-imgnext").on("click",function(t){t.preventDefault(),i.imgnext()}),a(document).on("keyup",i.keyup)},i.loadi=o.load(1,{shade:!("shade"in t)&&.9,scrollbar:!1}),function(t,e,n){var i=new Image;if(i.src=t,i.complete)return e(i);i.onload=function(){i.onload=null,e(i)},i.onerror=function(t){i.onerror=null,n(t)}}(l[c].src,function(e){o.close(i.loadi),i.index=o.open(a.extend({type:1,area:function(){var n=[e.width,e.height],i=[a(window).width()-50,a(window).height()-50];return!t.full&&n[0]>i[0]&&(n[0]=i[0],n[1]=n[0]*e.height/e.width),[n[0]+"px",n[1]+"px"]}(),title:!1,shade:.9,shadeClose:!0,closeBtn:!1,move:".layui-layer-phimg img",moveType:1,scrollbar:!1,moveOut:!0,shift:5*Math.random()|0,skin:"layui-layer-photos"+p("photos"),content:'<div class="layui-layer-phimg"><img src="'+l[c].src+'" alt="'+(l[c].alt||"")+'" layer-pid="'+l[c].pid+'"><div class="layui-layer-imgsee">'+(l.length>1?'<span class="layui-layer-imguide"><a href="javascript:;" class="layui-layer-iconext layui-layer-imgprev"></a><a href="javascript:;" class="layui-layer-iconext layui-layer-imgnext"></a></span>':"")+'<div class="layui-layer-imgbar" style="display:'+(n?"block":"")+'"><span class="layui-layer-imgtit"><a href="javascript:;">'+(l[c].alt||"")+"</a><em>"+i.imgIndex+"/"+l.length+"</em></span></div></div></div>",success:function(e,n){i.bigimg=e.find(".layui-layer-phimg"),i.imgsee=e.find(".layui-layer-imguide,.layui-layer-imgbar"),i.event(e),t.tab&&t.tab(l[c],e)},end:function(){i.end=!0,a(document).off("keyup",i.keyup)}},t))},function(){o.close(i.loadi),o.msg("&#x5F53;&#x524D;&#x56FE;&#x7247;&#x5730;&#x5740;&#x5F02;&#x5E38;<br>&#x662F;&#x5426;&#x7EE7;&#x7EED;&#x67E5;&#x770B;&#x4E0B;&#x4E00;&#x5F20;&#xFF1F;",{time:3e4,btn:["&#x4E0B;&#x4E00;&#x5F20;","&#x4E0D;&#x770B;&#x4E86;"],yes:function(){l.length>1&&i.imgnext(!0,!0)}})})}},s.run=function(){a=jQuery,r=a(window),c.html=a("html"),o.open=function(t){return new l(t).index}},s.run(),e.layer=o},function(t,e){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e['default']=t,e}(n(0)),a=n(6),r=function(t){return t&&t.__esModule?t:{default:t}}(n(31));var s=!(!$("#hasResult")||"true"!=$("#hasResult").val()),o=!1,l=1;e['default']={bind:function(t){var e=this;this.$container.on("click",".icon_btn_left",function(){if(!o&&l>1){var t=l-1,n=75*(l-(l-=t>=5?5:t));o=!0,e.$container.find(".seller_item").animate({top:"+="+n},"normal","linear",function(){o=!1})}}).on("click",".icon_btn_right",function(){if(!o&&l+5<=t){var n=l,i=t-l-4,a=75*((l+=i>=5?5:i)-n);o=!0,e.$container.find(".seller_item").animate({top:"-="+a},"normal","linear",function(){o=!1})}})},init:function(){if(s){var t=this;this.$container=$("#sideWrap"),this.getData().then(function(e){t.render(e),t.bind(e.history.length)})['catch'](function(t){console.log("err",t)})}},timer:function(){var t=this.$container.find(".time_des");t.length&&t.each(function(t,e){var n=$(e),i=b(n.attr("start-data")),a=n.attr("end-data").length?b(n.attr("end-data")):"2020-12-31",r=n.find(".tnIndexDay")[0],s=n.find(".tnIndexH")[0],o=n.find(".tnIndexM")[0],l=n.find(".tnIndexS")[0],c=n.find(".spaceToEnd")[0],u=!1,p="",d="",f=void 0,h=new Date(i),m=new Date(a),g=new Date,y=h-g,v=m-g;function b(t){var e=t;if(""!=e){var n=e.split(" "),i=n[0].split("-");e=i[1]+"/"+i[2]+"/"+i[0];var a=new Date(e),r=n[1].split(":");return a.setHours(r[0],r[1]),a.setDate(a.getDate()),a}}function x(){var t=Math.floor(f/60/60),e=Math.floor((f-60*t*60)/60),n=Math.floor(f-60*t*60-60*e),i=parseInt(t/24);if(r.innerHTML=i,s.innerHTML=t-24*i,o.innerHTML=e,l.innerHTML=n,--f<0){var a=new Date;if(u){if(m-a<0)return u=!1,clearTimeout(d),!1;c.innerHTML="距结束",v=m-h,f=parseInt(v/1e3),d=setTimeout("class='list_stl'()",1e3)}else clearInterval(p);r.innerHTML="00",s.innerHTML="00",o.innerHTML="00",l.innerHTML="00"}}v<0?(!1,u=!1):y<0&&v>0?(u=!0,!1,c.innerHTML="距结束",f=parseInt(v/1e3),p=setInterval(x,1e3)):(!0,u=!0,c.innerHTML="距开始",f=parseInt(y/1e3),p=setInterval(x,1e3))})},getCookie:function(t){var e,n=new RegExp("(^| )"+t+"=([^;]*)(;|$)");return(e=document.cookie.match(n))?unescape(e[2]):null},buildUrl:function(){var t={bookCityCode:$("#bookCity").val(),keyword:$("#b_queryKey").val()?encodeURIComponent($("#b_queryKey").val()):null,tabKey:$("#tabKey").val(),poiId:$("#poiId").val(),pcat:$("#pcat").val()||null,catString:$("#catString").val()||null,paramType:$("#paramType").val()||null,sourceType:$("#isClassification")&&"true"==$("#isClassification").val()?"1":"0",userId:this.getCookie("tuniuuser_id")||0,uniqueKey:this.getCookie("_tact")||0};return app_url("search_complex/ajaxGetRightRecommend?"+(0,a.queryStringify)(t))},getData:function(){var t=this.buildUrl();return new Promise(function(e,n){$.ajax({url:t,dataType:"json",success:function(t){t&&t.success&&t.data?e(t.data):n(t)},error:function(t){n(t)}})})},render:function(t){var e=i.compile(r['default'])({data:t,isAbroad:!(!$("#isAbroad")||"true"!=$("#isAbroad").val())});this.$container.html(e),this.timer()}}},function(t,e){t.exports='<% var searchKey=\'\' ; \n\tsearchKey = $(\'#queryKey\').val();  \n\tvar sale = data.sale;\n\tvar guideInfo = data.guideInfo;\n\tvar history = data.history || [];\n\tvar isClassification = $(\'#isClassification\') && $(\'#isClassification\').val() == \'true\' ? true : false;\n\tvar parentClassName = $(\'#parentClassName\') && $(\'#parentClassName\').val() != \'null\' ? $(\'#parentClassName\').val() : null;\n\tvar childClassName = $(\'#childClassName\') && $(\'#childClassName\').val() != \'null\' ? $(\'#childClassName\').val() : null;\n\tvar buildStrForM = function(){\n        var m;\n        if(isClassification){\n            if($(\'#paramType\').val() != 3) {\n                m = (parentClassName ? parentClassName + \'-\': \'\') + $(\'#poiName\').val();\n            } else {\n                m = childClassName ? childClassName : \'\';\n            }\n        }else{\n            m = searchKey;\n        }\n        return m;\n    }\n\tfunction weatherIcon(name) {\n\t\tswitch(name){\n\t\t    case "中到大雨":\n\t\t        return  "icon-heavy-rain";\n\t\t    break;\n\t\t    case "小到中雨":\n\t\t        return "icon-m-rain";\n\t\t    break;\n\t\t    case "小到中雪":\n\t\t        return "icon-m-snow";\n\t\t    break;\n\t\t    case "雷阵雨伴有冰雹":\n\t\t        return "icon-thundershower";\n\t\t    break;\n\t\t    case "特大暴雨":\n\t\t        return "icon-severe-storm";\n\t\t    break;\n\t\t    case "大到暴雨":\n\t\t        return "icon-storm";\n\t\t    break;\n\t\t    case "大暴雨":\n\t\t        return "icon-heavy-storm";\n\t\t    break;\n\t\t    case "中雨":\n\t\t        return "icon-m-rain";\n\t\t    break;\n\t\t    case "中雪":\n\t\t        return "icon-m-snow";\n\t\t    break;\n\t\t    case "冰粒":\n\t\t        return "icon-hail";\n\t\t    break;\n\t\t    case "冰针":\n\t\t        return "icon-hail";\n\t\t    break;\n\t\t    case "冰雹":\n\t\t        return "icon-hail";\n\t\t    break;\n\t\t    case "冻雨":\n\t\t        return "icon-light-rain";\n\t\t    break;\n\t\t    case "冻雾":\n\t\t        return "icon-ice-foggy";\n\t\t    break;\n\t\t    case "多云":\n\t\t        return "icon-cloudy";\n\t\t    break;\n\t\t    case "大部晴朗":\n\t\t        return "icon-sunny";\n\t\t    break;\n\t\t    case "大雨":\n\t\t        return "icon-heavy-rain";\n\t\t    break;\n\t\t    case "大雪":\n\t\t        return "icon-heavy-snow";\n\t\t    break;\n\t\t    case "小阵雨":\n\t\t        return "icon-shower";\n\t\t    break;\n\t\t    case "小阵雪":\n\t\t        return "icon-snow-flurry";\n\t\t    break;\n\t\t    case "小雨":\n\t\t        return "icon-light-rain";\n\t\t    break;\n\t\t    case "小雪":\n\t\t        return "icon-l-snow";\n\t\t    break;\n\t\t    case "少云":\n\t\t        return "icon-cloudy";\n\t\t    break;\n\t\t    case "尘卷风":\n\t\t        return "icon-sunny";\n\t\t    break;\n\t\t    case "局部阵雨":\n\t\t        return "icon-shower";\n\t\t    break;\n\t\t    case "强沙尘暴":\n\t\t        return "icon-snow-duststorm";\n\t\t    break;\n\t\t    case "强阵雨":\n\t\t        return "icon-shower";\n\t\t    break;\n\t\t    case "扬沙":\n\t\t        return "icon-snow-sand";\n\t\t    break;\n\t\t    case "晴":\n\t\t        return "icon-sunny";\n\t\t    break;\n\t\t    case "暴雨":\n\t\t        return "icon-sunny";\n\t\t    break;\n\t\t    case "暴雪":\n\t\t        return "icon-storm";\n\t\t    break;\n\t\t    case "沙尘暴":\n\t\t        return "icon-snow-duststorm";\n\t\t    break;\n\t\t    case "浮尘":\n\t\t        return "icon-snow-dust";\n\t\t    break;\n\t\t    case "阴":\n\t\t        return "icon-overcast";\n\t\t    break;\n\t\t    case "雷阵雨":\n\t\t        return "icon-thundershower";\n\t\t    break;\n\t\t    case "阵雨":\n\t\t        return "icon-shower";\n\t\t    break;\n\t\t    case "阵雪":\n\t\t        return "icon-snow-flurry";\n\t\t    break;\n\t\t    case "雨夹雪":\n\t\t        return "icon-sleet";\n\t\t    break;\n\t\t    case "雪":\n\t\t        return "icon-l-snow";\n\t\t    break;\n\t\t    case "雷暴":\n\t\t        return "icon-thunderstorm";\n\t\t    break;\n\t\t    case "雷电":\n\t\t        return "icon-thunderstorm";\n\t\t    break;\n\t\t    case "雾":\n\t\t        return "icon-foggy";\n\t\t    break;\n\t\t    case "雨":\n\t\t        return "icon-light-rain";\n\t\t    break\n\t\t    default:\n\t\t    return \'\';\n\n\t\t}\n\t}\n%>\n\t<input type="hidden" id="ga" value="<%= searchKey%>" />\n\t\x3c!-- 列表页右侧区块 start --\x3e\n\t<% if ( sale && sale.length > 0 ){ %>\n\t\t<div class="list sideblock">\n\t\t\t<div class="carouselblock">\n\t\t\t\t<div class="carouselheader">\n\t\t\t\t\t清仓特卖\n\t\t\t\t</div>\n\t\t\t\t<div class="carousel">\n\t\t\t\t\t<ul class="temai">\n\t\t\t\t\t\t<% sale.forEach(function(pro,index){ %>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<div class="tm_prod">\n\t\t\t\t\t\t\t\t\t<% \n\t\t\t\t\t\t\t\t\t\tvar aUrl=\'\' , picUrl=\'\' ; \n\t\t\t\t\t\t\t\t\t\tif( pro.url && pro.url !=\'\' ) { \n\t\t\t\t\t\t\t\t\t\t\taUrl = pro.url.replace(/^(http:|https:)/ig,\'\'); \n\t\t\t\t\t\t\t\t\t\t\t} \n\t\t\t\t\t\t\t\t\t\tif( pro.picUrl && pro.picUrl !=\'\' ) { \n\t\t\t\t\t\t\t\t\t\t\tpicUrl=pro.picUrl.replace(/^(http:|https:)/ig,\'\'); \n\t\t\t\t\t\t\t\t\t\t\t} \n\t\t\t\t\t\t\t\t\t%>\n\t\t\t\t\t\t\t\t\t\t<a href="<%= aUrl%>" class="tm_img" target="_blank" m="点击_右侧推荐_清仓特卖_<%- buildStrForM() %>_<%= index+1 %>_<%= pro.productId %>">\n\t\t\t\t\t\t\t\t\t\t\t<img src="<%= picUrl %>"\n\t\t\t\t\t\t\t\t\t\t\twidth="160" height="90" />\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t<% var className=\'\' , titleName=\'\' ; %>\n\t\t\t\t\t\t\t\t\t\t<% if(pro.saleType == 5000){ \n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\'spe_icon_miao\' ; \n\t\t\t\t\t\t\t\t\t\t\t\ttitleName=\'秒杀\'; \n\t\t\t\t\t\t\t\t\t\t\t} else if(pro.saleType==4000) { \n\t\t\t\t\t\t\t\t\t\t\t\tclassName =\'spe_icon_wei\' ; \n\t\t\t\t\t\t\t\t\t\t\t\ttitleName=\'尾货\'; \n\t\t\t\t\t\t\t\t\t\t} %>\n\t\t\t\t\t\t\t\t\t<p class="prod_lab <%= className %>">\n\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t<%= titleName %>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<p class="time_bg">\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<% var i = "" ; %>\n\t\t\t\t\t\t\t\t\t<% if(index==0 ) { \n\t\t\t\t\t\t\t\t\t\ti=\'\' ; \n\t\t\t\t\t\t\t\t\t} else { \n\t\t\t\t\t\t\t\t\t\ti = index; \n\t\t\t\t\t\t\t\t\t} %>\n\t\t\t\t\t\t\t\t\t<p end-data="<%= pro.campaignEndTime %>" start-data="<%= pro.campaignBeginTime %>" id="timeDes<%= i %>" class="time_des">\n\t\t\t\t\t\t\t\t\t\t<span class="spaceToEnd">\n                                        </span>:<span class="tnIndexDay">0</span>天<span class="tnIndexH">0</span>时<span class="tnIndexM">0</span>分<span class="tnIndexS">0</span>秒\n\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<dl class="tm_line">\n\t\t\t\t\t\t\t\t\t<dt class="">\n\t\t\t\t\t\t\t\t\t\t<a href="<%= aUrl %>" class="" target="_blank">\n\t\t\t\t\t\t\t\t\t\t\t<%= pro.productName %>\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</dt>\n\t\t\t\t\t\t\t\t\t<dd class="tm_price">\n\t\t\t\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t\t\t\t<span class="tn_price">\n\t\t\t\t\t\t\t\t\t\t\t\t<% if(pro.price > 0) {%>\n\t\t\t\t\t\t\t\t\t\t\t\t\t&yen;<em><%= pro.price %></em>起\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t<% } else {%>\n\t\t\t\t\t\t\t\t\t\t\t\t<em>\n\t\t\t\t\t\t\t\t\t\t\t\t\t请电询\n\t\t\t\t\t\t\t\t\t\t\t\t</em>\n\t\t\t\t\t\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t<span class="tm_zk"><%- pro.discount %>折</span>\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</dd>\n\t\t\t\t\t\t\t\t</dl>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<% }) %>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t<% } %>\n\t\x3c!-- 列表页右侧区块 end --\x3e\n\t\x3c!-- 牛人定制 start--\x3e\n\t<div class="dingzhi sideblock">\n\t\t<a target="_blank" href="//www.tuniu.com/bang/" rel="nofollow"\n\t\ttitle="牛人定制" m="点击_右侧推荐_牛人定制_<%- buildStrForM() %>_1_牛人定制" class="nr-ding">\n\t\t\t<img src="//m4.tuniucdn.com/fb2/t1/G5/M00/09/36/Cii-slomaN2IEj4OAAARz8oIlJwAAAcXwP-sokAABHn133.png"\n\t\t\talt="牛人定制" />\n\t\t</a>\n\t</div>\n\t\x3c!-- 牛人定制 end--\x3e\n\t<% if(isAbroad) {%>\n\t\t<div class="quanqiugou sideblock" style="padding-top: 0;">\n\t        <a target="_blank" href="http://mkk.tuniu.com/qqg/shopping" rel="nofollow" title="全球购" m="点击_右侧推荐_全球购_<%- buildStrForM() %>_1_全球购">\n\t            <img src="https://m.tuniucdn.com/fb2/t1/G2/M00/45/49/Cii-T1jKPg-IejFYAABFiYHjEGkAAIlnQFdlKsAAEWh953.png" alt="全球购" width="100%">\n\t        </a>\n\t    </div>\n    <% } %>\n\n\t<% if(guideInfo) { %>\n\t<% var trip = guideInfo.trip || null %>\n\t\t\x3c!-- 出行 start--\x3e \n\t    <% if(guideInfo.transport && (guideInfo.transport.air || guideInfo.transport.car || guideInfo.transport.train)) {%>\n\t       <div class="chuxing sideblock"> \n\t        <div class="carouselblock"> \n\t         <div class="carouselheader">\n\t          <p class="tit"><%= guideInfo.poiName%>出行</p>\n\t         </div> \n\t         <div class="carousel"> \n\t          <ul> \n\t          <% if (guideInfo.transport.air) { %>\n\t            <% var air = guideInfo.transport.air; %>\n\t            <li class="clearfix">\n\t                <a href="<%= air.url.replace(/^(http:|https:)/ig,\'\') %>" target="_blank" m="点击_右侧推荐_出行_<%- buildStrForM() %>_1_飞机票">\n\t                    <span class="side-icon icon-plane"></span>\n\t                    <span class="word">飞机票</span>\n\t                    <span class="price"><b>&yen;</b><i><%= air.price %></i>起</span>\n\t                </a> \n\t            </li> \n\t            <% } %>\n\n\t          <% if (guideInfo.transport.train) { %>\n\t          <% var train = guideInfo.transport.train; %>\n\t            <li class="clearfix">\n\t                <a href="<%= train.url.replace(/^(http:|https:)/ig,\'\') %>" target="_blank" m="点击_右侧推荐_出行_<%= searchKey%>_1_火车票">\n\t                    <span class="side-icon icon-train"></span>\n\t                    <span class="word">火车票</span>\n\t                    <span class="price"><b>&yen;</b><i><%= train.price %></i>起</span>\n\t                </a> \n\t            </li> \n\t          <% } %>\n\n\t          <% if(guideInfo.transport.car) {%>\n\t          <% var car = guideInfo.transport.car;%>\n\t            <li class="clearfix">\n\t                <a href="<%= car.url.replace(/^(http:|https:)/ig,\'\') %>" target="_blank" m="点击_右侧推荐_出行_<%= searchKey%>_1_汽车票">\n\t                    <span class="side-icon icon-car"></span>\n\t                    <span class="word">汽车票</span>\n\t                    <span class="price"><b>&yen;</b><i><%= car.price%></i>起</span>\n\t                </a> \n\t            </li> \n\t          <% } %>\n\n\t          </ul>\n\t        </div>\n\t        </div>\n\t        </div>\n\t    <% } %>\n\t    \x3c!-- 出行 end--\x3e \n        \x3c!-- 天气 start--\x3e \n        <% if(trip) {%>\n\t    <div class="side-weather sideblock"> \n\t        <div class="carouselblock">\n\t            <div class="carouselheader clearfix"> \n\t\t\t\t\t<p class="tit" <% if(!(trip.weatherList && trip.weatherList.length > 0)) {%>style="width:100%;"<%}%> title="<%= guideInfo.poiName %>">\n\t\t\t\t\t\t<%= guideInfo.poiName %>攻略</p>\n\t                <% if(trip.weatherList && trip.weatherList.length > 0) {%>\n\t                    <dl class="weather"> \n\t                        <dt>\n\t                            <span class="weather-date">今天</span> \n\t                            <i class="weather-icon <%= weatherIcon(trip.weatherList[0].weather)%>"></i> \n\t                            <span class="weather-text"><%= trip.weatherList[0].temperature%>℃</span> \n\t                            <i class="arrow"></i> \n\t                        </dt> \n\t                        <% if(trip.weatherList.length > 2){%>\n\t                        <dd>\n\t                        <% trip.weatherList.forEach(function(info, index) { %>\n\t                            <% if (index > 0) {%>\n\t                            <div class="list"> \n\t                                <span class="weather-date"><%= index == 1? \'明天\': \'后天\'; %></span> \n\t                                <i class="weather-icon <%= weatherIcon(info.weather)%>"></i> \n\t                                <span class="weather-text"><%= info.temperature%>℃</span> \n\t                            </div> \n\t                            <% } %>\n\t                        <% }) %>\n\t                        </dd> \n\t                        <%}%>\n\t                    </dl>\n\t                <% } %> \n\t            </div>\n\t            <div class="carousel">\n\t                <% if(guideInfo.trip.intro) { %> \n\t                    <div class="dess">\n\t                        <p> <%- guideInfo.trip.intro.length > 25 ? guideInfo.trip.intro.slice(0,34)+\'...\' : guideInfo.trip.intro %></p> \n\t                    </div>\n\t                <% } %>\n\t                <% if(guideInfo.trip.tab && guideInfo.trip.tab.length) { %> \n\t                    <div class="tip">\n\t                        <% guideInfo.trip.tab.forEach(function(item, index){ %> \n\t                            <a href="<%= item.url.replace(/^(http:|https:)/ig,\'\') %>"  target="_blank" m="点击_右侧推荐_攻略_<%- buildStrForM() %>_<%= index+1%>_<%= item.key%>"><%= item.key%></a>\n\t                        <% }) %>                     \n\t                    </div>\n\t                <% } %>\n\t                <% if(guideInfo.trip.imageTag && guideInfo.trip.imageTag.length) { %>\n\t                    <div class="tit">\n\t                        <%= guideInfo.poiName %><span>印象</span> \n\t                    </div>\n\t                    <div class="impression-side">\n\t                        <% guideInfo.trip.imageTag.forEach(function(item, index) { %> \n\t                        <a href="<%= item.url.replace(/^(http:|https:)/ig,\'\')%>" target="_blank" m="点击_右侧推荐_印象_<%- buildStrForM() %>_<%= index+1%>_<%= item.tagName%>"> <%= item.tagName%></a>\n\t                        <% }) %> \n\t                    </div>                \n\t                <% } %>\n\t                <% if(guideInfo.trip.tripContentList && guideInfo.trip.tripContentList.length) { %>\n\t                    <div class="tit">\n\t                        <%= guideInfo.poiName %>\n\t                        <span>游记</span>\n\t                    </div>\n\t                    <div class="travels"> \n\t                      <% guideInfo.trip.tripContentList.forEach(function(item, index) { %> \n\t                       <a href="<%= item.contentUrl.replace(/^(http:|https:)/ig,\'\')%>" target="_blank" m="点击_右侧推荐_游记_<%- buildStrForM() %>_<%= index+1%>_<%= item.contentName%>">\n\t                       <i class="icon icon-travels"></i><%= item.contentName%></a>\n\t                       <% })%> \n\t                    </div> \n\t                <% } %>  \n\t            </div>  \n\t        </div>\n\t    </div>\n\t    <% } %>  \n\t    \x3c!-- 天气 end--\x3e    \n\t<% } %>\n\t<%if(history && history.length){%>\n\t    <div id="guessyoulike" class="guessyoulike an_mo" liwithhan="category_最近访问">\n\t        <div class="guesslike_history" id="guesslike_history">\n\t            <ul class="tabs clearfix">\n\t                <li class="current">浏览历史</li>\n\t            </ul>\n\t            <div class="tab_contents datalazyload no-action" data-lazyload-type="data" data-lazyload-from="textarea">\n\t                <div class="tab_contents_list search_history ">\n\t                    <div class="tab_contents_item">\n\t                        <ul>\n\t                        <% history.forEach(function(msg, k){%>\n\t                        \t<li class="seller_item clearfix">\n\t\t                            <a href="<%= msg.url%>" target="_blank" m="点击_右侧推荐_浏览历史_<%- buildStrForM() %>_<%= k+1 %>_<%= msg.productId %>">\n\t                                    <img src="<%= msg.imgUrl%>" data-src="<%= msg.imgUrl%>" style="display: block;">\n\t                                </a>\n\t                                <a href="<%= msg.url%>" target="_blank">\n\t                                    <h6>\n\t                                        <%= msg.title%>\n\t                                    </h6>\n\t                                    \n\t                                </a>\n\t                                <p>\n\t                                    <span class="fl">\n\t                                        <i>¥ <%= msg.price || 0%></i>起\n\t                                    </span>\n\t                                </p>\n                                </li>\n\t                        <%})%>    \n\t                        </ul>\n\t                    </div>\n\t                    <%if(history.length > 5) {%>\n\t                    \t<p class="actions"><i class="icon_btn_left"></i><i class="icon_btn_right"></i></p>\n\t                    <% } %>  \n\t                </div>\n\t            </div>\n\t        </div>\n\t    </div>    \n\t<% } %>  \n\n\t\t\t'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e['default']=t,e}(n(0)),a=function(t){return t&&t.__esModule?t:{default:t}}(n(33)),r=n(6);var s=$(window),o=!(!$("#poiShow")||"true"!=$("#poiShow").val()),l=!(!$("#catString")||""==$("#catString").val())&&$("#catString").val(),c=$("#isClassification")&&"true"==$("#isClassification").val()?$("#poiName")&&"false"!=$("#poiName").val()?$("#poiName").val():"":$("#b_queryKey").val();e['default']={buildUrl:function(){var t={bookCityCode:$("#bookCity").val(),keyword:$("#b_queryKey").val()?encodeURIComponent($("#b_queryKey").val()):null,tabKey:$("#tabKey").val(),poiId:$("#poiId").val(),sourceType:$("#isClassification")&&"true"==$("#isClassification").val()?"1":"0",catString:l};return app_url("search_complex/ajaxGetBottomList?"+(0,r.queryStringify)(t))},getData:function(){var t=this,e=this.buildUrl();$.ajax({url:e,type:"GET",dataType:"json",success:function(e){e.success&&e.data&&e.data.floors&&e.data.floors.length>0&&(e.data.cityName=c||"",t.render(e.data),s.trigger("resize"))}})},render:function(t){var e=i.compile(a['default'])({it:t});$("#bottomList").html(e)},init:function(){o||this.getData()}}},function(t,e){t.exports='<%\n    var className = \'\',listTitle = \'\',imgUrl = \'\';\n    var typeObj = {\n        6 : {\n            className : \'hotel\',\n            listTitle : \'酒店\',\n            imgUrl : \'//m.tuniucdn.com/fb2/t1/G2/M00/EA/80/Cii-T1gcIUeId8rCAAAOVtWsjs8AAEJ4wKBDKQAAA5u989.png\'\n        },\n        96 : {\n            className : \'local\',\n            listTitle : \'当地玩乐\',\n            imgUrl : \'//m.tuniucdn.com/fb2/t1/G2/M00/EA/80/Cii-TlgcIUaIbuheAAAV7b-uJvIAAEJ4wKBGxIAABYF082.png\'\n        },\n        9:{\n            className : \'visa\',\n            listTitle : \'签证\',\n            imgUrl : \'//m.tuniucdn.com/fb2/t1/G2/M00/EA/80/Cii-TlgcIUaICeJBAAASyTEehgYAAEJ4wKGLQkAABLh770.png\'\n        },\n        10 : {\n            className : \'wifi\',\n            listTitle : \'WIFI设备\',\n            imgUrl : \'//m.tuniucdn.com/fb2/t1/G2/M00/EA/80/Cii-T1gcIUeIdtTGAAAOzoRjw_AAAEJ4wKGP-oAAA7m403.png\'\n        },\n        4 : {\n            className : \'ticket\',\n            listTitle : \'景点\',\n            imgUrl : \'//m.tuniucdn.com/fb2/t1/G2/M00/EA/80/Cii-T1gcIUeIWKYHAAAPH86EbwEAAEJ4wKBMRcAAA83808.png\'\n        }\n    };\n    var isClassification = $(\'#isClassification\') && $(\'#isClassification\').val() == \'true\' ? true : false;\n    var parentClassName = $(\'#parentClassName\') && $(\'#parentClassName\').val() != \'null\' ? $(\'#parentClassName\').val() : null;\n    var childClassName = $(\'#childClassName\') && $(\'#childClassName\').val() != \'null\' ? $(\'#childClassName\').val() : null;\n    var buildStrForM = function(cityName){\n        var m;\n        if(isClassification){\n            if($(\'#paramType\').val() != 3) {\n                m = (parentClassName ? parentClassName + \'-\': \'\') + $(\'#poiName\').val();\n            } else {\n                m = childClassName ? childClassName : \'\';\n            }\n        }else{\n            m = cityName;\n        }\n        return m;\n    }\n%>\n<% if(it.floors && it.floors.length > 0) {%>\n    <% it.floors.forEach(function(groupList, i){%>\n        <%\n            for(var key in typeObj){\n                if(key == groupList.type){\n                    className = typeObj[key].className;\n                    listTitle = typeObj[key].listTitle;\n                    imgUrl = typeObj[key].imgUrl;\n                }\n            }\n        %>\n        <div class="galleryblock <%= className%>" id="<%= groupList.type%>">\n            <div class="top clearfix">\n                <div class="productname fl"><%=it.cityName%>热门<%= listTitle%></div>\n                <% if(groupList.count > 4){%>\n                    <div class="moredetail fr">\n                        <a href="<%= groupList.moreDetailUrl.replace(/^(http:|https:)/ig,\'\')%>" target="_blank" m="点击_底部推荐_<%=listTitle%>_<%=it.cityName%>_更多">更多<%= listTitle%>&nbsp;&gt;</a>\n                    </div>\n                <%}%>\n            </div>\n\n            <% if(groupList.items && groupList.items.length>0) { %>\n                <% if(groupList.items.length > 3) {%>\n                \x3c!-- 多于3个展示横向列表--\x3e\n                <div class="gallery-lists clearfix">\n                    <ul class="gallery-list clearfix current">\n                        <% groupList.items.forEach(function(pro, p_index){ %>\n                        <% var pClass = p_index == 0 ? \'first\' : \'\' ;%>\n                        <li class="gallery-list-item fl <%= pClass%>">\n                            <a target="_blank" href="<%= pro.url.replace(/^(http:|https:)/ig,\'\')%>" m="点击_底部推荐_<%=listTitle%>_<%- buildStrForM(it.cityName)%>_<%=p_index+1%>_<%=pro.id%>">\n                                <div class="imgblock">\n                                    <img title="<%= pro.name%>" src="<%= pro.picUrl.replace(/^(http:|https:)/ig,\'\')%>" style="display: inline;">\n                                    <% if(className == \'hotel\' && pro.label && pro.label!= \'\'){%>\n                                        <i class="corner"><%= pro.label%></i>\n                                    <%}%>\n\n                                    <div class="dess_bg"></div>\n                                    <% var proName = pro.name.length > 25 ? pro.name.slice(0,25)+\'...\' : pro.name;%>\n                                    <div class="dess"><%= proName%></div>\n                                </div>\n\n                                <div class="exter_mess">\n                                    <div class="box p1 clearfix">\n                                        <% if(className == \'hotel\'){%>\n                                            <div class="level fl"><%= pro.starName%></div>\n                                        <%} else {%>\n                                            <div class="satisfactionrate fl">\n                                                <span class="text">满意度</span>\n                                                <%var satisfaction = pro.satisfaction > 0 ? pro.satisfaction : 100; %>\n                                                <span class="rate"><%=  satisfaction%>%</span>\n                                            </div>\n                                        <% } %>\n                                        <div class="satisfactionrate fr">\n                                            <%if(className == \'hotel\'){%>\n                                                <%if(pro.score){%>\n                                                    <span class="score"><i><%= pro.score%></i>分</span>\n                                                <%}%>\n                                                <%if( pro.score  && pro.remarkCount != 0){%>|<%}%>\n                                                <%if(pro.remarkCount != 0){%>\n                                                    <span class="rated"><i><%= pro.remarkCount%></i>条评价</span>\n                                                <%}%>\n                                            <% }else {%>    \n                                                <span class="rated">\n                                                    <% if(pro.remarkCount != 0){%>\n                                                        <i><%= pro.remarkCount %></i>条评价\n                                                    <%} else if( pro.travelNum != 0){%>\n                                                        <i><%= pro.travelNum %></i>人出游\n                                                    <%} else {%>\n                                                        新产品\n                                                    <%}%>\n                                                </span>\n                                            <%}%>\n                                        </div>\n                                    </div>\n                                    <div class="box clearfix">\n                                        <%if(className == \'ticket\'){%>\n                                            <div class="name fl"><i class="ticket_icon"></i>门票</div>\n                                        <%}%>\n                                        <div class="price fr">\n                                            <span class="unit">&yen;</span><span class="num"><%= pro.price %></span><span class="text">起</span>\n                                        </div>\n                                    </div>\n                                </div>\n                            </a>\n                        </li>\n                        <% }) %>\n                    </ul>\n                </div>\n                \x3c!--少于等于3个，展示纵向小列表--\x3e\n                <%} else if(groupList.items.length == 1){%>\n                    <%var pro = groupList.items[0];%>\n                    <div class="gallery-list-shu single">\n                        <div class="gallery-flag">\n                            <img src="<%=imgUrl%>" alt="途牛图片" />\n                        </div>\n                        <a class="gallery-list clearfix" href="<%= pro.url.replace(/^(http:|https:)/ig,\'\')%>" target="_blank" m="点击_底部推荐_<%=listTitle%>_<%-buildStrForM(it.cityName)%>_1_<%=pro.id%>">\n                            <div class="titleLimit">\n                                <span class="title" title="<%= pro.name%>">\n                                    <% var proName = pro.name.length > 25 ? pro.name.slice(0,25)+\'...\' : pro.name;%>\n                                    <%=proName%>\n                                </span>\n                                <%if(className == \'hotel\' && pro.label && pro.label!= \'\'){%>\n                                    <% var label = pro.label.length > 10 ? pro.label.slice(0,10)+\'...\' : pro.label;%>\n                                    <span class="position"><%= label%></span>\n                                <%}%>\n                            </div>\n                            <%if(className == \'hotel\'){%>\n                                <span class="level"><%= pro.starName%></span>\n                            <%}%>\n\n                            <%if(className == \'hotel\'){%>\n                                <%if(pro.score){%>\n                                    <span class="score">\n                                        <i><%= pro.score%></i>分<%if( pro.remarkCount != 0){%> |<%}%>\n                                    </span>\n                                <%}%>\n\n                                <%if(pro.remarkCount != 0){%>\n                                    <span class="rated"><i><%= pro.remarkCount%></i>条评价</span>\n                                <%}%>\n                            <%} else {%>\n                                <%var satisfaction = pro.satisfaction > 0 ? pro.satisfaction : 100; %>\n                                <span class="satisfaction"><i><%= satisfaction%>%</i>满意 |</span>\n                                <span class="rated">\n                                    <%if(pro.remarkCount != 0){%>\n                                        <i><%= pro.remarkCount %></i>条评价\n                                    <%} else if(pro.travelNum != 0){%>\n                                            <i><%= pro.travelNum %></i>人出游\n                                    <%} else {%>\n                                        新产品\n                                    <%}%>\n                                </span>\n                            <%}%>\n                            <div class="price fr">\n                                <span class="unit">&yen;</span><span class="num"><%= pro.price%></span><span class="text">起</span>\n                            </div>\n                        </a>\n                    </div>\n                <%} else {%>\n                <div class="gallery-list-shu">\n                    <div class="gallery-flag">\n                        <img src="<%=imgUrl%>" alt="途牛图片" />\n                    </div>\n                    <% groupList.items.forEach(function(pro, l_index){%>\n                        <% var pClass = l_index == 0 ? \'first\' : \'\' ;%>\n                        <a class="gallery-list clearfix <%=pClass%>" href="<%= pro.url.replace(/^(http:|https:)/ig,\'\')%>" target="_blank" m="点击_底部推荐_<%=listTitle%>_<%- buildStrForM(it.cityName)%>_<%=l_index+1%>_<%=pro.id%>">\n                            <div class="titleLimit">\n                                <span class="title" title="<%= pro.name%>">\n                                    <% var proName = pro.name.length > 25 ? pro.name.slice(0,25)+\'...\' : pro.name;%>\n                                    <%= proName%>\n                                </span>\n                                <%if(className == \'hotel\' && pro.label && pro.label!= \'\' && !pro.isAbroad){%>\n                                    <% var label = pro.label.length > 10 ? pro.label.slice(0,10)+\'...\' : pro.label;%>\n                                    <span class="position"><%= label%></span>\n                                <%}%>\n                            </div>\n                            <%if(className == \'hotel\'){%>\n                                <span class="level"><%= pro.starName%></span>\n                            <%}%>\n                            <%if(className == \'hotel\'){%>\n                                <%if(pro.score){%>\n                                    <span class="score"><i><%= pro.score%></i>分<%if(pro.remarkCount != 0){%> |<%}%>\n                                    </span>\n                                <%}%>\n                                <%if(pro.remarkCount != 0){%>\n                                    <span class="rated"><i><%= pro.remarkCount%></i>条评价</span>\n                                <%}%>\n                            <%} else {%>\n                                <%var satisfaction = pro.satisfaction > 0 ? pro.satisfaction : 100; %>\n                                <span class="satisfaction"><i><%= satisfaction%>%</i>满意 |</span>\n                                <span class="rated">\n                                    <%if(pro.remarkCount != 0){%>\n                                        <i><%= pro.remarkCount %></i>条评价\n                                    <%} else if(pro.travelNum != 0){%>\n                                            <i><%= pro.travelNum%></i>人出游\n                                    <%} else {%>\n                                        新产品\n                                    <%}%>\n                                 </span>\n                             <% } %>\n                            <div class="price fr">\n                                <span class="unit">&yen;</span><span class="num"><%= pro.price%></span><span class="text">起</span>\n                            </div>\n                        </a>\n                    <%})%>\n                </div>\n                <% } %>\n            <% } %>\n\n        </div>\n    <% }) %>\n<% } %>\n\n'}]);