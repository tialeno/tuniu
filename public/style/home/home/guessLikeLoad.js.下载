define('index_amd/guessLikeLoad',['jquery','index_amd/data'],function($,DATA){var exports={};var renderGuessyoulike=function(){var liLength=$("div.special .mod_tit li").length;if(liLength>=8){return false;}
var obj=$("div.special");var tit=obj.find('.mod_tit');var con=obj.find('.layer_body_list');$.ajax({url:"/tn?r=homepage/site/GetGuessLikeAjax",type:"GET",dataType:"json",data:{retry:true,isSpecial:1},success:function(ret){var html=$(ret.html);var len=html.find(".widget_item").length;if(len<4){return;}
else{tit.append('<li><a href="javascript:void(0)" rel="nofollow">猜你喜欢</a></li>');con.append('<li class="layer_body clearfix"><div class="guess_you_like" id="guess_you_like">'+ret.html+'</div></li>');if($("#guess_you_like .actions")){likeDivScroll($("#guess_you_like ul.tab_list"),$("#guess_you_like .actions"));}}}});}
function likeDivScroll(tUl,rightObj){var tLi=$("li",tUl);var liLen=tLi.length;var marginL=parseInt(tLi.css("marginRight"));var lenWidth=tLi.width()+marginL;var wCon=tUl.parent(".widget_content");tUl.css("width",lenWidth*liLen);var isSliding=false;rightObj.unbind().click(function(e){if(isSliding)return;var marginL=parseInt(tLi.css("marginRight"));var lenWidth=tLi.width()+marginL;var num=Math.ceil(parseInt(wCon.width())/lenWidth);isSliding=true;var proList=tUl.find("li").eq(num).prevAll("li").remove();proList.each(function(i){tUl.append(proList.eq(num-1-i));})
isSliding=false;});}
exports.init=function(){renderGuessyoulike();};return exports;});