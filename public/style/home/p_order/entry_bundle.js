!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="http://img1.tuniucdn.com/site/js/bookOnline/webpack/dest/order_detail",__webpack_require__(0)}([function(module,exports,__webpack_require__){__webpack_require__(1),__webpack_require__(3),__webpack_require__(4);var eventBus=__webpack_require__(5),config=__webpack_require__(6),pageEvent=__webpack_require__(11);eventBus.addMiddleware(__webpack_require__(160)(config)),eventBus.bind(pageEvent),eventBus.trigger("firstInit"),eventBus.trigger("asyncInit")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(2)(7)},function(module,exports){module.exports=webpack_dll_libs},function(module,exports,__webpack_require__){module.exports=__webpack_require__(2)(6)},function(module,exports,__webpack_require__){module.exports=__webpack_require__(2)(5)},function(module,exports,__webpack_require__){module.exports=__webpack_require__(2)(9)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7),__webpack_require__(8),__webpack_require__(9),__webpack_require__(10)],__WEBPACK_AMD_DEFINE_RESULT__=function(template,_,backbone,json2){window.console=window.console||{log:function(){}};var pageDataObj;pageDataObj=window.pageCurrentData,window.pageDataObj=pageDataObj;var tksHost=pageDataObj.tksHost||"";return{pageDataObj:pageDataObj,tksHost:tksHost}}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;
/*!art-template - Template Engine | http://aui.github.com/artTemplate/*/
!function(){function a(a){return a.replace(t,"").replace(u,",").replace(v,"").replace(w,"").replace(x,"").split(y)}function b(a){return"'"+a.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}function c(c,d){function e(a){return m+=a.split(/\n/).length-1,k&&(a=a.replace(/\s+/g," ").replace(/<!--[\w\W]*?-->/g,"")),a&&(a=s[1]+b(a)+s[2]+"\n"),a}function f(b){var c=m;if(j?b=j(b,d):g&&(b=b.replace(/\n/g,function(){return m++,"$line="+m+";"})),0===b.indexOf("=")){var e=l&&!/^=[=#]/.test(b);if(b=b.replace(/^=[=#]?|[\s;]*$/g,""),e){var f=b.replace(/\s*\([^\)]+\)/,"");n[f]||/^(include|print)$/.test(f)||(b="$escape("+b+")")}else b="$string("+b+")";b=s[1]+b+s[2]}return g&&(b="$line="+c+";"+b),r(a(b),function(a){if(a&&!p[a]){var b;b="print"===a?u:"include"===a?v:n[a]?"$utils."+a:o[a]?"$helpers."+a:"$data."+a,w+=a+"="+b+",",p[a]=!0}}),b+"\n"}var g=d.debug,h=d.openTag,i=d.closeTag,j=d.parser,k=d.compress,l=d.escape,m=1,p={$data:1,$filename:1,$utils:1,$helpers:1,$out:1,$line:1},q="".trim,s=q?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"],t=q?"$out+=text;return $out;":"$out.push(text);",u="function(){var text=''.concat.apply('',arguments);"+t+"}",v="function(filename,data){data=data||$data;var text=$utils.$include(filename,data,$filename);"+t+"}",w="'use strict';var $utils=this,$helpers=$utils.$helpers,"+(g?"$line=0,":""),x=s[0],y="return new String("+s[3]+");";r(c.split(h),function(a){a=a.split(i);var b=a[0],c=a[1];1===a.length?x+=e(b):(x+=f(b),c&&(x+=e(c)))});var z=w+x+y;g&&(z="try{"+z+"}catch(e){throw {filename:$filename,name:'Render Error',message:e.message,line:$line,source:"+b(c)+".split(/\\n/)[$line-1].replace(/^\\s+/,'')};}");try{var A=new Function("$data","$filename",z);return A.prototype=n,A}catch(B){throw B.temp="function anonymous($data,$filename) {"+z+"}",B}}var d=function(a,b){return"string"==typeof b?q(b,{filename:a}):g(a,b)};d.version="3.0.0",d.config=function(a,b){e[a]=b};var e=d.defaults={openTag:"<%",closeTag:"%>",escape:!0,cache:!0,compress:!1,parser:null},f=d.cache={};d.render=function(a,b){return q(a,b)};var g=d.renderFile=function(a,b){var c=d.get(a)||p({filename:a,name:"Render Error",message:"Template not found"});return b?c(b):c};d.get=function(a){var b;if(f[a])b=f[a];else if("object"==typeof document){var c=document.getElementById(a);if(c){var d=(c.value||c.innerHTML).replace(/^\s*|\s*$/g,"");b=q(d,{filename:a})}}return b};var h=function(a,b){return"string"!=typeof a&&(b=typeof a,"number"===b?a+="":a="function"===b?h(a.call(a)):""),a},i={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},j=function(a){return i[a]},k=function(a){return h(a).replace(/&(?![\w#]+;)|[<>"']/g,j)},l=Array.isArray||function(a){return"[object Array]"==={}.toString.call(a)},m=function(a,b){var c,d;if(l(a))for(c=0,d=a.length;d>c;c++)b.call(a,a[c],c,a);else for(c in a)b.call(a,a[c],c)},n=d.utils={$helpers:{},$include:g,$string:h,$escape:k,$each:m};d.helper=function(a,b){o[a]=b};var o=d.helpers=n.$helpers;d.onerror=function(a){var b="Template Error\n\n";for(var c in a)b+="<"+c+">\n"+a[c]+"\n\n";"object"==typeof console&&console.error(b)};var p=function(a){return d.onerror(a),function(){return"{Template Error}"}},q=d.compile=function(a,b){function d(c){try{return new i(c,h)+""}catch(d){return b.debug?p(d)():(b.debug=!0,q(a,b)(c))}}b=b||{};for(var g in e)void 0===b[g]&&(b[g]=e[g]);var h=b.filename;try{var i=c(a,b)}catch(j){return j.filename=h||"anonymous",j.name="Syntax Error",p(j)}return d.prototype=i.prototype,d.toString=function(){return i.toString()},h&&b.cache&&(f[h]=d),d},r=n.$each,s="break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined",t=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|\s*\.\s*[$\w\.]+/g,u=/[^\w$]+/g,v=new RegExp(["\\b"+s.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),w=/^\d[^,]*|,\d[^,]*/g,x=/^,+|,+$/g,y=/^$|,+/;__WEBPACK_AMD_DEFINE_RESULT__=function(){return d}.call(exports,__webpack_require__,exports,module),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}()},function(module,exports,__webpack_require__){module.exports=__webpack_require__(2)(4)},function(module,exports,__webpack_require__){module.exports=__webpack_require__(2)(3)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[],__WEBPACK_AMD_DEFINE_RESULT__=function(){"use strict";function f(n){return n<10?"0"+n:n}function this_value(){return this.valueOf()}function quote(string){return rx_escapable.lastIndex=0,rx_escapable.test(string)?'"'+string.replace(rx_escapable,function(a){var c=meta[a];return"string"==typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,partial,mind=gap,value=holder[key];switch(value&&"object"==typeof value&&"function"==typeof value.toJSON&&(value=value.toJSON(key)),"function"==typeof rep&&(value=rep.call(holder,key,value)),typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value)return"null";if(gap+=indent,partial=[],"[object Array]"===Object.prototype.toString.apply(value)){for(length=value.length,i=0;i<length;i+=1)partial[i]=str(i,value)||"null";return v=0===partial.length?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]",gap=mind,v}if(rep&&"object"==typeof rep)for(length=rep.length,i=0;i<length;i+=1)"string"==typeof rep[i]&&(k=rep[i],v=str(k,value),v&&partial.push(quote(k)+(gap?": ":":")+v));else for(k in value)Object.prototype.hasOwnProperty.call(value,k)&&(v=str(k,value),v&&partial.push(quote(k)+(gap?": ":":")+v));return v=0===partial.length?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}",gap=mind,v}}"object"!=typeof JSON&&(JSON={});var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value);var gap,indent,meta,rep;return"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(value,replacer,space){var i;if(gap="",indent="","number"==typeof space)for(i=0;i<space;i+=1)indent+=" ";else"string"==typeof space&&(indent=space);if(rep=replacer,replacer&&"function"!=typeof replacer&&("object"!=typeof replacer||"number"!=typeof replacer.length))throw new Error("JSON.stringify");return str("",{"":value})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(holder,key){var k,v,value=holder[key];if(value&&"object"==typeof value)for(k in value)Object.prototype.hasOwnProperty.call(value,k)&&(v=walk(value,k),void 0!==v?value[k]=v:delete value[k]);return reviver.call(holder,key,value)}var j;if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")}),JSON}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(9),__webpack_require__(8),__webpack_require__(6),__webpack_require__(12),__webpack_require__(18),__webpack_require__(20),__webpack_require__(154),__webpack_require__(155),__webpack_require__(5),__webpack_require__(13),__webpack_require__(156),__webpack_require__(157),__webpack_require__(158),__webpack_require__(159),__webpack_require__(130),__webpack_require__(133)],__WEBPACK_AMD_DEFINE_RESULT__=function(Backbone,_,config,helpers,container,modules,pageAjax,Livechat,eventBus,tools,animation,compositionEvent,showMore,navScroll,boss3Receipt,boss3Address){var pageEvent,models=modules.models,views=modules.views,pageDataObj=config.pageDataObj,orderId=pageDataObj.baseInfo.orderId;return pageEvent={firstInit:function(){return 1==pageDataObj.isHide?void views.order.showNotHaveThisOrder():(new Livechat,pageDataObj.showSwitch.isNeedPerfectTourist&&!pageDataObj.beforeDayNum&&views.header.showPerfectTips(),(pageDataObj.showSwitch.checkedLossFlagAbord||pageDataObj.showSwitch.checkedLossFlag)&&0==pageDataObj.baseInfo.changeType&&75!==pageDataObj.orderType&&(eventBus.trigger("begainCancelOrder",30),eventBus.trigger("getAccountInfo")),animation.watchScroll({moduleClass:"modular"}),animation.watchFooter(),showMore.init(),navScroll.init($("#m-left-nav"),$(".modular")),boss3Receipt.init(),boss3Receipt.showPage(),boss3Address.init(),models.recommend.init(),models.returnMaterial&&models.returnMaterial.init(pageDataObj.returnMaterial),void(window.PERFORMANCE&&window.d&&(window.PERFORMANCE.r=(new Date).getTime()-window.d.getTime())))},asyncInit:function(){eventBus.trigger("ifReOrder")},contactFlightTrip:function(data){views.airplane.showScheduleTpl(data,"机票行程单")},contactHotelTrip:function(data){views.hotel.showScheduleTpl(data)},showAttachmentsTab:function(data,text){views.airplane.showScheduleTpl(data,text)},openListAddress:function(){models.deliveryAddress.init(pageDataObj.deliveryAddress),models.deliveryAddress.openPanel()},confirmAjax:function(){var index=layer.load("请稍候...");pageAjax.getGroupNotification({orderId:pageDataObj.baseInfo.orderId}).always(function(){layer.close(index)}).done(function(res){if(res&&res.success&&res.data){var src=res.data.contents;views.header.showConfirmTravel(src)}else views.modify.layerAlert("errorService")}).fail(function(res){views.modify.layerAlert("errorService")})},showConfirmToGroup:function(){var index=layer.load("请稍候...");pageAjax.getConfirmNotification({orderId:pageDataObj.baseInfo.orderId}).always(function(){layer.close(index),layer.close(window.confirmTravelIndex)}).done(function(res){if(res&&res.success&&res.data){var isConfirmed=res.data.isConfirmed;views.header.isConfirmed(isConfirmed)}else views.modify.layerAlert("errorService")}).fail(function(res){views.modify.layerAlert("errorService")})},cancelThisOrder:function(e){pageDataObj.baseInfo&&75==pageDataObj.baseInfo.orderType?pageDataObj.showSwitch&&pageDataObj.showSwitch.cancelOrder?views.cancel.confirmReason():pageDataObj.showSwitch&&pageDataObj.showSwitch.isCancelOrder&&views.cancel.showCancelReason():views.cancel.confirmReason()},begainCancelOrder:function(waitTime,flag){layer.load("订单核损中，请耐心等待"+waitTime+"秒"),window.waitCancelOrder=setTimeout(function(){waitTime--,waitTime>0?eventBus.trigger("begainCancelOrder",waitTime):(layer.closeAll(),window.clearTimeout(window.waitCancelOrder),window.getAccountInfoIndex.abort(),flag?views.modify.layerAlert("cancelFail"):views.modify.layerAlert("modifyFail"))},1e3)},beforePayCancelOrderAjax:function(typeid,text){layer.load("请稍候..."),window.beforePayCancelOrderAjax=pageAjax.beforePayCancelOrder(orderId,parseInt(typeid),text).always(function(){}).done(function(res){layer.closeAll(),res&&res.success&&res.data&&100==res.data.code?window.location.reload():views.modify.layerAlert("cancelFail")}).fail(function(error){views.modify.layerAlert("busy")})},begainCancelOrderAjax:function(typeid,text){window.cancelOrderAjax=pageAjax.cancelOrder(typeid,text).always(function(){window.clearTimeout(window.waitCancelOrder),layer.closeAll()}).done(function(res){res&&res.success?75==pageDataObj.baseInfo.orderType?res.data&&100==res.data.code?window.location.href="tn?r=user/user/accountDetail&orderId="+pageDataObj.baseInfo.orderId+"&orderType="+pageDataObj.baseInfo.orderType+"&payAmount="+pageDataObj.baseInfo.payAmount+"&usedTravelCouponsPrice="+pageDataObj.baseInfo.usedTravelCouponsPrice+"&render=0":views.modify.layerAlert("busy"):window.location.href="tn?r=user/user/accountDetail&orderId="+pageDataObj.baseInfo.orderId+"&orderType="+pageDataObj.baseInfo.orderType+"&render=0":views.modify.layerAlert("busy")}).fail(function(error){views.modify.layerAlert("busy")})},getAccountInfo:function(){window.getAccountInfoIndex=$.when(pageAjax.getOrderAccountInfo(pageDataObj.baseInfo.orderId),pageAjax.getContract(pageDataObj.baseInfo.orderId)).always(function(){layer.closeAll()}).done(function(res1,res2){res1[0].success&&res2[0].success?(window.clearTimeout(window.waitCancelOrder),res1[0].isValidDate?0==res1[0].content.changeType?views.modify.showAccountInfo(res1[0],res2[0],0):views.modify.showAccountInfo(res1[0],res2[0],1):views.modify.layerNoValidDate("noValidDate")):(window.clearTimeout(window.waitCancelOrder),views.cancel.showHeSun())}).fail(function(res1,res2){window.clearTimeout(window.waitCancelOrder),views.cancel.showHeSun()})},begainModifyOrderAjax:function(data){window.begainModifyAjax=pageAjax.applyDelTourist(data).done(function(res){res.success?eventBus.trigger("getAccountInfo",!1):(layer.closeAll(),window.clearTimeout(window.waitCancelOrder),views.modify.layerAlert("modifyFail"),res.flightTicket||views.modify.layerAlert("flightTip"))}).fail(function(){layer.closeAll(),window.clearTimeout(window.waitCancelOrder),views.modify.layerAlert("modifyFail")})},confirmCancelOrder:function(){var showLoading=layer.load("loading...");pageAjax.confirmCancelOrder(pageDataObj.baseInfo.orderId).always(function(){layer.close(showLoading)}).done(function(res){res&&res.success?views.modify.layerAlert("system",!0):views.modify.layerAlert("busy")}).fail(function(){views.modify.layerAlert("busy")})},confirmModifyOrder:function(){var showLoading=layer.load("loading...");pageAjax.confirmModifyOrder(pageDataObj.baseInfo.orderId).always(function(){layer.close(showLoading)}).done(function(res){res&&res.success?views.modify.layerAlert("system",!0):res.flightTicket?views.modify.layerAlert("busy"):views.modify.layerAlert("flightTip")}).fail(function(){views.modify.layerAlert("busy")})},cancelOrderRegretFun:function(flag){var showLoading=layer.load("loading...");pageAjax.cancelOrderRegret().always(function(){layer.close(showLoading)}).done(function(res){res&&res.success?window.location.href="/tn?r=user/user/newOrderDetail&id="+pageDataObj.baseInfo.orderId:flag?"":views.modify.layerAlert("busy")}).fail(function(){flag?"":views.modify.layerAlert("busy")})},toModifyTourists:function(){var showSwitch=pageDataObj.showSwitch,baseInfo=pageDataObj.baseInfo;showSwitch.isTourPerimeter&&baseInfo.isAround?showSwitch.isPackageRes?views.modify.showModifyTourists():views.modify.layerAlert("noModify"):views.modify.showModifyTourists()},openListProgress:function(){var newData,logisticData,data=pageDataObj.expressProgress;return!_.isEmpty(data.list)&&(newData=models.present.addClassName(data.list),logisticData={expressStatus:data.baseInfo.expressStatus,express:newData},void views.receipt.showLogisticsPanel(logisticData))},openVisaListProgress:function(data){views.receipt.showLogisticsPanel(data)},updateReceiptAddress:function(data){pageAjax.updateUserAddress(data).done(function(res){res.success&&models.receipt.updateAddress(data)})},saveDeliveryAddress:function(data){pageAjax.saveNewAddress(data).done(function(res){res.success&&models.deliveryAddress.addList(data,res)})},resetDefaultAddress:function(address){pageAjax.setDefaultAddress({addressId:address.address_id}).done(function(data){})},cardUniqueIdAjax:function(data){pageAjax.cardIdCallback(data).done(function(res){res&&res.success?views.header.cardUniqueIdAjaxSuccess(res):(views.header.cardUniqueIdAjaxFail(),views.header.layerAlert("busy"))}).fail(function(error){views.header.cardUniqueIdAjaxFail(),views.header.layerAlert("busy")})},beforSignModifyAjax:function(){pageAjax.publicRtxInfo({orderId:pageDataObj.baseInfo.orderId}).done(function(res){window.location.href=pageDataObj.tksHost+"/SignBack/index?orderId="+pageDataObj.baseInfo.orderId}).fail(function(error){window.location.href=pageDataObj.tksHost+"/SignBack/index?orderId="+pageDataObj.baseInfo.orderId})},begainSignContractAjax:function(data){var orderId=data.orderId,key=data.key,html=(data.text,"/tn?r=order/tourV3Order/getExtraContract&orderId="+orderId+"&type="+key+"&html=1");return html?(html='<iframe src="'+html+'" class="extraContractBox"></iframe>',void views.sign.showThisIframe(html,data)):void views.sign.layerAlert("failSign")},signService:function(orderId,key){pageAjax.signExtraContract({orderId:orderId,type:key}).done(function(res){res&&res.success?(views.sign.layerAlert("successSign"),location.reload()):views.sign.layerAlert("errorSign")}).fail(function(error){views.sign.layerAlert("errorSign")})},deleteDevAddress:function(id,i){pageAjax.deleteAddress({addressId:id}).done(function(data){data.success&&models.deliveryAddress.deleteAddress(i)})},setGiftDefaultAddress:function(address){models.present.setDefaultAddress(address)},updateDeliveryAddress:function(data){pageAjax.updateUserAddress(data).done(function(res){res.success&&(models.deliveryAddress.set({isShowInput:!1}),models.deliveryAddress.updateAddress(data))})},restOrderAddress:function(data,receiveInfo){pageAjax.restOrderAddress(data).done(function(res){res&&res.success?eventBus.trigger("setGiftDefaultAddress",receiveInfo):views.header.layerAlert("保存数据")}).fail(function(){views.header.layerAlert("保存数据")})}},window.loginSuccess=function(){eventBus.trigger("login")},window.getSelectHotelData=function(data){window.selectHotelData=data,$(window).trigger("selectedHotel"),$(".allHotelPath").hide(),$(".all_hotel_path_bg").hide()},window.closeHotelWindow=function(){$(".allHotelPath").hide(),$(".all_hotel_path_bg").hide(),$("html,body").animate({scrollTop:$("#m-hotel").offset().top},500)},window.closeHotelDetail=function(){$(window).trigger("closeHotelDetail")},pageEvent}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},function(module,exports,__webpack_require__){var template=__webpack_require__(7),_=__webpack_require__(8),tools=__webpack_require__(13),constant=__webpack_require__(17);template.helper("_",_),template.helper("Math",Math),template.helper("helperGetConstant",function(){return constant}),template.helper("formatTime",function(val){var distancetime=1e3*val,min=Math.floor(distancetime/1e3/60%60),hour=Math.floor(distancetime/1e3/60/60%24);return min<10&&(min="0"+min),hour<10&&(hour="0"+hour),hour+"小时"+min+"分"}),template.helper("replaceBr",function(val){return val.replace(/\<br\>/g,",")}),template.helper("dealWithPrice",function(val){return parseInt(val)>=0?"￥"+val:"-￥"+Math.abs(val)}),template.helper("showPrice",function(val){var absVal=Math.abs(val);return val<0?"-￥"+absVal:"￥"+absVal}),template.helper("isShowLinker",function(data1,data2){if(data1&&data2)return"/"}),template.helper("makeString",function(charArr,key){var finalString="";if(!charArr||!charArr.length||"object"!=typeof charArr)return finalString;for(var k=0;k<charArr.length;k++)finalString.length?charArr[k]&&(finalString+=key+charArr[k]):charArr[k]&&(finalString+=charArr[k]);return finalString}),template.helper("helperShowPrice",tools.showPriceHelper),template.helper("helperIsShowFree",tools.isShowFree),template.helper("helperAirplaneShowPrice",function(price){var intPrice=parseInt(price),returnStr="";if(intPrice<0)returnStr+='<span class="tiny-font">-￥</span>';else{if(!(intPrice>=0))return"--";returnStr+='<span class="tiny-font">+￥</span>'}return returnStr+=Math.abs(intPrice)}),template.helper("helperGetJourney",function(order,journeyCount){if(journeyCount>2){var arr=["一","二","三","四","五","六","七","八","九"];return"第"+arr[order]}return 0==order?"去":"返"}),template.helper("helperFormatFilterName",function(val){var name;switch(val){case"routeLineList":name="直飞/中转";break;case"airLineCompanyList":name="航空公司";break;case"departureTimeSerialList":name="出发时间";break;case"arrivalTimeSerialList":name="到达时间";break;case"transferCityList":name="中转城市";break;case"transferDurationList":name="中转时长";break;case"departureAirportList":name="出发机场";break;case"arrivalAirportList":name="到达机场";break;case"cabinSerialList":name="舱位等级"}return name}),template.helper("helperGetSortInfo",function(sortData,key){var resultData={};return _.each(sortData,function(cell){cell.code==key&&(resultData=cell)}),resultData}),template.helper("helperTimeTransfer",function(timeStr){return tools.isEmpty(timeStr)?"":String.prototype.substr.call(timeStr,0,5)}),template.helper("helperProductCalendarPrice",function(reductions){var price=0;if(reductions){for(var j=0;j<reductions.length;j++){var oneReductions=reductions[j];if(1==oneReductions.type||5==oneReductions.type){price+=oneReductions.total_reduction;break}3==oneReductions.type&&(price="增加抵用券使用")}"number"==typeof price&&(0===price?price="￥0":price<0?price="-￥"+Math.abs(price):price>0&&(price="￥"+price))}return price}),template.helper("helperResourceCalendarPrice",function(reductions){var price=0;if(reductions){for(var j=0;j<reductions.length;j++){var oneReductions=reductions[j];if(1==oneReductions.proWay){var price=oneReductions.totalReduction;break}}"number"==typeof price&&(0===price?price="￥0":price<0?price="-￥"+Math.abs(price):price>0&&(price="￥"+price))}return price}),template.helper("helperPromotionCodeInfo",function(proPromotion){var data=proPromotion.data,len=data.length;if(data&&len){for(var promotionCode=[],j=0;j<len;j++){var onePro=data[j];21==onePro.type&&promotionCode.push(onePro)}return promotionCode.length?promotionCode:void 0}}),template.helper("helperFormatFacility",function(val){var map=constant.HOTEL_FACILITY_ICON;return map[val]?map[val]:""}),template.helper("helperIsInsuranceHide",function(triggerFalg,insuranceInfo,currentIndex,defaultShowNum){if(!triggerFalg)return"";defaultShowNum||(defaultShowNum=1);var hasIsSelect=!1;_.each(insuranceInfo,function(item,index){1===item.isSelect&&(hasIsSelect=!0)});var returnStr=void 0;return hasIsSelect?(_.each(insuranceInfo,function(item,index){index===currentIndex&&1===item.isSelect&&(returnStr=!0)}),returnStr?"":"hide"):currentIndex<defaultShowNum?"":"hide"}),template.helper("helperCanShowMoreBut",function(insuranceInfo){var isAllSelect=!0;return _.each(insuranceInfo,function(item){0===item.isSelect&&(isAllSelect=!1)}),insuranceInfo.length>=2&&!isAllSelect}),template.helper("helperMultiTransportShowPrice",function(price){return'<span class="tiny-font">￥</span>'+price}),template.helper("helperFormatSeatType",function(val){var arr=["商务座","特等座","一等座","二等座","高级软卧","软卧","硬卧","软座","硬座","无座"];return arr[val]}),template.helper("helperNumToChinese",function(num){var arr=["一","二","三","四","五","六","七","八","九","十"];return arr[num]}),template.helper("helperIsImg",function(url){var reg=/.+\.(jpg|jpeg|png)/i;return!!reg.test(url)}),template.helper("helperIsHideBusPlace",function(isShowMore,insuranceInfo,currentIndex,firstShow,defaultShowNum){if(isShowMore)return"";defaultShowNum||(defaultShowNum=5);var hasIsSelect=!1;_.each(insuranceInfo,function(item,index){1===item.isSelect&&(hasIsSelect=!0)});var returnStr=void 0;return hasIsSelect&&!firstShow?(_.each(insuranceInfo,function(item,index){index===currentIndex&&1===item.isSelect&&(returnStr=!0)}),returnStr?"":"hide"):currentIndex<defaultShowNum?"":"hide"}),template.helper("formatIcon",function(type){var result;switch(type){case 1:result="resource_traffic_icon";break;case 2:result="resource_visit_icon";break;case 3:result="resource_leisure_icon";break;case 4:result="resource_pass_icon";break;case 5:result="resource_card_icon";break;case 6:result="resource_guide_icon";break;case 7:result="resource_shore_icon";break;case 8:result="resource_fee_icon";break;case 9:result="resource_wifi_icon";break;case 10:result="resource_adult_bed_icon";break;case 11:result="resource_child_bed_icon";break;case 12:result="resource_room_icon";break;case 13:result="resource_local_icon";break;case 14:result="resource_marry_icon";break;case 110:result="resource_visa_icon"}return result}),template.helper("helperFormatText",function(type){return tools.formatText.apply(tools,arguments)}),template.helper("helperGetTypeByCode",function(code){return tools.getTypeByCode.apply(tools,arguments)}),template.helper("helperFormatDrawType",function(val){var result;switch(val){case 1:result="实体票";break;case 8:result="预付电子票";break;case 9:result="景区现付";break;case 10:result="第三方配送"}return result}),template.helper("helperFormatEnterWay",function(val){var result;switch(val){case 1:result="短信换票入园";break;case 2:result="短信二维码入园";break;case 3:result="有效证件入园";break;case 4:result="邮件打印凭证入园";break;case 5:result="导游带团入园";break;case 6:result="电话预约入园"}return result}),template.helper("helperFormatRecommendNote",function(vehicleGroupInfos){return"最多可乘坐"+vehicleGroupInfos.passengerNumber+"人，最多可携带"+vehicleGroupInfos.luggageNumber+"个行李箱"}),template.helper("helperFormatCalendarDate",function(date){return date=tools.formatDate(date),date.getFullYear()+"年"+tools.formatMonth(date.getMonth()+1)+"月"}),template.helper("helperGetCalendarDate",function(date,type){date=tools.formatDate(date);var month=date.getMonth()+1;return"prev"==type?month--:month++,13==month&&(month=1),0==month&&(month=12),month+="月"}),template.helper("helperFormatCalendarDay",function(date){var day;return date==tools.parseDate(new Date)?day="今天":(date=tools.formatDate(date),day=date.getDate()),day}),template.helper("helperFormatDate",function(dateStr){var returnStr="",dataArr=dateStr?dateStr.split("-"):[];return 3!=dataArr.length?dateStr:(returnStr+=dataArr[0]+"-",returnStr+=(2==dataArr[1].length?dataArr[1]:"0"+dataArr[1])+"-",returnStr+=2==dataArr[2].length?dataArr[2]:"0"+dataArr[2])}),template.helper("helperIsEmpty",tools.isEmpty),template.helper("helperIsExist",tools.isExist),template.helper("helperFormatProductName",function(name){if(name){var re=/(\[.+])?((<|&lt;)(.+)(>|&gt;))?.*/,result=name.match(re);if(result){var festival=result[1],abbr=result[4];abbr&&(name=abbr,festival&&(name=festival+abbr))}}return name}),template.helper("helperFormatBooleanTip",function(result){return result?"是":"否"}),template.helper("helperFormatRoomTypeDesc",function(val){var result;switch(val){case 1:result="无烟房";break;case 2:result="可无烟处理";break;case 3:result="全部无窗";break;case 4:result="部分无窗"}return result}),template.helper("helperTransformNull",tools.transformNull)},function(module,exports,__webpack_require__){var config=__webpack_require__(6),pageDataObj=config.pageDataObj,$=__webpack_require__(14),layer=__webpack_require__(15),constant=(__webpack_require__(16),__webpack_require__(17));module.exports={insuranceFormat:function(data){var for_insurance=data;return _.each(for_insurance,function(single,index){"airTickets"!=index&&"trainTickets"!=index&&"busTickets"!=index||null==single&&(for_insurance[index]=0)}),for_insurance},validator:function(){var validators=[];return{add:function(func){var params=_.rest(arguments);validators.push({func:func,params:params})},valid:function(){return _.every(validators,function(validator){var result=validator.func.apply(this,validator.params);return result})}}},showPriceHelper:function(price,decimalLength){var str="";return decimalLength=decimalLength||0,parseInt(price)!==price&&(price=price.toFixed(decimalLength)),str+=price>=0?"￥":"-￥",str+=Math.abs(price)},isShowFree:function(price,decimalLength,flag){var result;return price=parseFloat(price),decimalLength=decimalLength||0,parseInt(price)!==price&&(price=price.toFixed(decimalLength)),result=0==price?flag?"限时赠送":"免费赠送":"￥"+price},toFixed:function(num,len){return parseFloat(num.toFixed(len||0))},layer:function(obj){obj=obj||{};var title=obj.title||"提示",closeBtn=void 0!=obj.closeBtn?obj.closeBtn:[0,!0],btns=obj.btns||1,btn=obj.btn||["确定"],line=obj.line||1,boxHeights=["","200px","200px","232px","264px"],heights=["",32,64,96,128],height=boxHeights[line],yes=obj.yes,no=obj.no,close=obj.close,end=obj.end,msg=obj.msg,time=obj.time,icon=void 0!=obj.icon?obj.icon:1,classList=["T-alert-success","T-alert-fail","T-alert-note"],html='<div class="T-layer-alert"><i class="T-alert '+classList[icon]+'"></i>'+msg+"</div>",param={type:1,title:title,closeBtn:closeBtn,btns:btns,btn:btn,area:["430px",height],page:{html:html},success:function(el){var alert=$(el).find(".T-layer-alert"),tmpHeight=alert.height(),tmpIndex=_.indexOf(heights,tmpHeight);if(tmpIndex!=line){var newHeight=parseInt(boxHeights[tmpIndex]);$(el).height(newHeight),$(el).find(".xubox_border").height(newHeight+12),$(window).trigger("resize")}}};return time&&(param.time=time),yes&&(param.yes=yes),no&&(param.no=no),close&&(param.close=close),end&&(param.end=end),$.layer(param)},responsive:function(el,targetHeight){function change(){var wh=$(window).height();height=wh>=targetHeight?targetHeight:wh,$(el).height(height)}var height;return change(),{height:height}},scrollTo:function($dom){$("html,body").animate({scrollTop:$dom.offset().top},500)},formatDate:function(date){return date=date.replace(/-/g,"/"),new Date(date)},parseDate:function(date){return date.getFullYear()+"-"+this.formatMonth(date.getMonth()+1)+"-"+this.formatDay(date.getDate())},formatMonth:function(month){return month=month<10?"0"+month:""+month},formatDay:function(day){return day=day<10?"0"+day:""+day},formatHour:function(hour){return hour=hour<10?"0"+hour:""+hour},getDiffTime:function(t1,t2,type){var diffTime=new Date(t1).getTime()-new Date(t2).getTime(),diffYear=new Date(t1).getFullYear()-new Date(t2).getFullYear(),diffMonth=Math.floor(diffTime/2592e6),diffDay=Math.floor(diffTime/864e5),diffHour=Math.floor(diffTime/36e5),diffMinute=Math.floor(diffTime/6e4),diffSecond=Math.floor(diffTime/1e3),res={year:diffYear,month:diffMonth,day:diffDay,hour:diffHour,minute:diffMinute,second:diffSecond};return res[type]||0},moveCursor:function(obj,s,e){if(obj.createTextRange){var rng=obj.createTextRange();rng.moveStart("character",s),rng.moveEnd("character",e),rng.select()}else obj.setSelectionRange(s,e),obj.focus()},getCountDays:function(data){var curDate=data,curMonth=curDate.getMonth();return curDate.setMonth(curMonth+1),curDate.setDate(0),curDate.getDate()},alreadyInput:function(){return pageDataObj[constant.COMPOSITION_EVENT_NAME]},isEmpty:function(val){return"null"===val||"undefined"===val||_.isEmpty(val)},isExist:function(val){return"null"!==val&&"undefined"!==val&&"0"!==val&&!!val},transformNull:function(val){return"null"!==val&&"undefined"!==val&&void 0!==val||(val=""),val},safeEventTrack:function(m){window.eventTrack&&window.eventTrack.push({text:m})},formatText:function(type){var name;return _.some(constant.ADDITION_TYPE,function(item){return item.type==type&&(name=item.name)}),name},getTypeByCode:function(code){var type;return _.some(constant.ADDITION_TYPE,function(item){return item.code==code&&(type=item.type)}),type},addDate:function(date,days){return date.setDate(date.getDate()+days),date},closeOther:function(retains){$.each($(".xubox_layer"),function(){var b=$(this),index=parseInt(b.attr("times"));retains.indexOf(index)==-1&&layer.close(index);})}}},function(module,exports,__webpack_require__){module.exports=__webpack_require__(2)(1)},function(module,exports,__webpack_require__){module.exports=__webpack_require__(2)(8)},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(a,b){"use strict";var c,d,e={getPath:function(){var a=document.scripts,b=a[a.length-1],c=b.src;if(!b.getAttribute("merge"))return c.substring(0,c.lastIndexOf("/")+1)}(),enter:function(a){13===a.keyCode&&a.preventDefault()},config:{},end:{},btn:["&#x786E;&#x5B9A;","&#x53D6;&#x6D88;"],type:["dialog","page","iframe","loading","tips"]},f={v:"2.1",ie6:!!a.ActiveXObject&&!a.XMLHttpRequest,index:0,path:e.getPath,config:function(a,b){var d=0;return a=a||{},f.cache=e.config=c.extend(e.config,a),f.path=e.config.path||f.path,"string"==typeof a.extend&&(a.extend=[a.extend]),f.use("skin/layer.css",a.extend&&a.extend.length>0?function g(){var c=a.extend;f.use(c[c[d]?d:d-1],d<c.length?function(){return++d,g}():b)}():b),this},use:function(a,b,d){var e=c("head")[0],a=a.replace(/\s/g,""),g=/\.css$/.test(a),h=document.createElement(g?"link":"script"),i="layui_layer_"+a.replace(/\.|\//g,"");return f.path?(g&&(h.rel="stylesheet"),h[g?"href":"src"]=/^http:\/\//.test(a)?a:f.path+a,h.id=i,c("#"+i)[0]||e.appendChild(h),function j(){(g?1989===parseInt(c("#"+i).css("width")):f[d||i])?function(){b&&b();try{g||e.removeChild(h)}catch(a){}}():setTimeout(j,100)}(),this):void 0},ready:function(a,b){var d="function"==typeof a;return d&&(b=a),f.config(c.extend(e.config,function(){return d?{}:{path:a}}()),b),this},alert:function(a,b,d){var e="function"==typeof b;return e&&(d=b),f.open(c.extend({content:a,yes:d},e?{}:b))},confirm:function(a,b,d,g){var h="function"==typeof b;return h&&(g=d,d=b),f.open(c.extend({content:a,btn:e.btn,yes:d,cancel:g},h?{}:b))},msg:function(a,d,g){var i="function"==typeof d,j=e.config.skin,k=(j?j+" "+j+"-msg":"")||"layui-layer-msg",l=h.anim.length-1;return i&&(g=d),f.open(c.extend({content:a,time:3e3,shade:!1,skin:k,title:!1,closeBtn:!1,btn:!1,end:g},i&&!e.config.skin?{skin:k+" layui-layer-hui",shift:l}:function(){return d=d||{},(-1===d.icon||d.icon===b&&!e.config.skin)&&(d.skin=k+" "+(d.skin||"layui-layer-hui")),d}()))},load:function(a,b){return f.open(c.extend({type:3,icon:a||0,shade:.01},b))},tips:function(a,b,d){return f.open(c.extend({type:4,content:[a,b],closeBtn:!1,time:3e3,maxWidth:210},d))}},g=function(a){var b=this;b.index=++f.index,b.config=c.extend({},b.config,e.config,a),b.creat()};g.pt=g.prototype;var h=["layui-layer",".layui-layer-title",".layui-layer-main",".layui-layer-dialog","layui-layer-iframe","layui-layer-content","layui-layer-btn","layui-layer-close"];h.anim=["layui-anim","layui-anim-01","layui-anim-02","layui-anim-03","layui-anim-04","layui-anim-05","layui-anim-06"],g.pt.config={type:0,shade:.3,fix:!0,move:h[1],title:"&#x4FE1;&#x606F;",offset:"auto",area:"auto",closeBtn:1,time:0,zIndex:19891014,maxWidth:360,shift:0,icon:-1,scrollbar:!0,tips:2},g.pt.vessel=function(a,b){var c=this,d=c.index,f=c.config,g=f.zIndex+d,i="object"==typeof f.title,j=f.maxmin&&(1===f.type||2===f.type),k=f.title?'<div class="layui-layer-title" style="'+(i?f.title[1]:"")+'">'+(i?f.title[0]:f.title)+"</div>":"";return f.zIndex=g,b([f.shade?'<div class="layui-layer-shade" id="layui-layer-shade'+d+'" times="'+d+'" style="'+("z-index:"+(g-1)+"; background-color:"+(f.shade[1]||"#000")+"; opacity:"+(f.shade[0]||f.shade)+"; filter:alpha(opacity="+(100*f.shade[0]||100*f.shade)+");")+'"></div>':"",'<div class="'+h[0]+" "+(h.anim[f.shift]||"")+(" layui-layer-"+e.type[f.type])+(0!=f.type&&2!=f.type||f.shade?"":" layui-layer-border")+" "+(f.skin||"")+'" id="'+h[0]+d+'" type="'+e.type[f.type]+'" times="'+d+'" showtime="'+f.time+'" conType="'+(a?"object":"string")+'" style="z-index: '+g+"; width:"+f.area[0]+";height:"+f.area[1]+(f.fix?"":";position:absolute;")+'">'+(a&&2!=f.type?"":k)+'<div class="layui-layer-content'+(0==f.type&&-1!==f.icon?" layui-layer-padding":"")+(3==f.type?" layui-layer-loading"+f.icon:"")+'">'+(0==f.type&&-1!==f.icon?'<i class="layui-layer-ico layui-layer-ico'+f.icon+'"></i>':"")+(1==f.type&&a?"":f.content||"")+'</div><span class="layui-layer-setwin">'+function(){var a=j?'<a class="layui-layer-min" href="javascript:;"><cite></cite></a><a class="layui-layer-ico layui-layer-max" href="javascript:;"></a>':"";return f.closeBtn&&(a+='<a class="layui-layer-ico '+h[7]+" "+h[7]+(f.title?f.closeBtn:4==f.type?"1":"2")+'" href="javascript:;"></a>'),a}()+"</span>"+(f.btn?function(){var a="";"string"==typeof f.btn&&(f.btn=[f.btn]);for(var b=0,c=f.btn.length;c>b;b++)a+='<a class="'+h[6]+b+'">'+f.btn[b]+"</a>";return'<div class="'+h[6]+'">'+a+"</div>"}():"")+"</div>"],k),c},g.pt.creat=function(){var a=this,b=a.config,g=a.index,i=b.content,j="object"==typeof i;switch("string"==typeof b.area&&(b.area="auto"===b.area?["",""]:[b.area,""]),b.type){case 0:b.btn="btn"in b?b.btn:e.btn[0],f.closeAll("dialog");break;case 2:var i=b.content=j?b.content:[b.content||"http://layer.layui.com","auto"];b.content='<iframe scrolling="'+(b.content[1]||"auto")+'" allowtransparency="true" id="'+h[4]+g+'" name="'+h[4]+g+'" onload="this.className=\'\';" class="layui-layer-load" frameborder="0" src="'+b.content[0]+'"></iframe>';break;case 3:b.title=!1,b.closeBtn=!1,-1===b.icon&&0===b.icon,f.closeAll("loading");break;case 4:j||(b.content=[b.content,"body"]),b.follow=b.content[1],b.content=b.content[0]+'<i class="layui-layer-TipsG"></i>',b.title=!1,b.shade=!1,b.fix=!1,b.tips="object"==typeof b.tips?b.tips:[b.tips,!0],b.tipsMore||f.closeAll("tips")}a.vessel(j,function(d,e){c("body").append(d[0]),j?function(){2==b.type||4==b.type?function(){c("body").append(d[1])}():function(){i.parents("."+h[0])[0]||(i.show().addClass("layui-layer-wrap").wrap(d[1]),c("#"+h[0]+g).find("."+h[5]).before(e))}()}():c("body").append(d[1]),a.layero=c("#"+h[0]+g),b.scrollbar||h.html.css("overflow","hidden").attr("layer-full",g)}).auto(g),2==b.type&&f.ie6&&a.layero.find("iframe").attr("src",i[0]),c(document).off("keydown",e.enter).on("keydown",e.enter),a.layero.on("keydown",function(a){c(document).off("keydown",e.enter)}),4==b.type?a.tips():a.offset(),b.fix&&d.on("resize",function(){a.offset(),(/^\d+%$/.test(b.area[0])||/^\d+%$/.test(b.area[1]))&&a.auto(g),4==b.type&&a.tips()}),b.time<=0||setTimeout(function(){f.close(a.index)},b.time),a.move().callback()},g.pt.auto=function(a){function b(a){a=g.find(a),a.height(i[1]-j-k-2*(0|parseFloat(a.css("padding"))))}var e=this,f=e.config,g=c("#"+h[0]+a);""===f.area[0]&&f.maxWidth>0&&(/MSIE 7/.test(navigator.userAgent)&&f.btn&&g.width(g.innerWidth()),g.outerWidth()>f.maxWidth&&g.width(f.maxWidth));var i=[g.innerWidth(),g.innerHeight()],j=g.find(h[1]).outerHeight()||0,k=g.find("."+h[6]).outerHeight()||0;switch(f.type){case 2:b("iframe");break;default:""===f.area[1]?f.fix&&i[1]>=d.height()&&(i[1]=d.height(),b("."+h[5])):b("."+h[5])}return e},g.pt.offset=function(){var a=this,b=a.config,c=a.layero,e=[c.outerWidth(),c.outerHeight()],f="object"==typeof b.offset;a.offsetTop=(d.height()-e[1])/2,a.offsetLeft=(d.width()-e[0])/2,f?(a.offsetTop=b.offset[0],a.offsetLeft=b.offset[1]||a.offsetLeft):"auto"!==b.offset&&(a.offsetTop=b.offset,"rb"===b.offset&&(a.offsetTop=d.height()-e[1],a.offsetLeft=d.width()-e[0])),b.fix||(a.offsetTop=/%$/.test(a.offsetTop)?d.height()*parseFloat(a.offsetTop)/100:parseFloat(a.offsetTop),a.offsetLeft=/%$/.test(a.offsetLeft)?d.width()*parseFloat(a.offsetLeft)/100:parseFloat(a.offsetLeft),a.offsetTop+=d.scrollTop(),a.offsetLeft+=d.scrollLeft()),c.css({top:a.offsetTop,left:a.offsetLeft})},g.pt.tips=function(){var a=this,b=a.config,e=a.layero,f=[e.outerWidth(),e.outerHeight()],g=c(b.follow);g[0]||(g=c("body"));var i={width:g.outerWidth(),height:g.outerHeight(),top:g.offset().top,left:g.offset().left},j=e.find(".layui-layer-TipsG"),k=b.tips[0];b.tips[1]||j.remove(),i.autoLeft=function(){i.left+f[0]-d.width()>0?(i.tipLeft=i.left+i.width-f[0],j.css({right:12,left:"auto"})):i.tipLeft=i.left},i.where=[function(){i.autoLeft(),i.tipTop=i.top-f[1]-10,j.removeClass("layui-layer-TipsB").addClass("layui-layer-TipsT").css("border-right-color",b.tips[1])},function(){i.tipLeft=i.left+i.width+10,i.tipTop=i.top,j.removeClass("layui-layer-TipsL").addClass("layui-layer-TipsR").css("border-bottom-color",b.tips[1])},function(){i.autoLeft(),i.tipTop=i.top+i.height+10,j.removeClass("layui-layer-TipsT").addClass("layui-layer-TipsB").css("border-right-color",b.tips[1])},function(){i.tipLeft=i.left-f[0]-10,i.tipTop=i.top,j.removeClass("layui-layer-TipsR").addClass("layui-layer-TipsL").css("border-bottom-color",b.tips[1])}],i.where[k-1](),1===k?i.top-(d.scrollTop()+f[1]+16)<0&&i.where[2]():2===k?d.width()-(i.left+i.width+f[0]+16)>0||i.where[3]():3===k?i.top-d.scrollTop()+i.height+f[1]+16-d.height()>0&&i.where[0]():4===k&&f[0]+16-i.left>0&&i.where[1](),e.find("."+h[5]).css({"background-color":b.tips[1],"padding-right":b.closeBtn?"30px":""}),e.css({left:i.tipLeft,top:i.tipTop})},g.pt.move=function(){var a=this,b=a.config,e={setY:0,moveLayer:function(){var a=e.layero,b=parseInt(a.css("margin-left")),c=parseInt(e.move.css("left"));0===b||(c-=b),"fixed"!==a.css("position")&&(c-=a.parent().offset().left,e.setY=0),a.css({left:c,top:parseInt(e.move.css("top"))-e.setY})}},f=a.layero.find(b.move);return b.move&&f.attr("move","ok"),f.css({cursor:b.move?"move":"auto"}),c(b.move).on("mousedown",function(a){if(a.preventDefault(),"ok"===c(this).attr("move")){e.ismove=!0,e.layero=c(this).parents("."+h[0]);var f=e.layero.offset().left,g=e.layero.offset().top,i=e.layero.outerWidth()-6,j=e.layero.outerHeight()-6;c("#layui-layer-moves")[0]||c("body").append('<div id="layui-layer-moves" class="layui-layer-moves" style="left:'+f+"px; top:"+g+"px; width:"+i+"px; height:"+j+'px; z-index:2147483584"></div>'),e.move=c("#layui-layer-moves"),b.moveType&&e.move.css({visibility:"hidden"}),e.moveX=a.pageX-e.move.position().left,e.moveY=a.pageY-e.move.position().top,"fixed"!==e.layero.css("position")||(e.setY=d.scrollTop())}}),c(document).mousemove(function(a){if(e.ismove){var c=a.pageX-e.moveX,f=a.pageY-e.moveY;if(a.preventDefault(),!b.moveOut){e.setY=d.scrollTop();var g=d.width()-e.move.outerWidth(),h=e.setY;0>c&&(c=0),c>g&&(c=g),h>f&&(f=h),f>d.height()-e.move.outerHeight()+e.setY&&(f=d.height()-e.move.outerHeight()+e.setY)}e.move.css({left:c,top:f}),b.moveType&&e.moveLayer(),c=f=g=h=null}}).mouseup(function(){try{e.ismove&&(e.moveLayer(),e.move.remove(),b.moveEnd&&b.moveEnd()),e.ismove=!1}catch(a){e.ismove=!1}}),a},g.pt.callback=function(){function a(){var a=g.cancel&&g.cancel(b.index);a===!1||f.close(b.index)}var b=this,d=b.layero,g=b.config;b.openLayer(),g.success&&(2==g.type?d.find("iframe").on("load",function(){g.success(d,b.index)}):g.success(d,b.index)),f.ie6&&b.IE6(d),d.find("."+h[6]).children("a").on("click",function(){var e=c(this).index();g["btn"+(e+1)]&&g["btn"+(e+1)](b.index,d),0===e?g.yes?g.yes(b.index,d):f.close(b.index):1===e?a():g["btn"+(e+1)]||f.close(b.index)}),d.find("."+h[7]).on("click",a),g.shadeClose&&c("#layui-layer-shade"+b.index).on("click",function(){f.close(b.index)}),d.find(".layui-layer-min").on("click",function(){f.min(b.index,g),g.min&&g.min(d)}),d.find(".layui-layer-max").on("click",function(){c(this).hasClass("layui-layer-maxmin")?(f.restore(b.index),g.restore&&g.restore(d)):(f.full(b.index,g),g.full&&g.full(d))}),g.end&&(e.end[b.index]=g.end)},e.reselect=function(){c.each(c("select"),function(a,b){var d=c(this);d.parents("."+h[0])[0]||1==d.attr("layer")&&c("."+h[0]).length<1&&d.removeAttr("layer").show(),d=null})},g.pt.IE6=function(a){function b(){a.css({top:f+(e.config.fix?d.scrollTop():0)})}var e=this,f=a.offset().top;b(),d.scroll(b),c("select").each(function(a,b){var d=c(this);d.parents("."+h[0])[0]||"none"===d.css("display")||d.attr({layer:"1"}).hide(),d=null})},g.pt.openLayer=function(){var a=this;f.zIndex=a.config.zIndex,f.setTop=function(a){var b=function(){f.zIndex++,a.css("z-index",f.zIndex+1)};return f.zIndex=parseInt(a[0].style.zIndex),a.on("mousedown",b),f.zIndex}},e.record=function(a){var b=[a.outerWidth(),a.outerHeight(),a.position().top,a.position().left+parseFloat(a.css("margin-left"))];a.find(".layui-layer-max").addClass("layui-layer-maxmin"),a.attr({area:b})},e.rescollbar=function(a){h.html.attr("layer-full")==a&&(h.html[0].style.removeProperty?h.html[0].style.removeProperty("overflow"):h.html[0].style.removeAttribute("overflow"),h.html.removeAttr("layer-full"))},a.layer_2_1=f,f.getChildFrame=function(a,b){return b=b||c("."+h[4]).attr("times"),c("#"+h[0]+b).find("iframe").contents().find(a)},f.getFrameIndex=function(a){return c("#"+a).parents("."+h[4]).attr("times")},f.iframeAuto=function(a){if(a){var b=f.getChildFrame("html",a).outerHeight(),d=c("#"+h[0]+a),e=d.find(h[1]).outerHeight()||0,g=d.find("."+h[6]).outerHeight()||0;d.css({height:b+e+g}),d.find("iframe").css({height:b})}},f.iframeSrc=function(a,b){c("#"+h[0]+a).find("iframe").attr("src",b)},f.style=function(a,b){var d=c("#"+h[0]+a),f=d.attr("type"),g=d.find(h[1]).outerHeight()||0,i=d.find("."+h[6]).outerHeight()||0;(f===e.type[1]||f===e.type[2])&&(d.css(b),f===e.type[2]&&d.find("iframe").css({height:parseFloat(b.height)-g-i}))},f.min=function(a,b){var d=c("#"+h[0]+a),g=d.find(h[1]).outerHeight()||0;e.record(d),f.style(a,{width:180,height:g,overflow:"hidden"}),d.find(".layui-layer-min").hide(),"page"===d.attr("type")&&d.find(h[4]).hide(),e.rescollbar(a)},f.restore=function(a){var b=c("#"+h[0]+a),d=b.attr("area").split(",");b.attr("type"),f.style(a,{width:parseFloat(d[0]),height:parseFloat(d[1]),top:parseFloat(d[2]),left:parseFloat(d[3]),overflow:"visible"}),b.find(".layui-layer-max").removeClass("layui-layer-maxmin"),b.find(".layui-layer-min").show(),"page"===b.attr("type")&&b.find(h[4]).show(),e.rescollbar(a)},f.full=function(a){var b,g=c("#"+h[0]+a);e.record(g),h.html.attr("layer-full")||h.html.css("overflow","hidden").attr("layer-full",a),clearTimeout(b),b=setTimeout(function(){var b="fixed"===g.css("position");f.style(a,{top:b?0:d.scrollTop(),left:b?0:d.scrollLeft(),width:d.width(),height:d.height()}),g.find(".layui-layer-min").hide()},100)},f.title=function(a,b){var d=c("#"+h[0]+(b||f.index)).find(h[1]);d.html(a)},f.close=function(a){var b=c("#"+h[0]+a),d=b.attr("type");if(b[0]){if(d===e.type[1]&&"object"===b.attr("conType")){b.children(":not(."+h[5]+")").remove();for(var g=0;2>g;g++)b.find(".layui-layer-wrap").unwrap().hide()}else{if(d===e.type[2])try{var i=c("#"+h[4]+a)[0];i.contentWindow.document.write(""),i.contentWindow.close(),b.find("."+h[5])[0].removeChild(i)}catch(j){}b[0].innerHTML="",b.remove()}c("#layui-layer-moves, #layui-layer-shade"+a).remove(),f.ie6&&e.reselect(),e.rescollbar(a),c(document).off("keydown",e.enter),"function"==typeof e.end[a]&&e.end[a](),delete e.end[a]}},f.closeAll=function(a){c.each(c("."+h[0]),function(){var b=c(this),d=a?b.attr("type")===a:1;d&&f.close(b.attr("times")),d=null})},e.run=function(){c=jQuery,d=c(a),h.html=c("html"),f.open=function(a){var b=new g(a);return b.index}},__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(14)],__WEBPACK_AMD_DEFINE_RESULT__=function(){return e.run(),f}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(window)},function(module,exports){module.exports={INDEX_IN_CHINESE:["一","二","三","四","五","六","七","八","九","十"],GO_BACK_IN_CHINESE:["去","返"],SEAT_MAP:["商务座","特等座","一等座","二等座","高级软卧","软卧","硬卧","软座","硬座","无座"],LEVEL_MAP:{0:{des:"",star:0},4:{des:"二星级",star:2},7:{des:"经济型",star:2},3:{des:"三星级",star:3},6:{des:"舒适型",star:3},2:{des:"四星级",star:4},8:{des:"高档型",star:4},1:{des:"五星级",star:5},5:{des:"豪华型",star:5}},BREAKFAST_MAP:{0:"无早",1:"单早",2:"双早"},MAX_FILTER_COUNT:3,MAX_FLOAT_PANEL_HEIGHT:830,ADDITION_TYPE:[{code:"jtjb",name:"交通接驳",type:1},{code:"ggy",name:"观光游",type:2},{code:"xxhd",name:"休闲活动",type:3},{code:"ggfw",name:"过关服务",type:4},{code:"qk",name:"券卡",type:5},{code:"dyfw",name:"导游服务",type:6},{code:"asgg",name:"岸上观光",type:7},{code:"gwf",name:"港务费",type:8},{code:"nwx",name:"牛无线",type:9},{code:"crjc",name:"成人加床",type:10},{code:"etjc",name:"儿童加床",type:11},{code:"dfc",name:"单房差",type:12},{code:"ddy",name:"当地游",type:13},{code:"hplp",name:"婚拍旅拍",type:14},{code:"qz",name:"签证",type:110},{code:"mp",name:"门票",type:111},{code:"ddwl",name:"当地玩乐",type:112}],ROOM_PICTURES_COUNT:4,ROOM_PICTURES_COUNT_DETAIL:5,HOTEL_FACILITY_ICON:{5:"",6:"T_wbdh",7:"T_zzxly",8:"T_xlcffw",9:"T_mftcc",10:"",11:"T_qtgzwpbxg",12:"T_ywxswdggqy",13:"",14:"T_pwfw",15:"T_yzfw",16:"",17:"T_hyt",246:"",247:"",20:"T_zct",21:"T_xct",22:"T_cft",23:"",24:"",25:"",245:"T_jdct",27:"",28:"",29:"",30:"",31:"",32:"",33:"",34:"",35:"",36:"",37:"",38:"",39:"",40:"",41:"",42:"T_swyyc",43:"",44:"",58:"T_gnctdh",59:"T_gjctdh",60:"T_mfycxxsyp",61:"",62:"",63:"T_ycxtx",64:"",65:"T_cfj",66:"T_yy",67:"T_ydyyb",68:"T_mfpzs",69:"T_zykt",70:"",71:"",72:"T_bxx",73:"",74:"T_znly",75:"T_24xsrs",76:"",77:"T_drsh",78:"T_220vdycz",79:"T_dzggdycz",80:"",81:"T_yds",82:"",89:"T_yht",90:"",244:"T_swzx",92:"",93:"",242:"T_mfwifi",243:""},MAX_ROOM_COUNT:3,NEW_ARCHITECTURE_INCLUDE:["tour_order2","self_tour2","cruise2","drive_order2","drive_routine2"],COMPOSITION_EVENT_NAME:"alreadyInput",TRAIN_PRO_MODE:[2,6,15]}},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),tpl=__webpack_require__(19),config=__webpack_require__(6),pageDataObj=config.pageDataObj,view=backbone.View.extend({el:"#m-container",initialize:function(){this.render()},render:function(){var data=pageDataObj;data.currentYear=(new Date).getFullYear();var html=tpl(data);this.$el.html(html)}});new view},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(fn){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=fn,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function(template){function anonymous($data,$filename){"use strict";var $utils=this,$out=($utils.$helpers,"");return $out+='<!-- 主体部分 -->\r\n<div class="g-wrapper">\r\n    <div class="content">\r\n\r\n        <!-- 头部信息 -->\r\n        <div class="info-box" id="m-top-info"></div>\r\n        \r\n\t\t<!-- 头部 -->\r\n\t\t<div class="g-head2nd" id="m-header"></div>\r\n\r\n        <div class="m-content-body" id="m-content-body">\r\n\r\n            <div class="m-left-nav" id="m-left-nav">\r\n\r\n            </div>\r\n            <div class="m-right-modulars" id="m-right-modulars">\r\n\r\n                <!-- 订单信息 -->\r\n                <div class="modular m-orderInfo" id="m-orderInfo"></div>\r\n\r\n                <!-- 机票信息 -->\r\n                <div class="modular m-airplaneInfo m-common-style" id="m-airplaneInfo"></div>\r\n\r\n                <!-- 火车票信息 -->\r\n                <div class="modular m-trainInfo m-common-style" id="m-trainInfo"></div>\r\n\r\n                <!-- 汽车票信息 -->\r\n                <div class="modular m-busInfo m-common-style" id="m-busInfo"></div>   \r\n\r\n                <!-- 行程套餐信息 -->\r\n                <div class="modular m-package m-common-style" id="m-package"></div>\r\n\r\n                <!-- 联运方案 -->\r\n                <div class="modular m-transport m-common-style" id="m-transport"></div>\r\n\r\n                <!-- 上车地点 -->\r\n                <div class="modular m-pickUpPoint m-common-style" id="m-pickUpPoint"></div>  \r\n\r\n                <!-- 酒店信息 -->\r\n                <div class="modular m-hotelInfo m-common-style m-six-column" id="m-hotelInfo"></div>\r\n\r\n                <!-- 邮轮 -->\r\n                <div class="modular m-cruise m-common-style" id="m-cruise"></div>\r\n\r\n                <!-- 当地参团 -->\r\n                <div class="modular m-localEvents m-common-style" id="m-localEvents"></div>\r\n\r\n                <!-- 单房差 -->\r\n                <div class="modular m-singleRoom m-common-style m-two-column" id="m-singleRoom"></div>\r\n\r\n                <!-- 升级方案 -->\r\n                <div class="modular m-upgrade m-common-style" id="m-upgrade"></div>\r\n\r\n                <!-- 接送机 -->\r\n                <div class="modular m-transfer m-common-style" id="m-transfer"></div>  \r\n\r\n                <!-- 门票 -->\r\n                <div class="modular m-ticket m-common-style" id="m-ticket"></div>  \r\n\r\n                <!-- 附加项目 -->\r\n                <div class="modular m-additional m-common-style" id="m-additional"></div>  \r\n\r\n                <!-- 附加信息 -->\r\n                <div class="modular m-bookingInfo m-common-style" id="m-bookingInfo"></div>  \r\n               \r\n                <!-- 赠品 -->\r\n                <div class="modular m-present m-common-style" id="m-present"></div> \r\n\r\n                <!-- 签证信息 -->\r\n                <div class="modular m-visa m-common-style" id="m-visa"></div>\r\n\r\n                <!-- 上门服务 -->\r\n                <div class="modular m-visiting m-common-style" id="m-visiting"></div>                  \r\n\r\n                <!-- 担保金办理 -->\r\n                <div class="modular m-guarante m-common-style" id="m-guarante"></div>\r\n\r\n                <!-- 出游计划 -->\r\n                <div class="modular m-travelPlan m-common-style" id="m-travelPlan"></div> \r\n\r\n                <!-- 用车 -->\r\n                <div class="modular m-useTheCar m-common-style" id="m-useTheCar"></div>  \r\n\r\n                <!-- 住宿 -->\r\n                <div class="modular m-accommodation m-common-style" id="m-accommodation"></div>  \r\n\r\n                <!-- 用餐 -->\r\n                <div class="modular m-accommodation m-haveDinner m-common-style" id="m-haveDinner"></div>  \r\n\r\n                <!-- 联系人 -->\r\n                <div class="modular m-contact m-common-style" id="m-contact"></div>\r\n\r\n                <!-- 出游人信息 -->\r\n                <div class="modular m-tourist m-common-style" id="m-tourist"></div> \r\n\r\n                <!-- 保险信息 -->\r\n                <div class="modular m-insurance m-common-style" id="m-insurance"></div>\r\n\r\n                <!-- 退改信息 -->\r\n                <div class="modular m-lossInfo m-common-style" id="m-lossInfo"></div>\r\n\r\n                <!-- 出游计划 -->\r\n                <div class="modular m-travelPlan m-common-style" id="m-travelPlan"></div> \r\n                                \r\n                <!-- 发票信息 -->\r\n                <div class="modular m-receipt m-common-style" id="m-receipt"></div>  \r\n\r\n                <!-- 全球购优惠券 -->\r\n                <div class="modular m-global-buy m-common-style" id="m-global-buy"></div>\r\n\r\n                <!-- 当地推荐 -->\r\n                <div class="modular m-recommend" id="m-recommend"></div>\r\n            </div>\r\n            <div class="clear-float"></div>\r\n        </div>\r\n\r\n    </div>\r\n</div>\r\n\r\n<!-- 页脚 -->\r\n<div class="order-footer" id="m-footer"></div>\r\n\r\n<!-- 配送地址弹窗 -->\r\n<div class="float-panel float-delivery" id="m-float-delivery"></div>\r\n\r\n<!-- 添加发票 -->\r\n<div id="J_receipt_dialog" class="receipt_dialog"></div>\r\n<div id="addInvoice-bg"></div>',new String($out)}return function(){var obj={};arguments[0]=arguments[0]||{};for(var key2 in arguments[0])obj[key2]=arguments[0][key2];for(var key in template.helpers)obj[key]=template.helpers[key];return window.pageDataObj&&(obj.bookStep=window.pageDataObj.bookStep,obj.pageType=window.pageDataObj.pageType,obj.proType=window.pageDataObj.proType,obj.proLine=window.pageDataObj.proLine,obj.proMode=window.pageDataObj.proMode),anonymous.call(template.utils,obj).toString()}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(23),__webpack_require__(61),__webpack_require__(24),__webpack_require__(25),__webpack_require__(26),__webpack_require__(27),__webpack_require__(28),__webpack_require__(29),__webpack_require__(30),__webpack_require__(31),__webpack_require__(32),__webpack_require__(33),__webpack_require__(34),__webpack_require__(35),__webpack_require__(36),__webpack_require__(37),__webpack_require__(38),__webpack_require__(39),__webpack_require__(40),__webpack_require__(41),__webpack_require__(42),__webpack_require__(43),__webpack_require__(44),__webpack_require__(45),__webpack_require__(46),__webpack_require__(47),__webpack_require__(48),__webpack_require__(49),__webpack_require__(50),__webpack_require__(51),__webpack_require__(52),__webpack_require__(53),__webpack_require__(54),__webpack_require__(55),__webpack_require__(56),__webpack_require__(57),__webpack_require__(58),__webpack_require__(59),__webpack_require__(60),__webpack_require__(21),__webpack_require__(62),__webpack_require__(66),__webpack_require__(68),__webpack_require__(71),__webpack_require__(76),__webpack_require__(78),__webpack_require__(80),__webpack_require__(82),__webpack_require__(84),__webpack_require__(86),__webpack_require__(90),__webpack_require__(92),__webpack_require__(94),__webpack_require__(96),__webpack_require__(98),__webpack_require__(100),__webpack_require__(102),__webpack_require__(104),__webpack_require__(106),__webpack_require__(108),__webpack_require__(110),__webpack_require__(112),__webpack_require__(114),__webpack_require__(116),__webpack_require__(118),__webpack_require__(120),__webpack_require__(122),__webpack_require__(124),__webpack_require__(126),__webpack_require__(134),__webpack_require__(137),__webpack_require__(139),__webpack_require__(143),__webpack_require__(145),__webpack_require__(146),__webpack_require__(148),__webpack_require__(150),__webpack_require__(152)],__WEBPACK_AMD_DEFINE_RESULT__=function(){for(var length=["topInfo","header","leftNav","order","airplane","train","bus","packAge","transport","point","hotel","single","upgrade","transfer","ticket","additional","present","contact","tourist","visa","visiting","guarante","insurance","localEvents","cruise","travelPlan","useTheCar","accommodation","haveDinner","receipt","deliveryAddress","cancel","modify","footer","sign","recommend","global","bookingInfo","lossInfo"].length,modules={},models={},views={},i=0;i<length;i++){var model=null;arguments[i]&&(model=new arguments[i]),models[["topInfo","header","leftNav","order","airplane","train","bus","packAge","transport","point","hotel","single","upgrade","transfer","ticket","additional","present","contact","tourist","visa","visiting","guarante","insurance","localEvents","cruise","travelPlan","useTheCar","accommodation","haveDinner","receipt","deliveryAddress","cancel","modify","footer","sign","recommend","global","bookingInfo","lossInfo"][i]]=model,arguments[i+length]&&(views[["topInfo","header","leftNav","order","airplane","train","bus","packAge","transport","point","hotel","single","upgrade","transfer","ticket","additional","present","contact","tourist","visa","visiting","guarante","insurance","localEvents","cruise","travelPlan","useTheCar","accommodation","haveDinner","receipt","deliveryAddress","cancel","modify","footer","sign","recommend","global","bookingInfo","lossInfo"][i]]=new arguments[i+length]({model:model}))}return modules.models=models,modules.views=views,window.modules=modules,modules}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),tpl=__webpack_require__(22),config=__webpack_require__(6),pageDataObj=config.pageDataObj;module.exports=backbone.View.extend({el:"#m-top-info",events:{},initialize:function(){0==pageDataObj.isHide&&this.render()},render:function(){var html,data=this.model.toJSON();html=tpl(data),this.$el.html(html).show()}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(fn){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=fn,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function(template){function anonymous($data,$filename){"use strict";var $utils=this,len=($utils.$helpers,$data.len),placeInfo=$data.placeInfo,_=$data._,$escape=($data.item,$data.index,$utils.$escape),urls=$data.urls,$out="";$out+='<nav>\r\n   <span><a class="javascript:;">您的位置：</a></span>\r\n    ';var len=placeInfo.length-1;return _.each(placeInfo,function(item,index){$out+='\r\n       <span><a class="',index<len&&($out+=" canClick "),$out+='" href="',$out+=$escape(urls[index]),$out+='">',$out+=$escape(item),$out+="</a> ",index<len&&($out+=" > "),$out+="</span>\r\n    "}),$out+="\r\n</nav>\r\n",new String($out)}return function(){var obj={};arguments[0]=arguments[0]||{};for(var key2 in arguments[0])obj[key2]=arguments[0][key2];for(var key in template.helpers)obj[key]=template.helpers[key];return window.pageDataObj&&(obj.bookStep=window.pageDataObj.bookStep,obj.pageType=window.pageDataObj.pageType,obj.proType=window.pageDataObj.proType,obj.proLine=window.pageDataObj.proLine,obj.proMode=window.pageDataObj.proMode),anonymous.call(template.utils,obj).toString()}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),config=__webpack_require__(6);config.pageDataObj;module.exports=backbone.Model.extend({defaults:{placeInfo:["首页","会员中心","我的订单"],urls:["//www.tuniu.com","//i.tuniu.com","javascript:;"]},initialize:function(){}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),config=__webpack_require__(6),pageDataObj=config.pageDataObj;module.exports=backbone.Model.extend({defaults:{flightList:"",trainList:"",busList:"","package":"",connection:"",busService:"",hotel:"",cruise:"",localTour:"",singleRoom:"",upgradePlan:"",shuttleCar:"",ticket:"",bookingInfo:"",addItem:"",giftOrderInfo:"",contacterList:"",touristList:"",visaOrderInfo:"",homeServiceInfo:"",assurance:"",insurance:"",groupTravelPlan:"",groupCarList:"",accommodationList:"",groupDealList:"",invoice:"",recommend:"",theme:"",lossInfo:""},initialize:function(){var flight=_.isEmpty(pageDataObj.flightList.list),train=_.isEmpty(pageDataObj.trainList.list),bus=_.isEmpty(pageDataObj.busList.list),package=_.isEmpty(pageDataObj["package"].list),connection=_.isEmpty(pageDataObj.connection.list),busService=_.isEmpty(pageDataObj.busService),hotel=_.isEmpty(pageDataObj.hotel.list),cruise=_.isEmpty(pageDataObj.cruise.list),localTour=_.isEmpty(pageDataObj.localTour.list),singleRoom=_.isEmpty(pageDataObj.singleRoom.list),upgradePlan=_.isEmpty(pageDataObj.upgradePlan.list),shuttleCar=_.isEmpty(pageDataObj.shuttleCar.list),ticket=_.isEmpty(pageDataObj.ticket.list),bookingInfo=!pageDataObj.ticket.list.length||_.isEmpty(pageDataObj.ticket.list[0].bookingInfo),addItem=_.isEmpty(pageDataObj.addItem.list),gift=_.isEmpty(pageDataObj.giftOrderInfo.list),contacter=_.isEmpty(pageDataObj.contacterList),tourist=_.isEmpty(pageDataObj.touristList.list)&&!pageDataObj.showSwitch.needAddTourer&&!pageDataObj.showSwitch.editTourer,visa=_.isEmpty(pageDataObj.visaOrderInfo),home=_.isEmpty(pageDataObj.homeServiceInfo.list),assurance=_.isEmpty(pageDataObj.assurance.list),insurance=_.isEmpty(pageDataObj.insurance.list),groupTravel=_.isEmpty(pageDataObj.groupTravelPlan),groupCar=_.isEmpty(pageDataObj.groupCarList.list),groupAccom=_.isEmpty(pageDataObj.groupAccommodationList.list),groupDeal=_.isEmpty(pageDataObj.groupDealList.list),invoice=_.isEmpty(pageDataObj.invoice.list),recommend=!_.isEmpty(pageDataObj.localRecommendInfo),globalBuy=!_.isEmpty(pageDataObj.globalBuy.baseInfo.recommendList)||!_.isEmpty(pageDataObj.globalBuy.list),theme=_.isEmpty(pageDataObj.theme),ticketer=_.isEmpty(pageDataObj.ticketerList),lossInfo=!!(pageDataObj.lossInfo&&pageDataObj.lossInfo.lossDesc&&pageDataObj.lossInfo.lossDesc.length);this.set({flight:!flight,train:!train,bus:!bus,packAge:!package,connection:!connection,busService:!busService,hotel:!hotel,cruise:!cruise,localTour:!localTour,singleRoom:!singleRoom,upgradePlan:!upgradePlan,shuttleCar:!shuttleCar,ticket:!ticket,bookingInfo:!bookingInfo,addItem:!addItem,gift:!gift,contacter:!contacter,ticketer:!ticketer,tourist:!tourist,visa:!visa,home:!home,assurance:!assurance,insurance:!insurance,groupTravel:!groupTravel,groupCar:!groupCar,accommodation:!groupAccom,groupDeal:!groupDeal,invoice:!invoice,recommend:recommend,globalBuy:globalBuy,theme:!theme&&pageDataObj.theme,productId:pageDataObj.baseInfo&&pageDataObj.baseInfo.productId,lossInfo:lossInfo})}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),config=__webpack_require__(6),tools=__webpack_require__(13),pageDataObj=config.pageDataObj,MSG=(__webpack_require__(8),{orderStatus:["OS001","OS002","OS005","OS006","OS007","OS008"],menpiaoOrderStatus:["OS001","OS003","OS013","OS065","OS007","OS068"]}),DESC={orderStatusDesc:["正在处理","待签约付款","出团通知发送中","待出游","出游中","出游归来"],menpiaoOrderStatusDesc:["正在处理","待付款","出票中","出票成功","出游","已使用"]};module.exports=backbone.Model.extend({defaults:{orderId:"",productName:"",orderDate:"",startDate:"",startCity:"",endDate:"",adultCount:"",childCount:"",productUrl:"",dpnSyncSendTime:"",orderStep:"",hasChangeRecord:"",orderChange:"",attachments:[],imgStr:"",showRefunds:"",refundUrl:"",showCruiseVendor:!1,cruiseVendorName:""},initialize:function(){var baseInfo=pageDataObj.baseInfo,imgStr=this.calculaImgStr();pageDataObj.cruiseVendorInfo||null;if(baseInfo.hasChangeRecord&&tools.safeEventTrack("出现_订单信息____出现变更记录"),_.isEmpty(pageDataObj.attachments)||tools.safeEventTrack("出现_订单信息____出现附件"),baseInfo.refundUrl&&tools.safeEventTrack("出现_订单信息____出现退款进度"),baseInfo.cruiseVendorInfo&&baseInfo.cruiseVendorInfo.name&&this.set({showCruiseVendor:!0,cruiseVendorName:baseInfo.cruiseVendorInfo.name}),this.set({orderId:baseInfo.orderId,orderType:baseInfo.orderType,productName:baseInfo.productName,orderDate:baseInfo.orderDate,startDate:baseInfo.startDate,startCity:baseInfo.startCity,endDate:baseInfo.endDate,adultCount:baseInfo.adultCount,childCount:baseInfo.childCount,productUrl:baseInfo.product_url,dpnSyncSendTime:baseInfo.dpnSyncSendTime,orderStep:baseInfo.orderStep,hasChangeRecord:baseInfo.hasChangeRecord,orderChange:baseInfo.orderChange,attachments:pageDataObj.attachments,imgStr:imgStr,showRefunds:baseInfo.showRefunds,refundUrl:baseInfo.refundUrl}),75==baseInfo.orderType){var ticket=pageDataObj.ticket.list&&pageDataObj.ticket.list.length>0?pageDataObj.ticket.list[0]:{};this.set({spotName:ticket.spotName})}},checkAttachments:function(code){var attList,attachments=this.get("attachments");return _.some(attachments,function(item){if(item.fileTypeCode==code)return attList=item.list,!0}),attList},calculaImgStr:function(){var schedule=pageDataObj.baseInfo.orderProcess.schedule,len=schedule.length,orderStatusCode=schedule[len-1].orderStatusCode,hasThis=_.indexOf(MSG.orderStatus,orderStatusCode),textStr=DESC.orderStatusDesc,orderType=pageDataObj.baseInfo.orderType;return 75==orderType&&(orderStatusCode=pageDataObj.baseInfo.orderStatusCode,hasThis=_.indexOf(MSG.menpiaoOrderStatus,orderStatusCode),textStr=DESC.menpiaoOrderStatusDesc),hasThis!=-1?{value:"6_"+hasThis,textIndex:hasThis,textStr:textStr}:this.calculSpecial(orderStatusCode)},calculSpecial:function(data){var codeIndex,codeStr,value,textStr,textIndex,self=this,schedule=pageDataObj.baseInfo.orderProcess.schedule,orderType=pageDataObj.baseInfo.orderType;if(schedule.reverse(),_.some(schedule,function(item){var statusCode=item.orderStatusCode;if("OS037"!=statusCode&&"OS042"!=statusCode&&"OS011"!=statusCode&&"OS000"!=statusCode&&"OS098"!=statusCode)return codeStr=statusCode,!0}),codeIndex=75==orderType?_.indexOf(MSG.menpiaoOrderStatus,codeStr):_.indexOf(MSG.orderStatus,codeStr),"OS037"==data){var textStr=self.calculTextStr(codeIndex,"变更处理中"),value="37_"+codeIndex;return{value:value,textStr:textStr,textIndex:+codeIndex+1}}if("OS042"==data){var textStr=self.calculTextStr(codeIndex,"变更待付款");return{value:"37_"+codeIndex,textStr:textStr,textIndex:+codeIndex+1}}if("OS011"==data){var textStr=75==orderType?DESC.menpiaoOrderStatusDesc:DESC.orderStatusDesc,orderStatus=75==orderType?MSG.menpiaoOrderStatus:MSG.orderStatus;switch(codeStr){case orderStatus[0]:textIndex=1;break;case orderStatus[1]:textIndex=2;break;case orderStatus[2]:textIndex=3;break;case orderStatus[3]:textIndex=4}return textIndex&&(value=+textIndex+1+"_"+(+textIndex+1),textStr.splice(textIndex,textStr.length-textIndex,"已取消")),{value:value,textStr:textStr,textIndex:textIndex}}},calculTextStr:function(codeIndex,data){var orderType=pageDataObj.baseInfo.orderType,str=75==orderType?DESC.menpiaoOrderStatusDesc:DESC.orderStatusDesc;return str.splice(codeIndex+1,0,data),str}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),config=__webpack_require__(6),tools=__webpack_require__(13),pageDataObj=config.pageDataObj,MSG={info:"机票行程单"};module.exports=backbone.Model.extend({defaults:{tabTitle:"",hasFlightChange:"",list:"",flightChange:"",orderType:"",isIndividualFlight:"",packetFlightForm:[]},initialize:function(){var flightList=pageDataObj.flightList,baseInfo=pageDataObj.baseInfo,isShow=this.checkIsShow(flightList);_.isEmpty(flightList)||(tools.safeEventTrack("出现_机票模块____出现机票模块"),isShow&&tools.safeEventTrack("出现_机票模块_票号____出现票号")),this.set({hasFlightChange:flightList.baseInfo.hasFlightChange,isIndividualFlight:flightList.baseInfo.isIndividualFlight,list:flightList.list,flightChange:pageDataObj.flightChange,orderType:baseInfo.orderType,packetFlightForm:pageDataObj.tripInfo.packetFlightForm,tabTitle:MSG.info})},checkIsShow:function(data){var flag=!1;return _.some(data,function(item){var list=item.ticketNoList;if(list&&list.length)return flag=!0,!0}),flag}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),config=__webpack_require__(6),tools=__webpack_require__(13),pageDataObj=config.pageDataObj,MSG={msgInfo:"由于车站退票需要20个工作日才能退还原支付宝账户；在线退票只需要7个工作日，所以建议您取消订单时联系途牛客服处理。",unsureInfo:"您选购的是待定信息车次，车票具体信息以实际出票为准，在车票紧张的情况下，可能会出同城市其他车站车票，不影响您的正常出游，请知悉。"};module.exports=backbone.Model.extend({defaults:{msgInfo:"",list:[]},initialize:function(){var trainList=pageDataObj.trainList.list||[],isShow=this.checkIsShow(trainList);_.isEmpty()||(tools.safeEventTrack("出现_火车票模块____出现火车票"),isShow&&tools.safeEventTrack("出现_火车票模块____出现坐次")),this.set({msgInfo:MSG.msgInfo,unsureInfo:MSG.unsureInfo,list:trainList})},checkIsShow:function(data){var flag=!1;return _.some(data,function(item){var detailInfos=item.detailInfos;if(!_.isEmpty(detailInfos))return flag=!0,!0}),flag}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),config=__webpack_require__(6),pageDataObj=config.pageDataObj;module.exports=backbone.Model.extend({defaults:{list:[]},initialize:function(){var busTicketList=pageDataObj.busList.list||[];this.set({list:busTicketList})}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),config=__webpack_require__(6),pageDataObj=config.pageDataObj,MSG={confirmInfo:"您可以凭酒店确认号致电酒店前台查询您的预订信息"};module.exports=backbone.Model.extend({defaults:{flightList:[],hotelResList:[],resExtendInfo:[],ticketList:[],flightForm:[],hotelForm:[],isShow:"",confirmInfo:""},initialize:function(){var package=pageDataObj["package"],isShow=!_.isEmpty(package.list),tripInfo=pageDataObj.tripInfo;this.set({isShow:isShow,list:package.list,flightForm:tripInfo.flightForm||[],hotelForm:tripInfo.hotelForm||[],confirmInfo:MSG.confirmInfo})}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),config=__webpack_require__(6),pageDataObj=config.pageDataObj,MSG={msgInfo:"联运是指从预订城市-出发城市或者从返回城市-预订城市的交通。"};module.exports=backbone.Model.extend({defaults:{msgInfo:"",list:[]},initialize:function(){var connectionList=pageDataObj.connection.list||[];this.set({msgInfo:MSG.msgInfo,list:connectionList})}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),config=__webpack_require__(6),pageDataObj=config.pageDataObj;module.exports=backbone.Model.extend({defaults:{list:[]},initialize:function(){var busService=pageDataObj.busService;this.set({list:busService})}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),config=__webpack_require__(6),pageDataObj=config.pageDataObj,MSG={confirmInfo:"您可以凭酒店确认号致电酒店前台查询您的预订信息"};module.exports=backbone.Model.extend({defaults:{list:"",packetHotelForm:[],confirmInfo:""},initialize:function(){var hotelResList=pageDataObj.hotel.list,packetHotelForm=pageDataObj.tripInfo.packetHotelForm;this.set({list:hotelResList,packetHotelForm:packetHotelForm,confirmInfo:MSG.confirmInfo})}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),config=__webpack_require__(6),pageDataObj=config.pageDataObj,MSG={msgInfo:"因旅游过程中的住宿一般是两个床位的标准间，而团费是根据一名成人占一张床计算的，所以当您的出游人数（成人）为奇数时，需要补足另一个床位的费用。"};module.exports=backbone.Model.extend({defaults:{list:[]},initialize:function(){var singleRoom=pageDataObj.singleRoom.list||[];this.set({list:singleRoom,msgInfo:MSG.msgInfo})}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),config=__webpack_require__(6),pageDataObj=config.pageDataObj;module.exports=backbone.Model.extend({defaults:{list:[]},initialize:function(){var upgradePlan=pageDataObj.upgradePlan.list||[];this.set({list:upgradePlan})}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),config=__webpack_require__(6),pageDataObj=config.pageDataObj;module.exports=backbone.Model.extend({defaults:{list:[]},initialize:function(){var shuttleCar=pageDataObj.shuttleCar.list||[];this.set({list:shuttleCar})}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),config=__webpack_require__(6),tools=__webpack_require__(13),pageDataObj=config.pageDataObj;module.exports=backbone.Model.extend({defaults:{list:[]},initialize:function(){var ticket=pageDataObj.ticket.list||[],isShow=this.checkIsShow(ticket);isShow&&tools.safeEventTrack("出现_底部按钮____提交"),this.set({list:ticket})},checkIsShow:function(data){var flag=!1;return _.some(data,function(item){var enterWayArr=item.enterWayArr;if(enterWayArr&&!_.isEmpty(enterWayArr.certInfo))return flag=!0,!0}),flag}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),config=__webpack_require__(6),pageDataObj=config.pageDataObj;module.exports=backbone.Model.extend({defaults:{list:[]},initialize:function(){var addItem=pageDataObj.addItem.list||[];this.set({list:addItem})}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),config=__webpack_require__(6),pageDataObj=config.pageDataObj;module.exports=backbone.Model.extend({defaults:{list:[],haveAddress:"",haveDeliveryProcess:"",expressProgress:"",expressStatus:""},initialize:function(){var giftOrderInfo=pageDataObj.giftOrderInfo.list||[],showSwitch=pageDataObj.showSwitch,expressProgress=pageDataObj.expressProgress.list||[];this.set({list:giftOrderInfo,haveAddress:showSwitch.haveAddress,haveDeliveryProcess:showSwitch.haveDeliveryProcess,expressProgress:expressProgress,expressStatus:pageDataObj.expressProgress.baseInfo.expressStatus})},setDefaultAddress:function(address){var list=this.get("list");_.each(list,function(item){item.returnGiftOrderInfo?item.returnGiftOrderInfo=item.returnGiftOrderInfo:item.returnGiftOrderInfo={},item.returnGiftOrderInfo.receiveName=address.user_name,item.returnGiftOrderInfo.receiveTel=address.tel,item.returnGiftOrderInfo.receiveProvinceName=address.provinceName,item.returnGiftOrderInfo.receiveCityName=address.cityName,item.returnGiftOrderInfo.receiveDetailAddress=address.address}),this.set({list:list,haveAddress:!1}),this.trigger("render")},addClassName:function(data){return _.each(data,function(item){(item.acceptStation||item.acceptTime)&&(item.className="state_finish")}),data}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),config=__webpack_require__(6),pageDataObj=config.pageDataObj;module.exports=backbone.Model.extend({defaults:{list:null},initialize:function(){var orderType=pageDataObj.baseInfo.orderType,contacterList=75==orderType?pageDataObj.ticketerList.list:pageDataObj.contacterList,title=75==orderType?"取票人信息":"联系人信息";this.shieldTouristData(contacterList),this.set({list:contacterList,title:title})},shieldTouristData:function(data){var self=this;_.each(data,function(item){var email=item.email,tel=item.tel;item.shield=!0,email&&(item.emailShield=self.replaceEmail(email,3,"@")),tel&&(item.telShield=self.replacePos(tel,4,7,"****"))})},replacePos:function(strObj,startPos,endPos,replacetext){var str=strObj.substr(0,startPos-1);return str+=replacetext,str+=strObj.substring(endPos,strObj.length)},replaceEmail:function(str,len,Symbol){var strIndex=str.indexOf(Symbol),startIndex=strIndex-len;return str.substring(0,startIndex)+"***"+str.substring(strIndex,str.length)}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),config=__webpack_require__(6),tools=__webpack_require__(13),pageDataObj=config.pageDataObj,MSG={errorMsg:"为了保证您的出游顺利，请及时添加出游人信息"};module.exports=backbone.Model.extend({defaults:{list:[],needHide:"",errorMsg:"",needAddTourer:"",needSuperAddTourer:"",editTourer:"",orderId:"",productId:"",needShow:!1},initialize:function(){var touristList=pageDataObj.touristList.list||[],showSwitch=pageDataObj.showSwitch,baseInfo=pageDataObj.baseInfo,needShow=!1;this.shieldTouristData(touristList),showSwitch.needAddTourer?tools.safeEventTrack("出现_出游人模块____出现添加出游人"):showSwitch.editTourer&&tools.safeEventTrack("出现_出游人模块____出现添加出游人"),(touristList&&touristList.length||showSwitch.needAddTourer||showSwitch.editTourer)&&(needShow=!0),this.set({list:touristList,needShow:needShow,needHide:!0,errorMsg:MSG.errorMsg,needAddTourer:showSwitch.needAddTourer,needSuperAddTourer:showSwitch.needSuperAddTourer,editTourer:showSwitch.editTourer,orderId:baseInfo.orderId,productId:baseInfo.productId})},shieldTouristData:function(data){var self=this;_.each(data,function(item){var psptId=item.psptId,tel=item.tel;item.shield=!0,psptId&&(item.psptIdShield=self.replacePos(psptId,psptId.length-3,psptId.length,"****")),tel&&(item.telShield=tel.substring(0,3)+"****"+tel.substring(7,tel.length))})},replacePos:function(strObj,startPos,endPos,replacetext){var str=strObj.substr(0,startPos-1);return str+=replacetext,str+=strObj.substring(endPos,strObj.length)}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),config=__webpack_require__(6),tools=__webpack_require__(13),pageDataObj=config.pageDataObj;module.exports=backbone.Model.extend({defaults:{list:[],orderId:""},initialize:function(){var visaList=this.formatVisaData(pageDataObj.visaOrderInfo),baseInfo=pageDataObj.baseInfo,showSwitch=pageDataObj.showSwitch;_.isEmpty(visaList)||(visaList[0].active=!0,tools.safeEventTrack("出现_签证模块____出现上传签证材料")),this.set({list:visaList,orderId:baseInfo.orderId,updateVisaFlag:showSwitch.updateVisaFlag})},formatVisaData:function(data){var self=this;return _.each(data,function(item){var visaLists=item.visaLists;_.each(visaLists,function(visa){var ifHasIndex,nodes=self.changeThisArray(visa.node),len=nodes.length,thisIndex=0;if(visa.node=self.changeThisArray(visa.node),_.some(visa.node,function(visas){var childNode=visas.childNodes;_.some(childNode,function(child){if(child.otherInfo)return visa.otherInfo=child.otherInfo,!0})}),ifHasIndex=_.some(nodes,function(node,index){if(0==node.nodeFlag&&_.isEmpty(node.childNodes))return thisIndex=index,!0}),!ifHasIndex){var isShowAll=_.some(nodes,function(node){if(1==node.nodeFlag&&!_.isEmpty(node.childNodes))return!0});thisIndex=isShowAll?len:0}visa.nodeIndex=thisIndex})}),data},changeThisArray:function(nodes){var arr=[];return _.each(nodes,function(node){arr.push(node)}),arr}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),config=__webpack_require__(6),pageDataObj=config.pageDataObj;module.exports=backbone.Model.extend({defaults:{list:[]},initialize:function(){var homeServiceInfo=pageDataObj.homeServiceInfo.list||[];this.set({list:homeServiceInfo})}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),config=__webpack_require__(6),tools=__webpack_require__(13),pageDataObj=config.pageDataObj,MSG={info:"如您想咨询更多担保金的详细状态，请咨询途牛客服400-799-9999"};module.exports=backbone.Model.extend({defaults:{msgInfo:"",list:[]},initialize:function(){var isShow,assurance=pageDataObj.assurance.list||[];assurance=this.dealWithAssurance(assurance),isShow=this.checkIsShow(assurance),isShow&&tools.safeEventTrack("出现_担保金模块_立即办理____办理担保金"),this.set({msgInfo:MSG.info,list:assurance})},checkIsShow:function(data){var flag=!1;return _.some(data,function(item){if(item.thisUrl)return flag=!0,!0}),flag},dealWithAssurance:function(data){var assuranceList=[];if(!_.isEmpty(data))return _.each(data,function(item){var status,money,freezeType,action,thisUrl;"线下办理"==item.freezeType||"线下办理"==item.status?(status="线下办理",money=item.bailAmount,freezeType="---",action="",thisUrl=""):"无需办理"==item.freezeType||"无需办理"==item.status?(status="无需办理",money="",freezeType="---",action="",thisUrl=""):"待办理"==item.status?(status="待办理",money=item.bailAmount,freezeType=item.freezeType,action=item.hostUrl,thisUrl=item.hostUrl):(status=item.status,money=item.bailAmount,freezeType=item.freezeType,action="",thisUrl=""),assuranceList.push({status:status,money:money,freezeType:freezeType,action:action,thisUrl:thisUrl,merId:item.merId,bankName:item.bankName,bankLogoUrl:item.bankLogoUrl,bankLogName:item.bankLogName})}),assuranceList}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),config=__webpack_require__(6),pageDataObj=config.pageDataObj;module.exports=backbone.Model.extend({defaults:{needHide:"",list:[]},initialize:function(){var insurance=pageDataObj.insurance.list||[];insurance=this.formatData(insurance),this.set({needHide:!0,list:insurance})},formatData:function(data){return data.forEach(function(item){item.effectiveDate=item.effectiveDate.split(" ")[0],item.expirationDate=item.expirationDate.split(" ")[0]}),data}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),config=__webpack_require__(6),pageDataObj=config.pageDataObj;module.exports=backbone.Model.extend({defaults:{list:[]},initialize:function(){var localTour=pageDataObj.localTour.list||[];this.set({list:localTour})}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),config=__webpack_require__(6),pageDataObj=config.pageDataObj;module.exports=backbone.Model.extend({defaults:{list:[]},initialize:function(){var cruise=pageDataObj.cruise.list||[];this.set({list:cruise})}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),config=__webpack_require__(6),pageDataObj=config.pageDataObj;module.exports=backbone.Model.extend({defaults:{form:"",custom:"",list:[]},initialize:function(){var groupTravelPlan=pageDataObj.groupTravelPlan||[];this.set({list:groupTravelPlan,form:pageDataObj.formType,custom:pageDataObj.customType})}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),config=__webpack_require__(6),pageDataObj=config.pageDataObj;module.exports=backbone.Model.extend({defaults:{list:[],driverInfo:[]},initialize:function(){var groupCarList=pageDataObj.groupCarList.list||[],driverInfo=pageDataObj.driverInfo||[];this.set({list:groupCarList,driverInfo:driverInfo})}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),config=__webpack_require__(6),pageDataObj=config.pageDataObj;module.exports=backbone.Model.extend({defaults:{list:[]},initialize:function(){var accommodationList=pageDataObj.groupAccommodationList.list||[];this.set({list:accommodationList})}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),config=__webpack_require__(6),pageDataObj=config.pageDataObj;module.exports=backbone.Model.extend({defaults:{list:[]},initialize:function(){var groupDealList=pageDataObj.groupDealList.list||[];this.set({list:groupDealList})}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),config=__webpack_require__(6),tools=__webpack_require__(13),pageDataObj=config.pageDataObj;module.exports=backbone.Model.extend({defaults:{needHide:"",activeIndex:0,invoiceTotalPrice:"",payAmount:"",signStatus:"",deliveryAddress:[],invoiceListInfo:"",allInsurancePrice:"",contactInfo:"",addInvoice:"",viewInvoiceProgress:"",list:[],invoiceProgress:[],isMenpiao:!1},initialize:function(){var invoice=pageDataObj.invoice.list||[],baseInfo=pageDataObj.invoice.baseInfo||{},insuranceList=pageDataObj.insurance.list,allInsurancePrice=this.calculationPrice(insuranceList),showSwitch=pageDataObj.showSwitch,invoiceProgress=this.formatProgress(pageDataObj.invoiceProgress),isMenpiao=75==pageDataObj.baseInfo.orderType;invoice&&invoice.length&&tools.safeEventTrack("出现_发票模块____出现发票进度"),showSwitch.addInvoice&&tools.safeEventTrack("出现_发票模块_添加发票 ____出现添加发票"),this.set({needHide:!0,invoiceTotalPrice:baseInfo.invoiceTotalPrice,payAmount:baseInfo.payAmount,signStatus:baseInfo.signStatus,list:invoice,deliveryAddress:pageDataObj.deliveryAddress||[],invoiceListInfo:pageDataObj.invoiceListInfo,contactInfo:pageDataObj.contacterList[0],allInsurancePrice:allInsurancePrice,addInvoice:showSwitch.addInvoice,viewInvoiceProgress:showSwitch.viewInvoiceProgress,invoiceProgress:invoiceProgress,isMenpiao:isMenpiao})},formatProgress:function(data){var thisData=$.extend(!0,[],data);return _.each(thisData,function(oneInvo){var timeLine=oneInvo.timeLine;_.each(timeLine,function(o){var flag=o.nodeFlag,state=o.nodeState,nodeName="",className="state_base";switch(flag){case 0:nodeName="提交发票",className="state_finish";break;case 1:nodeName="审核状态",3==state&&(nodeName="审核失败"),2==state&&(className="state_finish"),3==state&&(className="state_fail");break;case 2:nodeName="开票状态",1==state&&(className="state_finish");break;case 3:nodeName="邮寄状态",1!=state&&2!=state||(className="state_finish");break;case 4:nodeName="已退回",3!=state&&4!=state||(className="state_finish")}o.nodeName=nodeName,o.className=className}),oneInvo.timeLine=timeLine}),thisData},formatLogistics:function(data,index){var newData=$.extend(!0,[],data),logi_data={};return _.each(newData[index].timeLine,function(line){if(3==line.nodeFlag)if(line.expressInfo){var expressTraces=line.expressInfo.expressTraces,className="state_base";logi_data.expressStatus=line.expressInfo.expressStatus,_.each(expressTraces,function(traces){var acceptTime=traces.acceptTime;acceptTime&&(className="state_finish"),traces.className=className}),logi_data.express=expressTraces||[]}else logi_data.express=line.expressInfo||[]}),logi_data},updateAddress:function(data){var list=this.get("deliveryAddress");_.each(list,function(item){data.addressId==item.address_id&&(item.user_name=data.receiver_name,item.provinceName=data.provinceName,item.cityName=data.cityName,item.address=data.address,item.tel=data.tel_num)}),this.set("deliveryAddress",list),this.trigger("needRender")},calculationPrice:function(data){var allPrice=0;return _.isEmpty(data)||_.each(data,function(item){allPrice+=item.price}),allPrice}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(8),__webpack_require__(9),__webpack_require__(5)],__WEBPACK_AMD_DEFINE_RESULT__=function(_,Backbone,EventBus){return Backbone.Model.extend({defaults:{list:null,isShowInput:!1,updaterAddress:null,hasPostRequest:!1,canShouMore:!1,hasFoucus:!1},init:function(data){_.some(data,function(item){if(item.isDefault)return item.selected=!0,EventBus.trigger("setFavDefaultAddress",item),!0}),this.set("list",data)},resetSelectObj:function(i){var list=this.get("list");_.each(list,function(item,index){i==index?item.selected=!0:item.selected=!1}),EventBus.trigger("setFavDefaultAddress",list[i])},selectedData:function(i){var list=this.get("list");return _.each(list,function(item,index){i==index?item.selected=!0:item.selected=!1}),list[i]},isSelected:function(i){var selected=!1,list=this.get("list");return _.some(list,function(item,index){if(index==i)return selected=item.selected,!0}),selected},deleteAddress:function(i){var list=this.get("list");list=list.slice(0,i).concat(list.slice(i+1,list.length)),this.set("list",list),this.set("isShowInput",!1),this.trigger("render")},openPanel:function(){this.trigger("render")},resetDefaultAddress:function(i){var list=this.get("list");_.each(list,function(item,index){i==index?item.isDefault=!0:item.isDefault=!1}),EventBus.trigger("resetDefaultAddress",list[i])},addList:function(data,res){var list=this.get("list");list.push({address_id:res.addressId,user_name:data.receiver_name,provinceName:data.provinceName,cityName:data.cityName,address:data.address,tel:data.tel_num,isDefault:0}),this.reset(),this.trigger("render")},updateAddress:function(data){var list=this.get("list");_.each(list,function(item){data.addressId==item.address_id&&(item.user_name=data.receiver_name,item.provinceName=data.provinceName,item.cityName=data.cityName,item.address=data.address,item.tel=data.tel_num)}),this.reset(),this.set("updaterAddress",null),this.trigger("render")},reset:function(){this.set({hasFoucus:!1,isShowInput:!1})}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),config=__webpack_require__(6),pageDataObj=config.pageDataObj;module.exports=backbone.Model.extend({defaults:{list:[]},initialize:function(){var cruise=pageDataObj.cruise.list||[],base=pageDataObj.cruise.base;this.set({list:cruise,base:base})}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),config=__webpack_require__(6),pageDataObj=config.pageDataObj;module.exports=backbone.Model.extend({defaults:{list:[]},initialize:function(){var touristList=pageDataObj.touristList.list||[];this.set({list:touristList})},searchNotEditData:function(data){var listArr,list=this.get("list");return _.some(list,function(item){if(item.personId==data)return listArr=item,!0}),listArr}})},function(module,exports,__webpack_require__){var Backbone=__webpack_require__(9),config=__webpack_require__(6),pageDataObj=(__webpack_require__(13),__webpack_require__(8),config.pageDataObj);module.exports=Backbone.Model.extend({defaults:{productId:"",orderId:"",isNeedPerfectTourist:"",beforeDayNum:""},initialize:function(){var baseInfo=pageDataObj.baseInfo,showSwitch=pageDataObj.showSwitch,isShow=showSwitch.isNeedPerfectTourist&&pageDataObj.beforeDayNum;this.set({isShow:isShow,beforeDayNum:pageDataObj.beforeDayNum,productId:baseInfo.productId,orderId:baseInfo.orderId})}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),config=__webpack_require__(6);__webpack_require__(13),config.pageDataObj;module.exports=backbone.Model.extend({defaults:{},initialize:function(){}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),config=__webpack_require__(6),pageDataObj=config.pageDataObj;module.exports=backbone.Model.extend({defaults:function(){return{list:null,lineCount:8}},init:function(){var list=pageDataObj.localRecommendInfo;_.isEmpty(list)||(this.set("list",list),this.trigger("render"))}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),config=__webpack_require__(6),pageDataObj=config.pageDataObj;module.exports=backbone.Model.extend({defaults:{list:[],recommendList:[],tips:""},initialize:function(){var list=pageDataObj.globalBuy&&pageDataObj.globalBuy.list||[],recommendList=pageDataObj.globalBuy.baseInfo.recommendList||[],tips=pageDataObj.globalBuy&&pageDataObj.globalBuy.tips||"";this.set({list:list,recommendList:recommendList,tips:tips})}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),config=__webpack_require__(6),pageDataObj=config.pageDataObj;module.exports=backbone.Model.extend({defaults:{list:[]},initialize:function(){var ticket=pageDataObj.ticket.list||[],bookingInfo=[];ticket.forEach(function(item){item.bookingInfo&&item.bookingInfo.length&&(bookingInfo=bookingInfo.concat(item.bookingInfo))}),this.set({list:bookingInfo})}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),config=__webpack_require__(6),pageDataObj=config.pageDataObj;module.exports=backbone.Model.extend({defaults:function(){return{show:!1}},initialize:function(){pageDataObj&&pageDataObj.lossInfo&&pageDataObj.lossInfo.lossDesc&&pageDataObj.lossInfo.lossDesc.length&&this.set({show:!0,lossInfo:pageDataObj.lossInfo.lossDesc.join(" ")})}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),config=__webpack_require__(6),tools=__webpack_require__(13),pageDataObj=config.pageDataObj;__webpack_require__(8);module.exports=backbone.Model.extend({defaults:{productId:"",orderId:"",totalPrice:"",alsoPay:"",orderStatusCode:"",statusDesc:"",clearTime:"",cancelOrder:"",isCancelOrder:"",canReduceTourer:"",canChangeBeforSign:"",pay_flag:"",canComment:"",sign_flag:"",product_url:"",goSignFlag:"",promotionList:"",priceLists:"",affirmSendFlag:"",isNeedPerfectTourist:"",beforeDayNum:"",accountEntrySwitch:"",contractList:"",checkedLossFlagAbord:"",timeLeft:""},initialize:function(){var clearTime,baseInfo=pageDataObj.baseInfo,showSwitch=pageDataObj.showSwitch;"OS002"==baseInfo.orderStatusCode&&pageDataObj.baseInfo.clearTime&&(clearTime=this.formatClearTime(pageDataObj.baseInfo.clearTime),this.setClearTime(pageDataObj.baseInfo.clearTime)),showSwitch.isNeedPerfectTourist&&pageDataObj.beforeDayNum&&tools.safeEventTrack("出现_侧边栏____完善出游信息"),showSwitch.canChangeBeforSign&&tools.safeEventTrack("出现_侧边栏____出现修改订单"),"OS0098"!=baseInfo.orderStatusCode&&"OS0099"!=baseInfo.orderStatusCode&&"OS011"!=baseInfo.orderStatusCode||tools.safeEventTrack("出现____再次预订"),(showSwitch.cancelOrder||showSwitch.isCancelOrder)&&tools.safeEventTrack("出现_取消订单____签约后取消订单"),showSwitch.canComment&&tools.safeEventTrack("出现_订单信息____可点评"),this.set({productId:baseInfo.productId,orderId:baseInfo.orderId,orderType:baseInfo.orderType,totalPrice:baseInfo.totalPrice,alsoPay:baseInfo.alsoPay,payAmount:baseInfo.payAmount,usedTravelCouponsPrice:baseInfo.usedTravelCouponsPrice,orderStatusCode:baseInfo.orderStatusCode,statusDesc:baseInfo.orderStatusDesc,cancelOrder:showSwitch.cancelOrder,isCancelOrder:showSwitch.isCancelOrder||!1,canReduceTourer:showSwitch.canReduceTourer,pay_flag:showSwitch.pay_flag,canComment:showSwitch.canComment,clearTime:clearTime,sign_flag:showSwitch.sign_flag,product_url:baseInfo.product_url,goSignFlag:showSwitch.goSignFlag,promotionList:baseInfo.promotionList,priceDetail:baseInfo.priceDetail||[],affirmSendFlag:showSwitch.affirmSendFlag,isNeedPerfectTourist:showSwitch.isNeedPerfectTourist,beforeDayNum:pageDataObj.beforeDayNum,accountEntrySwitch:showSwitch.accountEntrySwitch,canChangeBeforSign:showSwitch.canChangeBeforSign,contractList:pageDataObj.contractList,timeLeft:baseInfo.timeLeft,checkedLossFlagAbord:showSwitch.checkedLossFlagAbord||showSwitch.checkedLossFlag})},setClearTime:function(clearTime){clearTime=new Date(tools.formatDate(clearTime));var self=this,newClearTime=clearTime-+new Date;window.setClearTimeIndex=setTimeout(function(){newClearTime>0?newClearTime=self.formatTime(newClearTime):(window.clearTimeout(window.setClearTimeIndex),newClearTime=""),self.set("clearTime",newClearTime),self.trigger("changeClearTime"),self.setClearTime(pageDataObj.baseInfo.clearTime)},1e3)},formatClearTime:function(clearTime){return clearTime=+new Date(tools.formatDate(clearTime))-+new Date,clearTime>0?this.formatTime(clearTime):""},formatTime:function(time){var maxtime=parseInt(time/1e3),h=parseInt(maxtime/3600%24),minutes=parseInt(maxtime/60%60);return h<10&&(h="0"+h),minutes<10&&(minutes="0"+minutes),h+"小时"+minutes+"分钟"}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),tpl=__webpack_require__(63),Layer=__webpack_require__(16),EventBus=__webpack_require__(5),confirmTravel_tpl=__webpack_require__(64),beforSignModify_tpl=__webpack_require__(65),tools=__webpack_require__(13);module.exports=backbone.View.extend({el:"#m-header",events:{"click .show-agreements":"showAgreements","click .confirm-btn":"showConfirm","click .modifyOrder":"modifyTourists","click .entry-btn":"showAccountEntry","click .beforeOrder":"showBeforeSign"},initialize:function(){var self=this;0==pageDataObj.isHide&&this.render(),this.listenTo(this.model,"render",this.render),this.listenTo(this.model,"changeClearTime",this.changeClearTime),$(document).on("click",".T_confirm_travel .T_cancel",function(e){layer.close(window.confirmTravelIndex)}),$(document).on("click",".T_confirm_travel .T_cancel",function(e){layer.close(window.confirmTravelIndex)}),$(".periCancelOrder").on("click",function(){self.cancelOrder()}),$(document).on("click",".T_confirm_travel .T_confirm",function(e){self.confirmToGroup()}),$(document).on("click",".order_cancel",function(e){Layer.close(window.beforSignModifyIndex)}),$(document).on("click",".order_deter",function(e){self.confirmChangeOrder()}),$(document).on("click",".one-agreements",function(e){self.begainSignContract(e)}),$(document).on("click",".go-to-comment",function(e){tools.safeEventTrack("点击_订单信息____去点评")}),$(".pact .btn-agree").hover(function(e){self.begainHover(e)},function(e){self.overHover(e)})},render:function(){var data=this.model.toJSON(),html=tpl(data);this.$el.html(html).show(),data.checkedLossFlagAbord&&data.timeLeft&&this.showCountDown(data.timeLeft)},showCountDown:function(data){this.countDown(data,function(msg){$(".check-verify-time").html("("+msg+")")})},showAgreements:function(e){var target=$(e.currentTarget),obj=target.children(".icon2"),protocol=target.siblings(".protocol-list");obj.hasClass("bottom-icon")?(obj.removeClass("bottom-icon").addClass("top-icon"),protocol.slideDown("slow"),target.removeClass("up-hover").addClass("down-hover")):(obj.removeClass("top-icon").addClass("bottom-icon"),protocol.slideUp("slow"),target.removeClass("down-hover").addClass("up-hover"))},showConfirm:function(){EventBus.trigger("confirmAjax")},showConfirmTravel:function(src){var html=confirmTravel_tpl({src:src});window.confirmTravelIndex=$.layer({type:1,title:!1,page:{html:html},area:["1200px","auto"],closeBtn:!1,success:function(){$(window).trigger("resize")}})},layerAlert:function(msg){$.layer({type:1,area:["310px","150px"],btns:1,btn:["确定"],page:{html:'<p class="T_alert">'+msg+"</p>"}})},confirmToGroup:function(){EventBus.trigger("showConfirmToGroup")},isConfirmed:function(data){data?Layer.alert("确认成功",4,function(){location.reload()}):this.layerAlert("服务异常请稍后重试")},cancelOrder:function(){EventBus.trigger("cancelThisOrder")},modifyTourists:function(){EventBus.trigger("toModifyTourists")},showPerfectTips:function(){var pageContent='<div class="page-popup"><div class="page-left"><img src="//ssl3.tuniucdn.com/img/201604072050/bookOnline/order_detail/fail.png"/></div><div class="page-right">您已过了完善信息有效期，如有任何疑问请联系：4007-999-999！</div></div>';window.showPerfectTipsLayerIndex=Layer.open({type:5,title:!1,area:["420px","80px"],closeBtn:1,content:pageContent})},showAccountEntry:function(){var iframeUrl="//baoxian.tuniu.com/ins/cardManage/out/queryAllCard",html='<iframe style="width: 100%;height: 100%;overflow-x: hidden;"  src="'+iframeUrl+'" scrolling="auto" allowtransparency="true" frameborder="0"></iframe>';window.accountEntryIndex=Layer.open({type:5,title:!1,area:["1190px","550px"],closeBtn:1,content:html})},cardUniqueIdAjaxSuccess:function(){Layer.close(window.accountEntryIndex),this.model.set("accountEntrySwitch",!1),this.render()},cardUniqueIdAjaxFail:function(){Layer.close(window.accountEntryIndex)},showBeforeSign:function(){var html=beforSignModify_tpl({});window.beforSignModifyIndex=Layer.open({type:5,title:!1,area:["430px","200px"],closeBtn:1,content:html})},confirmChangeOrder:function(){Layer.close(window.beforSignModifyIndex),EventBus.trigger("beforSignModifyAjax")},begainSignContract:function(e){var target=$(e.target),key=target.attr("data-key"),orderId=this.model.get("orderId"),text="签署"+target.text();target.parents(".protocol-list").slideUp("slow"),EventBus.trigger("begainSignContractAjax",{orderId:orderId,key:key,text:text})},changeClearTime:function(){var clearTime=this.model.get("clearTime");this.$el.find(".time-left").children(".clearTime").html(clearTime)},begainHover:function(e){var target=$(e.currentTarget);target.removeClass("down-hover"),target.siblings(".protocol-list").is(":hidden")?target.addClass("down-hover"):target.addClass("up-hover")},overHover:function(e){var target=$(e.currentTarget);target.removeClass("up-hover"),target.removeClass("down-hover")},countDown:function(timeStamp,fn){window.countDownTimer=setInterval(function(){var distancetime=1e3*timeStamp;if(distancetime>=0){var msg,min=Math.floor(distancetime/1e3/60%60),hour=Math.floor(distancetime/1e3/60/60%24);min<10&&(min="0"+min),hour<10&&(hour="0"+hour),msg=hour+"小时"+min+"分",fn(msg),--timeStamp}else window.clearInterval(window.countDownTimer)},1e3)}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(fn){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=fn,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function(template){function anonymous($data,$filename){"use strict";var $utils=this,$escape=($utils.$helpers,$utils.$escape),orderId=$data.orderId,statusDesc=$data.statusDesc,orderStatusCode=$data.orderStatusCode,isMiddle=$data.isMiddle,clearTime=$data.clearTime,totalPrice=$data.totalPrice,priceDetail=$data.priceDetail,len=$data.len,_=$data._,promotionList=($data.item,$data.index,$data.subList,$data.num,$data.promotionList),pay_flag=$data.pay_flag,goSignFlag=$data.goSignFlag,alsoPay=$data.alsoPay,product_url=$data.product_url,cancelOrder=$data.cancelOrder,isCancelOrder=$data.isCancelOrder,checkedLossFlagAbord=$data.checkedLossFlagAbord,timeLeft=$data.timeLeft,orderType=$data.orderType,usedTravelCouponsPrice=$data.usedTravelCouponsPrice,payAmount=$data.payAmount,formatTime=$data.formatTime,canReduceTourer=$data.canReduceTourer,canChangeBeforSign=$data.canChangeBeforSign,affirmSendFlag=$data.affirmSendFlag,accountEntrySwitch=$data.accountEntrySwitch,isNeedPerfectTourist=$data.isNeedPerfectTourist,beforeDayNum=$data.beforeDayNum,productId=$data.productId,contractList=$data.contractList,sign_flag=($data.contract,$data.sign_flag),canComment=$data.canComment,$out="";$out+='<div class="header-main">\r\n    <div class="main-con">\r\n        <div class="order-info">\r\n            <div class="order-num">\r\n                 订单编号：',$out+=$escape(orderId),$out+='\r\n            </div>\r\n            <div class="order-status">\r\n                 ',statusDesc&&($out+='\r\n                    <span class="status" >',$out+=$escape(statusDesc),$out+="</span>\r\n                    ","OS0002H"==orderStatusCode&&($out+='\r\n                    <span class="tips jtxz-detail-hover">\r\n                        <em class="canceling"><img src="//ssl3.tuniucdn.com/img/201604072050/bookOnline/order_detail/ques.png"/></em>\r\n                        <div class="jtxz-detail2 T_width2 white">\r\n                            <p class="YD_mgb">订单会在工作时间1小时内反馈取消结果，请稍后查看。</p>\r\n                            <span class="icon up-icon"></span>\r\n                        </div>\r\n                    </span>\r\n                    '),$out+="\r\n                 "),$out+="\r\n            </div>\r\n        </div>\r\n        ";var isMiddle=!1;if("OS002"==orderStatusCode&&clearTime||(isMiddle=!0),$out+='\r\n        <div class="order-operate ',isMiddle&&($out+=" noClearTime "),$out+='">\r\n            ',"OS002"==orderStatusCode&&clearTime&&($out+='\r\n                <div class="time-left">\r\n                     <i class="icon time-icon"></i>剩余时间：<em class="clearTime">',$out+=$escape(clearTime),$out+="</em>\r\n                </div>\r\n            "),$out+='\r\n            <div class="price-info">\r\n                 <div class="price-details">\r\n                  ',totalPrice&&"OS0098"!=orderStatusCode){if($out+='\r\n                    <div class="all-price"><span class="price-text">总价</span><span class="price-detail" ><em class="',"等待确认"!=totalPrice&&($out+=" showHover "),$out+='">',$out+=$escape(totalPrice),$out+="</em>\r\n                        ",priceDetail&&priceDetail.length){var len=priceDetail.length;$out+='\r\n                            <div class="show-detail">\r\n                                ',_.each(priceDetail,function(item,index){$out+='\r\n                                    <div class="detail-panel ',index==len-1&&($out+=" last "),$out+='">\r\n                                         <p class="detail-price">',$out+=$escape(item.title),$out+='</p>\r\n                                         <p class="detail-num">',$out+=$escape(item.price),$out+="</p>\r\n                                         ";var subList=item.subList;subList&&subList.length&&($out+="\r\n                                            ",_.each(subList,function(num){$out+='\r\n                                                 <div class="detail-again">\r\n                                                     <p class="detail-price">',$out+=$escape(num.title),$out+='</p>\r\n                                                     <p class="detail-num">',$out+=$escape(num.price),$out+="</p>\r\n                                                 </div>\r\n                                            "}),$out+="\r\n                                         "),$out+="\r\n                                    </div>\r\n                                "}),$out+='\r\n                                <span class="icon up-icon"></span>\r\n                            </div>\r\n                        '}$out+="   \r\n                        </span>\r\n                    </div>\r\n                   "}if($out+="\r\n                    ",promotionList&&promotionList.length&&($out+='\r\n                        <div class="comments jtxz-detail-hover">\r\n                            <i class="icon notice2-icon"></i>\r\n                            <div class="jtxz-detail2 T_width2 white">\r\n                                ',_.each(promotionList,function(item){$out+='\r\n                                   <p class="YD_mgb">',$out+=$escape(item.campaignName),$out+="：￥",$out+=$escape(item.dicountMoney),$out+="</p>\r\n                                "}),$out+='\r\n                                <span class="icon up-icon"></span>\r\n                            </div>\r\n                        </div> \r\n                    '),$out+="\r\n                   ",pay_flag&&($out+="\r\n                      ",goSignFlag||($out+='\r\n                            <div class="still-need-to-pay"><span class="price-text">还需支付</span><span><em>',$out+=$escape(alsoPay),$out+="</em></span></div>\r\n                      "),$out+="\r\n                   "),$out+='\r\n                 </div>\r\n            </div>\r\n        </div>\r\n         <div class="series-btn">       \r\n\r\n              ',"OS0098"!=orderStatusCode&&"OS0099"!=orderStatusCode&&"OS011"!=orderStatusCode||($out+='\r\n                <div class="book-again an_mo">\r\n                   <a class="btn again" href="',$out+=$escape(product_url),$out+='" m="点击____再次预订">再次预订</a>\r\n                </div>\r\n              '),$out+="\r\n\r\n              ",(cancelOrder||isCancelOrder)&&($out+='\r\n              <div class="cancel-order an_mo">\r\n                 <a class="btn periCancelOrder" href="javascript:;" liwithhan="点击_取消订单____取消订单" >取消订单</a>\r\n              </div>\r\n              '),$out+="\r\n              \r\n              ",checkedLossFlagAbord&&timeLeft&&($out+='\r\n              <div class="check-verify-detail an_mo">\r\n                 <a class="btn check-verify-btn" href="tn?r=user/user/accountDetail&orderId=',$out+=$escape(orderId),$out+="&orderType=",$out+=$escape(orderType),$out+="&usedTravelCouponsPrice=",$out+=$escape(usedTravelCouponsPrice),$out+="&payAmount=",$out+=$escape(payAmount),$out+='&render=0" liwithhan="点击_查看核损金额____查看核损金额" >\r\n                    <em class="check-verify-text">查看核损金额</em>\r\n                    <em class="check-verify-time">',$out+=$escape(formatTime(timeLeft)),$out+="</em>\r\n                 </a>\r\n              </div>\r\n              "),$out+="\r\n\r\n              ",canReduceTourer?$out+='\r\n              <div class="modify-order an_mo">\r\n                 <a class="btn modifyOrder" href="javascript:;" liwithhan="点击_修改订单____修改订单" >修改订单</a>\r\n              </div>\r\n              ':canChangeBeforSign&&($out+='\r\n              <div class="before-sign an_mo">\r\n                 <a class="btn beforeOrder" href="javascript:;" liwithhan="点击_侧边栏____发起修改订单" >修改订单</a>\r\n              </div>\r\n              '),$out+="\r\n\r\n             ",affirmSendFlag&&($out+='\r\n              <div class="confirm-group">\r\n                 <a class="btn confirm-btn" href="javascript:;" >确认出团</a>\r\n              </div>\r\n             '),$out+=" \r\n\r\n             ",accountEntrySwitch&&($out+='\r\n              <div class="account-entry">\r\n                 <a class="btn entry-btn" href="javascript:;">添加理赔</a>\r\n              </div>\r\n             '),$out+=" \r\n\r\n             ",isNeedPerfectTourist&&beforeDayNum&&($out+='\r\n              <div class="perfect-tourist an_mo">\r\n                 <a class="btn perfect-btn" href="/tours/',$out+=$escape(productId),$out+="/book/step2/",$out+=$escape(orderId),$out+='?from=user&operationFlag=2&version=2" m="点击_侧边栏____完善出游信息">补全信息</a>\r\n              </div>\r\n             '),$out+=" \r\n\r\n             ",contractList&&contractList.length){var len=contractList.length;$out+='\r\n            <div class="pact">             \r\n                ',1==len?($out+='\r\n                  <a href="javascript:;" class="btn-agree one-agreements" data-key="',$out+=$escape(contractList[0].key),$out+='">签署',$out+=$escape(contractList[0].name),$out+="</a>\r\n                "):($out+='\r\n                   <div>\r\n                        <a href="javascript:;" class="btn-agree show-agreements">签署协议<i class="icon2 bottom-icon"></i></a>\r\n                        <div class="protocol-list">\r\n                            ',_.each(contractList,function(contract){$out+='\r\n                                <p class="list-content"><a class="one-agreements" href="javascript:;" data-key="',$out+=$escape(contract.key),$out+='">',$out+=$escape(contract.name),$out+="</a></p>\r\n                            "}),$out+='\r\n                            <span class="icon up-icon"></span>\r\n                        </div>\r\n                   </div>\r\n                 '),$out+="\r\n            </div>\r\n             "}return $out+='\r\n              <div class="sign">\r\n                 ',sign_flag?($out+="\r\n                    ",totalPrice&&pay_flag?($out+='\r\n                     <div class="an_mo">\r\n                       <a class="btn go-to-sign" href="/tours/',$out+=$escape(productId),$out+="/book/step3/",$out+=$escape(orderId),$out+='" m="点击_签约____签约" >去签约</a>\r\n                     </div>  \r\n                    '):($out+='\r\n                     <div class="an_mo" liwithhan="点击_签约____签约">\r\n                       <a class="btn go-to-sign" href="/tours/',$out+=$escape(productId),$out+="/book/step3/",$out+=$escape(orderId),$out+='" >去签约</a>\r\n                     </div>  \r\n                    '),$out+="\r\n                 "):($out+="\r\n                    ",pay_flag&&($out+='\r\n                     <div class="an_mo" liwithhan="点击_付款____付款">\r\n                       <a class="btn go-to-pay" href="/tn?r=order/tourV3Order/OrderPayRedirect&orderId=',$out+=$escape(orderId),$out+='" >去付款</a>\r\n                     </div> \r\n                    '),$out+="\r\n                 "),$out+="\r\n                ",canComment&&($out+='\r\n                    <div class="an_mo" liwithhan="点击_去点评____去点评">\r\n                       <a class="btn go-to-comment" href="http://i.tuniu.com/ordercomment/',$out+=$escape(orderId),$out+='" target="_blank">去点评</a>\r\n                    </div> \r\n                '),$out+="\r\n              </div>\r\n         </div>\r\n    </div>\r\n</div>",new String($out)}return function(){var obj={};arguments[0]=arguments[0]||{};for(var key2 in arguments[0])obj[key2]=arguments[0][key2];for(var key in template.helpers)obj[key]=template.helpers[key];return window.pageDataObj&&(obj.bookStep=window.pageDataObj.bookStep,obj.pageType=window.pageDataObj.pageType,obj.proType=window.pageDataObj.proType,obj.proLine=window.pageDataObj.proLine,obj.proMode=window.pageDataObj.proMode),anonymous.call(template.utils,obj).toString()}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(fn){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=fn,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function(template){function anonymous($data,$filename){"use strict";var $utils=this,$escape=($utils.$helpers,$utils.$escape),src=$data.src,$out="";return $out+='<div class="T_popup_panel T_confirm_travel">\r\n    <h2>\r\n        <span class="T_title">确认出团通知书</span>\r\n        <i class="T_close"></i>\r\n    </h2>\r\n    <main>\r\n        <iframe src="',$out+=$escape(src),$out+='" frameborder="0" width="100%" height="430"></iframe>\r\n    </main>\r\n    <footer>\r\n        <button class="T_confirm">确认</button>\r\n        <button class="T_cancel">取消</button>\r\n    </footer>\r\n</div>',new String($out)}return function(){var obj={};arguments[0]=arguments[0]||{};for(var key2 in arguments[0])obj[key2]=arguments[0][key2];for(var key in template.helpers)obj[key]=template.helpers[key];return window.pageDataObj&&(obj.bookStep=window.pageDataObj.bookStep,obj.pageType=window.pageDataObj.pageType,obj.proType=window.pageDataObj.proType,obj.proLine=window.pageDataObj.proLine,obj.proMode=window.pageDataObj.proMode),anonymous.call(template.utils,obj).toString()}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(fn){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=fn,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function(template){function anonymous($data,$filename){"use strict";var $utils=this,$out=($utils.$helpers,"");return $out+='<div class="edit_order" id="edit_order">\r\n    <h2 class="an_mo">提示</h2>\r\n    <div class="hesun_main">\r\n        <div class="hesun_con">\r\n            <div class="fail_text">修改订单，机票酒店等资源需要重新占位，订单价格以客服确认后为准，优惠活动将重新参加。</div>\r\n        </div>\r\n        <div class="hesun_but">\r\n            <span class="an_mo"><a href="javascript:void(0)" id="order_deter" class="order_deter" m="点击_侧边栏_修改订单_ 修改订单弹窗____确认修改提示">确定</a></span>\r\n            <span class="an_mo"><a href="javascript:void(0)" class="order_cancel" m="点击_侧边栏_修改订单_ 修改订单弹窗____取消提示弹窗">取消</a></span>\r\n        </div>\r\n    </div>\r\n</div>',new String($out)}return function(){var obj={};arguments[0]=arguments[0]||{};for(var key2 in arguments[0])obj[key2]=arguments[0][key2];for(var key in template.helpers)obj[key]=template.helpers[key];return window.pageDataObj&&(obj.bookStep=window.pageDataObj.bookStep,obj.pageType=window.pageDataObj.pageType,obj.proType=window.pageDataObj.proType,obj.proLine=window.pageDataObj.proLine,obj.proMode=window.pageDataObj.proMode),anonymous.call(template.utils,obj).toString()}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),tpl=__webpack_require__(67),tools=__webpack_require__(13),config=__webpack_require__(6),pageDataObj=config.pageDataObj;module.exports=backbone.View.extend({el:"#m-left-nav",events:{"click .m-left-nav>div":"toggleNavActive"},initialize:function(){0==pageDataObj.isHide&&(this.render(),pageDataObj.theme&&pageDataObj.theme.themeUrl&&(eventTrack=window.eventTrack||[],eventTrack.push({text:"出现_订单详情页_"+pageDataObj.theme.classBrandParentName+pageDataObj.baseInfo.productId+"_"+pageDataObj.theme.destinationName+"___百货专题",x:0,y:0})))},render:function(){var html,data=this.model.toJSON();html=tpl(data),this.$el.html(html).show()},toggleNavActive:function(e){var target=$(e.currentTarget),thisId="#"+target.attr("data-id");thisId&&(target.hasClass("active")||tools.scrollTo($(thisId)))}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(fn){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=fn,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function(template){function anonymous($data,$filename){"use strict";var $utils=this,flight=($utils.$helpers,$data.flight),train=$data.train,bus=$data.bus,packAge=$data.packAge,connection=$data.connection,busService=$data.busService,hotel=$data.hotel,cruise=$data.cruise,localTour=$data.localTour,singleRoom=$data.singleRoom,upgradePlan=$data.upgradePlan,shuttleCar=$data.shuttleCar,ticket=$data.ticket,addItem=$data.addItem,bookingInfo=$data.bookingInfo,gift=$data.gift,visa=$data.visa,home=$data.home,assurance=$data.assurance,groupTravel=$data.groupTravel,groupCar=$data.groupCar,accommodation=$data.accommodation,groupDeal=$data.groupDeal,contacter=$data.contacter,ticketer=$data.ticketer,tourist=$data.tourist,insurance=$data.insurance,lossInfo=$data.lossInfo,globalBuy=$data.globalBuy,recommend=$data.recommend,theme=$data.theme,$escape=$utils.$escape,productId=$data.productId,$out="";return $out+='\r\n<div class="nav-orderInfo active" data-id="m-orderInfo">\r\n    <span class="left-icon"><i class="icon2 orderInfo-icon2"></i></span>\r\n    <span class="right-name">订单信息</span>\r\n</div>\r\n\r\n',flight&&($out+='\r\n<div class="nav-airplaneInfo" data-id="m-airplaneInfo">\r\n    <span class="left-icon"><i class="icon2 airplane-icon2"></i></span>\r\n    <span class="right-name">机票信息</span>\r\n</div>\r\n'),$out+="\r\n\r\n",train&&($out+='\r\n<div class="nav-trainInfo" data-id="m-trainInfo">\r\n    <span class="left-icon"><i class="icon2 train-icon2"></i></span>\r\n    <span class="right-name">火车票信息</span>\r\n</div>\r\n'),$out+="\r\n\r\n",bus&&($out+='\r\n<div class="nav-busInfo" data-id="m-busInfo">\r\n    <span class="left-icon"><i class="icon2 bus-icon2"></i></span>\r\n    <span class="right-name">汽车票信息</span> \r\n</div>\r\n'),$out+="\r\n\r\n",packAge&&($out+='\r\n<div class="nav-packageInfo" data-id="m-package">\r\n    <span class="left-icon"><i class="icon2 package-icon2"></i></span>\r\n    <span class="right-name">行程套餐</span>\r\n</div>\r\n'),$out+="\r\n\r\n",connection&&($out+='\r\n<div class="nav-transportInfo" data-id="m-transport">\r\n    <span class="left-icon"><i class="icon2 transport-icon2"></i></span>\r\n    <span class="right-name">联运方案</span>  \r\n</div>\r\n'),$out+="\r\n\r\n",busService&&($out+='\r\n<div class="nav-pickUpPointInfo" data-id="m-pickUpPoint">\r\n    <span class="left-icon"><i class="icon2 point-icon2"></i></span>\r\n    <span class="right-name">上车地点</span>\r\n</div>\r\n'),$out+="\r\n\r\n",hotel&&($out+='\r\n<div class="nav-hotelInfo" data-id="m-hotelInfo">\r\n    <span class="left-icon"><i class="icon2 hotel-icon2"></i></span>\r\n    <span class="right-name">酒店信息</span>  \r\n</div>\r\n'),$out+="\r\n\r\n",cruise&&($out+='\r\n<div class="nav-cruiseInfo" data-id="m-cruise">\r\n    <span class="left-icon"><i class="icon2 cruise-icon2"></i></span>\r\n    <span class="right-name">邮轮</span>\r\n</div>\r\n'),$out+="\r\n\r\n",localTour&&($out+='\r\n<div class="nav-localEventsInfo" data-id="m-localEvents">\r\n    <span class="left-icon"><i class="icon2 local-icon2"></i></span>\r\n    <span class="right-name">当地参团</span> \r\n</div>\r\n'),$out+="\r\n\r\n",singleRoom&&($out+='\r\n<div class="nav-singleRoomInfo" data-id="m-singleRoom">\r\n    <span class="left-icon"><i class="icon2 single-icon2"></i></span>\r\n    <span class="right-name">单房差</span>\r\n</div>\r\n'),$out+="\r\n\r\n",upgradePlan&&($out+='\r\n<div class="nav-upgradeSolutionInfo" data-id="m-upgrade">\r\n    <span class="left-icon"><i class="icon2 upgrade-icon2"></i></span>\r\n    <span class="right-name">升级方案</span>\r\n</div>\r\n'),$out+="\r\n\r\n",shuttleCar&&($out+='\r\n<div class="nav-transferInfo" data-id="m-transfer">\r\n    <span class="left-icon"><i class="icon2 transfer-icon2"></i></span>\r\n    <span class="right-name">接送机</span>  \r\n</div>\r\n'),$out+="\r\n\r\n",ticket&&($out+='\r\n<div class="nav-ticketInfo" data-id="m-ticket">\r\n    <span class="left-icon"><i class="icon2 ticket-icon2"></i></span>\r\n    <span class="right-name">门票</span>\r\n</div>\r\n'),$out+="\r\n\r\n",addItem&&($out+='\r\n<div class="nav-additionalInfo" data-id="m-additional">\r\n    <span class="left-icon"><i class="icon2 additional-icon2"></i></span>\r\n    <span class="right-name">附加项目</span> \r\n</div>\r\n'),$out+="\r\n\r\n",bookingInfo&&($out+='\r\n<div class="nav-bookingInfo" data-id="m-bookingInfo">\r\n    <span class="left-icon"><i class="icon2 additional-icon2"></i></span>\r\n    <span class="right-name">附加信息</span>\r\n</div>\r\n'),$out+="\r\n\r\n",gift&&($out+='\r\n<div class="nav-presentInfo" data-id="m-present">\r\n    <span class="left-icon"><i class="icon2 present-icon2"></i></span>\r\n    <span class="right-name">赠品信息</span> \r\n</div>\r\n'),$out+="\r\n\r\n",visa&&($out+='\r\n<div class="nav-visaInfo" data-id="m-visa">\r\n    <span class="left-icon"><i class="icon2 visa-icon2"></i></span>\r\n    <span class="right-name">签证信息</span>   \r\n</div>\r\n'),$out+="\r\n\r\n\r\n",home&&($out+='\r\n<div class="nav-visitingInfo" data-id="m-visiting">\r\n    <span class="left-icon"><i class="icon2 visiting-icon2"></i></span>\r\n    <span class="right-name">上门服务</span>  \r\n</div>\r\n'),$out+="\r\n\r\n",assurance&&($out+='\r\n<div class="nav-guaranteInfo" data-id="m-guarante">\r\n    <span class="left-icon"><i class="icon2 guarante-icon2"></i></span>\r\n    <span class="right-name">担保金办理</span>\r\n</div>\r\n'),$out+="\r\n\r\n",groupTravel&&($out+='\r\n<div class="nav-travelPlan" data-id="m-travelPlan">\r\n    <span class="left-icon"><i class="icon2 travelPlan-icon2"></i></span>\r\n    <span class="right-name">出游计划</span>   \r\n</div>\r\n'),$out+="\r\n\r\n",groupCar&&($out+='\r\n<div class="nav-useTheCar" data-id="m-useTheCar">\r\n    <span class="left-icon"><i class="icon2 useTheCar-icon2"></i></span>\r\n    <span class="right-name">用车</span>   \r\n</div>\r\n'),$out+="\r\n\r\n",accommodation&&($out+='\r\n<div class="nav-accommodation" data-id="m-accommodation">\r\n    <span class="left-icon"><i class="icon2 accommodation-icon2"></i></span>\r\n    <span class="right-name">住宿</span>   \r\n</div>\r\n'),$out+="\r\n\r\n",groupDeal&&($out+='\r\n<div class="nav-haveDinner" data-id="m-haveDinner">\r\n    <span class="left-icon"><i class="icon2 haveDinner-icon2"></i></span>\r\n    <span class="right-name">用餐</span>   \r\n</div>\r\n'),$out+="\r\n",contacter&&($out+='\r\n<div class="nav-contactInfo" data-id="m-contact">\r\n    <span class="left-icon"><i class="icon2 contact-icon2"></i></span>\r\n    <span class="right-name">联系人信息</span> \r\n</div>\r\n'),$out+="\r\n\r\n",ticketer&&($out+='\r\n<div class="nav-contactInfo" data-id="m-contact">\r\n    <span class="left-icon"><i class="icon2 contact-icon2"></i></span>\r\n    <span class="right-name">取票人信息</span> \r\n</div>\r\n'),$out+="\r\n\r\n",tourist&&($out+='\r\n<div class="nav-touristInfo" data-id="m-tourist">\r\n    <span class="left-icon"><i class="icon2 tourist-icon2"></i></span>\r\n    <span class="right-name">出游人信息</span> \r\n</div>\r\n'),$out+="\r\n\r\n",insurance&&($out+='\r\n<div class="nav-insuranceInfo" data-id="m-insurance">\r\n    <span class="left-icon"><i class="icon2 insurance-icon2"></i></span>\r\n    <span class="right-name">保险信息</span>   \r\n</div>\r\n'),$out+="\r\n\r\n",lossInfo&&($out+='\r\n<div class="nav-lossInfo" data-id="m-lossInfo">\r\n    <span class="left-icon"><i class="icon2 lossInfo-icon2"></i></span>\r\n    <span class="right-name">退改信息</span>   \r\n</div>\r\n'),$out+='\r\n\r\n\r\n<div class="nav-receiptInfo" data-id="m-receipt">\r\n    <span class="left-icon"><i class="icon2 receipt-icon2"></i></span>\r\n    <span class="right-name">发票信息</span> \r\n</div>\r\n\r\n',globalBuy&&($out+='\r\n<div class="nav-global-buy" data-id="m-global-buy">\r\n    <span class="left-icon"><i class="icon2 globalBuy-icon2"></i></span>\r\n    <span class="right-name">全球购优惠券</span>\r\n</div>\r\n'),$out+="\r\n\r\n",recommend&&($out+='\r\n<div class="nav-recommend" data-id="m-recommend">\r\n    <span class="left-icon"><i class="icon2 recommend-icon2"></i></span>\r\n    <span class="right-name">当地推荐</span>\r\n</div>\r\n'),$out+="\r\n\r\n",theme&&theme.themeUrl&&($out+='\r\n    <div class="nav-island">\r\n        <a href="',$out+=$escape(theme.themeUrl),$out+='" m="点击_订单详情页_',$out+=$escape(theme.classBrandParentName),$out+=$escape(productId),$out+="_",$out+=$escape(theme.destinationName),$out+='___百货专题">\r\n            <div class="nav-island-title">为你推荐</div>\r\n            <img src="https://m2.tuniucdn.com/fb2/t1/G5/M00/3A/5A/Cii-tFsiD9yIUGI2AAAZnZTtPd4AAIhcwJ3ySMAABm1682.png"/ class="icon">\r\n            <div class="nav-island-left">\r\n                <p>旅游百货</p>\r\n                <p>出行带好物，欢乐游海岛</p>\r\n            </div>\r\n        </a>\r\n    </div>\r\n'),new String($out)}return function(){var obj={};arguments[0]=arguments[0]||{};for(var key2 in arguments[0])obj[key2]=arguments[0][key2];for(var key in template.helpers)obj[key]=template.helpers[key];return window.pageDataObj&&(obj.bookStep=window.pageDataObj.bookStep,obj.pageType=window.pageDataObj.pageType,obj.proType=window.pageDataObj.proType,obj.proLine=window.pageDataObj.proLine,obj.proMode=window.pageDataObj.proMode),anonymous.call(template.utils,obj).toString()}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),tpl=__webpack_require__(69),orderTpl=__webpack_require__(70),config=__webpack_require__(6),Layer=__webpack_require__(16),eventBus=(config.pageDataObj,__webpack_require__(5));module.exports=backbone.View.extend({el:"#m-orderInfo",events:{"click .m-more":"showChangeDetail","click .load-hover":"showAttachments"},initialize:function(){this.render()},render:function(){var html,data=this.model.toJSON();html=tpl(data),this.$el.html(html).show()},showChangeDetail:function(){var data=this.model.toJSON(),html=orderTpl(data);Layer.open({type:1,title:!1,closeBtn:1,area:["auto","auto"],content:html})},showAttachments:function(e){var target=$(e.currentTarget),code=target.attr("data-code"),data=this.model.checkAttachments(code),text=target.text();eventBus.trigger("showAttachmentsTab",data,text)},showNotHaveThisOrder:function(){$.layer({type:1,area:["310px","150px"],btns:1,btn:["确定"],page:{html:'<p class="T_alert" style="width: 280px;text-align: center;">无此订单</p>'},end:function(){layer.closeAll(),window.location.href="https://i.tuniu.com/list/"}})}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(fn){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=fn,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function(template){function anonymous($data,$filename){"use strict";var $utils=this,hasChangeRecord=($utils.$helpers,$data.hasChangeRecord),imgStr=$data.imgStr,moveLeft=$data.moveLeft,_=$data._,textStr=$data.textStr,len=$data.len,lenClass=$data.lenClass,$escape=$utils.$escape,productUrl=($data.item,$data.index,$data.productUrl),productName=$data.productName,orderType=$data.orderType,orderDate=$data.orderDate,startDate=$data.startDate,spotName=$data.spotName,adultCount=$data.adultCount,childCount=$data.childCount,startCity=$data.startCity,endDate=$data.endDate,showCruiseVendor=$data.showCruiseVendor,cruiseVendorName=$data.cruiseVendorName,dpnSyncSendTime=$data.dpnSyncSendTime,showRefunds=$data.showRefunds,refundUrl=$data.refundUrl,attachments=$data.attachments,$out="";if($out+='<h2 class="an_mo">\r\n    ',hasChangeRecord&&($out+='\r\n    <a class="m-more" m="点击_订单信息____变更记录">查看变更</a>\r\n    '),$out+='\r\n    <span class="icon2 order-icon"></span>\r\n    <span class="m-title">订单信息</span>\r\n    \r\n</h2>\r\n<div class="modular-body">\r\n    ',imgStr){$out+='\r\n    <div class="order-schedule">\r\n         ';var moveLeft=!1;if(_.isEmpty(imgStr.textStr)||6!=imgStr.textStr.length||(moveLeft=!0),$out+='\r\n         <div class="order-schedule-text moveLeft">\r\n              ',!_.isEmpty(imgStr.textStr)){var textStr=imgStr.textStr,len=textStr.length,lenClass="len"+imgStr.value;$out+='\r\n                 <ul class="',$out+=$escape(lenClass),$out+='">\r\n                     ',_.each(textStr,function(item,index){$out+='\r\n                         <li class="index_',$out+=$escape(index),$out+=" ",index==imgStr.textIndex&&($out+="active"),$out+="  ",index==len-1&&($out+="last"),$out+='" ><span><i class="icon2 active-icon"></i>',$out+=$escape(item),$out+="</span></li>\r\n                     "}),$out+="\r\n                 </ul>\r\n              "}$out+='\r\n              <div class="clear-float"></div>\r\n         </div>\r\n         <div  class="order-schedule-img">\r\n               <img src="http://ssl3.tuniucdn.com/img/201710091856/bookOnline/order_detail/',$out+=$escape(imgStr.value),$out+='.png"/>\r\n         </div>         \r\n    </div>\r\n    '}return $out+='\r\n    <div class="product-info">\r\n         <div class="productName an_mo"><a href="',$out+=$escape(productUrl),$out+='" m="点击_产品线路____查看产品线路信息" target="_blank" >',$out+=$escape(productName),$out+="</a></div>\r\n         ",75==orderType?($out+='\r\n          <div class="panel">\r\n              <span class="panel-middle">预订时间：<em>',$out+=$escape(orderDate),$out+='</em></span>\r\n              <span class="panel-middle">使用时间：<em>',$out+=$escape(startDate),$out+='</em></span>\r\n              <span class="panel-left f-ol">景点名称：<em title="',$out+=$escape(spotName),$out+='">',$out+=$escape(spotName),$out+="</em></span>\r\n         </div>\r\n         "):($out+='\r\n         <div class="panel">\r\n              <span class="panel-left">预订时间：<em>',$out+=$escape(orderDate),$out+='</em></span>\r\n              <span class="panel-middle">出发时间：<em>',$out+=$escape(startDate),$out+='</em></span>\r\n              <span class="panel-right">出游人数：<em> \r\n              ',adultCount>=0&&($out+="\r\n                 ",$out+=$escape(adultCount),$out+="成人 \r\n              "),$out+="\r\n              ",childCount>=0&&($out+="\r\n                 ",$out+=$escape(childCount),$out+="儿童\r\n              "),$out+='\r\n              </em></span>\r\n         </div>\r\n         <div class="panel">\r\n              <span class="panel-left">出发地点：<em>',$out+=$escape(startCity),$out+='</em></span>\r\n              <span class="panel-middle">归来时间：<em>',$out+=$escape(endDate),$out+='</em></span>\r\n         </div>\r\n         <div class="panel">\r\n             ',showCruiseVendor&&($out+='\r\n             <span class="panel-left">已选套餐：<em>',$out+=$escape(cruiseVendorName),$out+="</em></span>\r\n             "),$out+="\r\n         </div>\r\n         "),$out+="\r\n         ","6_2"==imgStr&&($out+='\r\n         <div class="order-status-tips">\r\n             ',dpnSyncSendTime&&($out+="\r\n\r\n               ",dpnSyncSendTime.factSendTime?($out+="\r\n                  出团通知书",$out+=$escape(dpnSyncSendTime.factSendTime),$out+="已发送，请及时确认\r\n               "):($out+="\r\n                   ",dpnSyncSendTime.estimateSendTime?($out+="\r\n                       出团通知书预计",$out+=$escape(dpnSyncSendTime.estimateSendTime),$out+="发送（预计时间仅供参考，请以实际发送时间为准）\r\n                   "):$out+="\r\n                       出团通知书最迟在出游前一天通过邮件、短信和APP发送                       \r\n                   ",$out+="\r\n               "),$out+="\r\n\r\n             "),$out+="\r\n         </div>\r\n         "),$out+="\r\n         ",showRefunds&&($out+='\r\n         <div class="refunds" class="an_mo">\r\n              您有一笔退款为退款中状态<span class="click-to-details"><a href="',$out+=$escape(refundUrl),$out+='" m="点击_订单信息____查看退款进度">查看详细<i class="icon2 details-icon"></i></a></span>\r\n         </div>\r\n         '),$out+="\r\n         ",attachments&&attachments.length&&($out+='\r\n         <div class="attachments">\r\n              <div class="title">\r\n                附件下载：\r\n              </div>\r\n              <div class="list">\r\n                 <ul>\r\n                     ',_.each(attachments,function(item){$out+="\r\n                        ",item.fileTypeName&&($out+='\r\n                           <li class="f-ol"><a href="javascript:;" m="点击_订单信息____查看附件" class="load-hover" title="',$out+=$escape(item.fileTypeName),$out+='" data-code="',$out+=$escape(item.fileTypeCode),$out+='" >',$out+=$escape(item.fileTypeName),$out+='<i class="icon2 load-icon"></i></a></li>\r\n                        '),$out+="   \r\n                     "}),$out+='\r\n                 </ul>\r\n                 <div class="clear-float"></div>\r\n              </div>             \r\n         </div> \r\n         '),$out+="        \r\n    </div>\r\n\r\n\r\n</div>",new String($out)}return function(){var obj={};arguments[0]=arguments[0]||{};for(var key2 in arguments[0])obj[key2]=arguments[0][key2];for(var key in template.helpers)obj[key]=template.helpers[key];return window.pageDataObj&&(obj.bookStep=window.pageDataObj.bookStep,obj.pageType=window.pageDataObj.pageType,obj.proType=window.pageDataObj.proType,obj.proLine=window.pageDataObj.proLine,obj.proMode=window.pageDataObj.proMode),anonymous.call(template.utils,obj).toString()}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(fn){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=fn,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function(template){function anonymous($data,$filename){"use strict";var $utils=this,orderChange=($utils.$helpers,$data.orderChange),_=$data._,$escape=($data.item,$utils.$escape),$out=($data.num,$data.index,"");return orderChange&&orderChange.length&&($out+='\r\n    <div class="popup_main order_change_box">\r\n        <div class="popup_title">\r\n          <p class="popup_title_text">查看变更记录</p>\r\n        </div>\r\n        <div class="popup_body">\r\n          <ul class="change_list_popup">\r\n          ',_.each(orderChange,function(item){$out+='\r\n            <li class="change_detail">\r\n              <p class="change_name"> ',$out+=$escape(item.submitTime),$out+=' 发起变更处理 <span class="change_status">',$out+=$escape(item.statusName),$out+="</span></p>\r\n\r\n              ",item.beforeAmount&&item.afterAmount&&($out+='\r\n                <p class="change_price"><span class="change_price_title">订单金额:</span><span class="change_price_detail">',$out+=$escape(item.beforeAmount),$out+=" -> ",$out+=$escape(item.afterAmount),$out+="</span></p>\r\n              "),$out+="\r\n\r\n              ",item.recordContentList&&item.recordContentList.length&&($out+="\r\n                ",_.each(item.recordContentList,function(num,index){$out+='\r\n                  <p class="change_content">\r\n                    <span class="change_content_title">',0==index&&($out+=" 变更内容 "),$out+='</span>\r\n                    <span class="change_content_type" title="',$out+=$escape(num.changeContentName),$out+='">',$out+=$escape(num.changeContentName),$out+='</span>\r\n                    <span class="change_content_detail">\r\n                      ',num.showMoreDetail&&($out+="\r\n                        ",$out+=$escape(num.numDescBefore),$out+=" -> ",$out+=$escape(num.numDescAfter),$out+="\r\n                      "),$out+="\r\n                    </span>\r\n                  </p>\r\n                "}),$out+="\r\n              "),$out+="\r\n            </li> \r\n          "}),$out+="\r\n          </ul>\r\n        </div>\r\n      </div>\r\n"),new String($out)}return function(){var obj={};arguments[0]=arguments[0]||{};for(var key2 in arguments[0])obj[key2]=arguments[0][key2];for(var key in template.helpers)obj[key]=template.helpers[key];return window.pageDataObj&&(obj.bookStep=window.pageDataObj.bookStep,obj.pageType=window.pageDataObj.pageType,obj.proType=window.pageDataObj.proType,obj.proLine=window.pageDataObj.proLine,obj.proMode=window.pageDataObj.proMode),anonymous.call(template.utils,obj).toString()}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),tpl=__webpack_require__(72),airplane_change=__webpack_require__(73),airplane_schedule_tpl=__webpack_require__(74),Layer=__webpack_require__(16),config=__webpack_require__(6);config.pageDataObj,__webpack_require__(75);module.exports=backbone.View.extend({el:"#m-airplaneInfo",events:{"click .m-more":"showAirChange","click .hasMany":"showSchedule"},initialize:function(){_.isEmpty(this.model.get("list"))||this.render()},render:function(){var html,data=this.model.toJSON();html=tpl(data),this.$el.html(html).show()},showAirChange:function(){var data=this.model.toJSON(),html=airplane_change(data);Layer.open({type:1,title:!1,closeBtn:1,area:["915px","auto"],content:html}),$(".popup_main .popup_body").height()>=513&&$(".popup_main .popup_body").TScroll()},showSchedule:function(){var data=this.model.toJSON();this.showScheduleTpl(data.packetFlightForm,data.tabTitle)},showScheduleTpl:function(data,tabTitle){var html=airplane_schedule_tpl({airList:data,tabTitle:tabTitle});Layer.open({type:1,title:!1,closeBtn:1,area:["600px","auto"],content:html})}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(fn){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=fn,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function(template){function anonymous($data,$filename){"use strict";var $utils=this,list=($utils.$helpers,$data.list),hasFlightChange=$data.hasFlightChange,packetFlightForm=$data.packetFlightForm,len=$data.len,$escape=$utils.$escape,_=$data._,isShowLinker=($data.item,$data.index,$data.resExtendInfo,$data.status,$data.isShowLinker),orderType=($data.flightInfo,$data.detailInfo,$data.ticketNoList,$data.value,$data.orderType),isIndividualFlight=$data.isIndividualFlight,$out="";if(list&&list.length){if($out+='\r\n<h2 class="an_mo">\r\n    ',hasFlightChange&&($out+="\r\n    <a class=\"m-more\" m='点击_机票模块_航变____查看航变'>航班变更</a>\r\n    "),$out+='\r\n    <span class="icon2 air-icon"></span>\r\n    <span class="m-title">机票信息</span>\r\n    ',packetFlightForm&&packetFlightForm.length){var len=packetFlightForm.length;$out+='\r\n        <span class="m-title-desc" id="" class="an_mo">\r\n        ',1==len?($out+='\r\n           <a href="',$out+=$escape(packetFlightForm[0].fileUrl),$out+='" class="load-hover">',$out+=$escape(packetFlightForm[0].fileName),$out+='<i class="icon2 load-icon"></i></a>\r\n        '):$out+='\r\n           <a href="javascript:;" class="hasMany load-hover" m=\'点击_机票模块_机票行程单____查看机票行程单\'>机票行程单<i class="icon2 load-icon"></i></a>\r\n        ',$out+="\r\n        </span>\r\n    "}$out+='\r\n</h2>\r\n<div class="modular-body">\r\n    <div class="flight-journeys">\r\n        ',_.each(list,function(item,index){var resExtendInfo=item.resExtendInfo,status=resExtendInfo&&resExtendInfo.status;$out+='\r\n        <div class="flight-panel">\r\n         ',0!=status&&1!=status||($out+='\r\n         <div class="ticketing-info">\r\n              ',resExtendInfo.statusDesc&&($out+='\r\n                  <span class="status">',$out+=$escape(resExtendInfo.statusDesc),$out+="</span>\r\n              "),$out+="\r\n              ",resExtendInfo.time&&($out+='              \r\n                 <span class="time">',$out+=$escape(resExtendInfo.time),$out+="</span>\r\n              "),$out+="\r\n         </div>\r\n         "),$out+='\r\n         <div class="flight-journey">\r\n              <table>\r\n                 <tr>\r\n                    <td class="route">\r\n                        <div class="trip"><span class="f-ol departure" title="',$out+=$escape(item.departureCityName),$out+='">',$out+=$escape(item.departureCityName),$out+="</span>\r\n                        ",item.destinationCityName&&($out+='\r\n                           <span class="f-ol arrivals" title="',$out+=$escape(item.destinationCityName),$out+='">-',$out+=$escape(item.destinationCityName),$out+="</span>\r\n                        "),$out+='\r\n                        </div>\r\n                        <div class="time">',$out+=$escape(item.departureDate),$out+='</div>\r\n                    </td>\r\n                    <td class="flight">\r\n                        <div class="company f-ol" title="',$out+=$escape(item.departureAirport),$out+='">\r\n                            <i class="airplane-company-icon airport_',$out+=$escape(item.flightCode),$out+='"></i>\r\n                            ',$out+=$escape(item.airlineName),$out+='\r\n                        </div>\r\n                        <div class="number">\r\n                            <span class="flightNo show-hover tour-stop-hover">\r\n                            <em class="f-ol">',$out+=$escape(item.flightNum),$out+=$escape(isShowLinker(item.flightNum,item.planeType)),$out+=$escape(item.planeType),$out+='</em>\r\n                            <div class="stop-over-info">\r\n                                   <table class="stop-over-table">\r\n                                       <tbody>\r\n                                       <tr class="info-title">\r\n                                          ',item.planeType&&($out+='\r\n                                            <td class="planeType">机型</td>\r\n                                          '),$out+="\r\n\r\n                                          ";var flightInfo=item.flightInfo;$out+=" \r\n\r\n                                          ",flightInfo&&flightInfo.planeModelName&&($out+='\r\n                                            <td class="planeModelName">机型名称</td>\r\n                                          '),$out+="\r\n                                          ",flightInfo&&flightInfo.planeType&&($out+='\r\n                                            <td class="planeType">飞机类型</td>\r\n                                          '),$out+="\r\n                                          ",flightInfo&&flightInfo.minSeatCount&&($out+='\r\n                                            <td class="minSeatCount">最小座位数</td>\r\n                                          '),$out+="\r\n                                          ",flightInfo&&flightInfo.maxSeatCount&&($out+='\r\n                                            <td class="maxSeatCount">最大座位数</td>\r\n                                          '),$out+="\r\n\r\n                                          ";var detailInfo=item.detailInfo;$out+="\r\n\r\n                                          ",detailInfo&&detailInfo.meal&&($out+='\r\n                                            <td class="meal">餐食</td>\r\n                                          '),$out+="\r\n                                          ",detailInfo&&detailInfo.transitSign&&($out+='\r\n                                            <td class="transitSign">过境签</td>\r\n                                          '),$out+="\r\n                                          ",detailInfo&&detailInfo.changeRules&&($out+='\r\n                                            <td class="changeRules">退改规则</td>\r\n                                          '),$out+='                                        \r\n                                       </tr>\r\n\r\n                                       <tr class="info-content">\r\n                                          ',item.planeType&&($out+='\r\n                                            <td class="planeType">',$out+=$escape(item.planeType),$out+="</td>\r\n                                          "),$out+="  \r\n\r\n                                          ",flightInfo&&flightInfo.planeModelName&&($out+='\r\n                                            <td class="planeModelName">',$out+=$escape(flightInfo.planeModelName),$out+="</td>\r\n                                          "),$out+="\r\n\r\n                                          ",flightInfo&&flightInfo.planeType&&($out+='\r\n                                            <td class="planeType">',$out+=$escape(flightInfo.planeType),$out+="</td>\r\n                                          "),$out+="\r\n\r\n                                          ",flightInfo&&flightInfo.minSeatCount&&($out+='\r\n                                            <td class="minSeatCount">',$out+=$escape(flightInfo.minSeatCount),$out+="</td>\r\n                                          "),$out+="\r\n\r\n                                          ",flightInfo&&flightInfo.maxSeatCount&&($out+='\r\n                                            <td class="maxSeatCount">',$out+=$escape(flightInfo.maxSeatCount),$out+="</td>\r\n                                          "),$out+="\r\n\r\n                                          ",detailInfo&&detailInfo.meal&&($out+='\r\n                                            <td class="meal">',$out+=$escape(detailInfo.meal),$out+="</td>\r\n                                          "),$out+="\r\n\r\n                                          ",detailInfo&&detailInfo.transitSign&&($out+='\r\n                                            <td class="transitSign">',$out+=$escape(detailInfo.transitSign),$out+="</td>\r\n                                          "),$out+="\r\n\r\n                                          ",detailInfo&&detailInfo.changeRules&&($out+='\r\n                                            <td class="changeRules">',$out+=$escape(detailInfo.changeRules),$out+="</td>\r\n                                          "),$out+='   \r\n                                       </tr>\r\n                                   </tbody></table>\r\n                                    <span class="z">◆</span>\r\n                                    <span class="j">◆</span>\r\n                                </div>\r\n                            </span>\r\n                        </div>\r\n                    </td>\r\n                    <td class="stop">\r\n                        <div class="where f-ol" title="',$out+=$escape(item.departureAirport),$out+='">',$out+=$escape(item.departureAirport),item.terminalDeparture&&item.terminalDeparture.trim()&&($out+="/",$out+=$escape(item.terminalDeparture),$out+="\r\n                        "),$out+='   \r\n                      </div>\r\n                      <div class="when">',$out+=$escape(item.departureTime),$out+='</div>\r\n                    </td>\r\n                    <td class="arrow">\r\n                        <div>\r\n                        ',(item.stopOverCity||item.stopOverTime)&&($out+='\r\n                        <span class="tour-stop-tips">\r\n                            <span class="tour-stop-hover">经停\r\n                                <div class="stop-over-info">\r\n                                   <table class="stop-over-table">\r\n                                       <tbody>\r\n                                       <tr class="info-title">\r\n                                           <td class="airport">经停城市</td>   \r\n                                           ',item.stopOverTime&&($out+='                                     \r\n                                           <td class="stop-time">停留时间</td>\r\n                                           '),$out+='\r\n                                       </tr>\r\n                                       <tr class="info-content">\r\n                                           <td class="airport-detail">',$out+=$escape(item.stopOverCity),$out+="</td>\r\n                                           ",item.stopOverTime&&($out+='  \r\n                                           <td class="stop-time-detail">',$out+=$escape(item.stopOverTime),$out+="</td>\r\n                                           "),$out+='\r\n                                       </tr>\r\n                                   </tbody></table>\r\n                                    <span class="z">◆</span>\r\n                                    <span class="j">◆</span>\r\n                                </div>\r\n                            </span>\r\n                         </span>   \r\n                         '),$out+='                     \r\n                         <span class="tour-stop-time">',$out+=$escape(item.duration),$out+='</span>\r\n                        </div>\r\n                    </td>\r\n                    <td class="stop">\r\n                        <div class="where f-ol" title="',$out+=$escape(item.arriveAirport),$out+='">\r\n                          ',$out+=$escape(item.arriveAirport),item.terminalArrival&&item.terminalArrival.trim()&&($out+="/",$out+=$escape(item.terminalArrival),$out+=" \r\n                          "),$out+='                          \r\n                        </div>\r\n                        <div class="when">',$out+=$escape(item.arriveTime),$out+='</div>\r\n                    </td>\r\n                    <td class="level">\r\n                        ';var ticketNoList=item.ticketNoList;$out+="\r\n                        ",item.seatItem&&($out+='\r\n                        <div class="f-ol type" title="',$out+=$escape(item.seatItem),$out+='">',$out+=$escape(item.seatItem),$out+="</div>\r\n                        "),$out+='\r\n                        <div class="comments jtxz-detail-hover">\r\n                            <em class="f-bb c9">\r\n                            ',$out+=ticketNoList&&ticketNoList.length?"\r\n                                    票号/行李额\r\n                            ":"\r\n                                    行李额\r\n                            ",$out+='\r\n                            </em>\r\n                            <div class="jtxz-detail2 T_width2 white">\r\n                                <p class="YD_title">',$out+=$escape(detailInfo.flightName),$out+=" ",$out+=$escape(detailInfo.flightNo),$out+="</p>\r\n                                ",ticketNoList&&ticketNoList.length&&($out+='\r\n                                <div class="ticketNoList">\r\n                                     <p class="YD_mgb ticket-number">票　号：</p>\r\n                                     <p class="no-list">\r\n                                        ',_.each(ticketNoList,function(value){$out+="\r\n                                           <span>",$out+=$escape(value.touristName),$out+=" ",$out+=$escape(value.number),$out+="</span>\r\n                                        "}),$out+="\r\n                                     </p>\r\n                                </div>\r\n                                "),$out+="\r\n                                ",detailInfo&&detailInfo.baggageInfo?($out+='\r\n                                <p class="YD_mgb">行李额： ',$out+=$escape(detailInfo.baggageInfo),$out+="</p>\r\n                                "):($out+='\r\n                                <p class="YD_mgb">行李额： ',$out+=$escape(detailInfo.baggageNotice),$out+="</p>\r\n                                "),$out+='\r\n                                <span class="icon up-icon"></span>\r\n                            </div>\r\n                        </div>\r\n                    </td>\r\n                    <td class="count">\r\n                        ',item.adultCount>0&&($out+='\r\n                        <div class="adultCount ',item.childCount<=0&&($out+=" no-child "),$out+='">',$out+=$escape(item.adultCount),$out+="成人</div>\r\n                        "),$out+="\r\n                        ",item.childCount>0&&($out+='\r\n                        <div class="childCount">',$out+=$escape(item.childCount),$out+="儿童</div>\r\n                        "),$out+="\r\n                    </td>                    \r\n                 </tr>\r\n              </table>\r\n         </div>\r\n        </div>\r\n        "}),$out+="\r\n    </div>\r\n   ",53!=orderType&&($out+='\r\n   <div class="flight-tips">\r\n        ',$out+=isIndividualFlight?'\r\n          <p class="air_tip an_mo" liwithhan="了解详情">注：以上机票均为实时计价机票，以签约付款完成时价格为准，后期如有价格变动多不退少不补。</p>\r\n        ':'\r\n         <p class="air_tip an_mo" liwithhan="了解详情">注：以上机票为团队票，一经出票，不得更改、不得签转、不得退票。</p> \r\n        ',$out+="  \r\n   </div>\r\n   "),$out+="\r\n</div>\r\n"}return new String($out)}return function(){var obj={};arguments[0]=arguments[0]||{};for(var key2 in arguments[0])obj[key2]=arguments[0][key2];for(var key in template.helpers)obj[key]=template.helpers[key];return window.pageDataObj&&(obj.bookStep=window.pageDataObj.bookStep,obj.pageType=window.pageDataObj.pageType,obj.proType=window.pageDataObj.proType,obj.proLine=window.pageDataObj.proLine,obj.proMode=window.pageDataObj.proMode),anonymous.call(template.utils,obj).toString()}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(fn){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=fn,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function(template){function anonymous($data,$filename){"use strict";var $utils=this,_=($utils.$helpers,$data._),flightChange=$data.flightChange,$escape=($data.item,$utils.$escape),makeString=($data.info,$data.num,$data.makeString),$out=($data.str,"");return $out+='<div class="popup_main flight_change_box ">\r\n\t<div class="popup_title">\r\n\t\t<p class="popup_title_text">航班变更详情</p>\r\n\t</div>\r\n\t<div class="popup_body">\r\n\t\t<ul class="flight_change_list">\r\n\t\t',_.each(flightChange,function(item){if($out+='\r\n\t\t\t<li class="flight_change_detail">\r\n\t\t\t\t<p class="flight_change_name">变更航班 <span class="flight_name">',$out+=$escape(item.flightNum),$out+=" ",$out+=$escape(item.departureCityName),$out+="-",$out+=$escape(item.destinationCityName),$out+='</span></p>\r\n\r\n\t\t\t\t<ul class="flight_change_detail_list">\r\n\t\t\t\t\t',item.flightChangeInfo){var info=item.flightChangeInfo;$out+="\r\n\t\t\t\t\t",_.each(info,function(num){$out+='\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<p class="flight_detail_name"><span class="flightNoName">',$out+=$escape(num.flightNoName),$out+='</span><span class="flight_detail_base_info">',$out+=$escape(num.flightNum),$out+=" ",$out+=$escape(num.departureCityName),$out+="-",$out+=$escape(num.destinationCityName),$out+='</span></p>\r\n\t\t\t\t\t\t\t\t<div class="flight_detail">\r\n\t\t\t\t\t\t\t\t\t<p class="flight_detail_cell flight_date">',$out+=$escape(num.departureDate),$out+='</p>\r\n\t\t\t\t\t\t\t\t\t<p class="flight_detail_cell flight_no">航班号:',$out+=$escape(num.flightNum),$out+=' </p>\r\n\t\t\t\t\t\t\t\t\t<p class="flight_detail_cell flight_time"><span class="arrveTime">',$out+=$escape(num.departureTime),$out+='</span><span class="airPort">',$out+=$escape(makeString([num.departureAirport,""],"/")),$out+='</span></p>\r\n\t\t\t\t\t\t\t\t\t<p class="flight_detail_cell flight_duration">\r\n\t\t\t\t\t\t\t\t\t   ';var str="";num.stopCity&&(str+=num.stopCity+"经停"),num.stopDuration&&(str+=" 时长约"+num.stopDuration),$out+='\r\n\t\t\t\t\t\t\t\t\t   <span class="stop-info f-ol" title="',$out+=$escape(str),$out+='">\r\n\t\t\t\t\t\t\t\t\t      ',$out+=$escape(str),$out+='\r\n\t\t\t\t\t\t\t\t\t   </span>\r\n\t\t\t\t\t\t\t\t\t   <img src="//ssl3.tuniucdn.com/img/201604072050/bookOnline/order_detail/jian.png">\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<p class="flight_detail_cell flight_time"><span>',$out+=$escape(num.arriveTime),$out+="</span><span>",$out+=$escape(makeString([num.arriveAirport,""],"/")),$out+='</span></p>\r\n\t\t\t\t\t\t\t\t\t<p class="flight_detail_cell number">\r\n\t\t\t\t\t\t\t\t\t    ',num.adultNum&&($out+="\r\n\t\t\t\t\t\t\t\t\t\t   ",$out+=$escape(num.adultNum),$out+="成人\r\n\t\t\t\t\t\t\t\t\t\t"),$out+="\r\n\t\t\t\t\t\t\t\t\t\t",num.childNum&&($out+="\r\n\t\t\t\t\t\t\t\t\t\t   ",$out+=$escape(num.childNum),$out+="儿童 \r\n\t\t\t\t\t\t\t\t\t\t"),$out+="\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t"}),$out+="\r\n\t\t\t\t\t"}$out+="\r\n\t\t\t\t</ul>\r\n\t\t\t</li>\r\n\t\t"}),$out+="\t\r\n\t\t</ul>\r\n\t</div>\r\n</div>",new String($out)}return function(){var obj={};arguments[0]=arguments[0]||{};for(var key2 in arguments[0])obj[key2]=arguments[0][key2];for(var key in template.helpers)obj[key]=template.helpers[key];return window.pageDataObj&&(obj.bookStep=window.pageDataObj.bookStep,obj.pageType=window.pageDataObj.pageType,obj.proType=window.pageDataObj.proType,obj.proLine=window.pageDataObj.proLine,obj.proMode=window.pageDataObj.proMode),anonymous.call(template.utils,obj).toString()}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(fn){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=fn,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function(template){function anonymous($data,$filename){"use strict";var $utils=this,$escape=($utils.$helpers,$utils.$escape),tabTitle=$data.tabTitle,_=$data._,airList=$data.airList,$out=($data.item,"");return $out+='<div class="T_popup_panel T_air_schedule">\r\n    <h2>\r\n        <span class="T_title">',$out+=$escape(tabTitle),$out+='</span>\r\n    </h2>\r\n    <main class="T_body">\r\n        \r\n        <ul>\r\n            ',_.each(airList,function(item){$out+='\r\n            <li class="airListRow">\r\n                <p class="fileName"><a href="',$out+=$escape(item.fileUrl),$out+='" title="',$out+=$escape(item.fileName),$out+='" class="load-hover">',$out+=$escape(item.fileName),$out+='<i class="icon2 load-icon"></i></a></p>\r\n            </li>\r\n            '}),$out+="\r\n        </ul>\r\n    </main>\r\n</div>",new String($out)}return function(){var obj={};arguments[0]=arguments[0]||{};for(var key2 in arguments[0])obj[key2]=arguments[0][key2];for(var key in template.helpers)obj[key]=template.helpers[key];return window.pageDataObj&&(obj.bookStep=window.pageDataObj.bookStep,obj.pageType=window.pageDataObj.pageType,obj.proType=window.pageDataObj.proType,obj.proLine=window.pageDataObj.proLine,obj.proMode=window.pageDataObj.proMode),anonymous.call(template.utils,obj).toString()}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(factory){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(14)],__WEBPACK_AMD_DEFINE_FACTORY__=factory,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function($){function Scroll(options){this._init(options)}var defaultOptions={yScroll:!0,xScroll:!1,fixedScrollObjHeight:!0,scrollWrapperStyle:null,scrollObjStyle:null,fixedScrollObjWidth:!0,scrollWrapperStyleX:null,scrollObjStyleX:null,delta:0,deltaX:0},minScrollObjHeight=30,minScrollObjWidth=30;Scroll.prototype._init=function(options){this._options=$.extend({},defaultOptions,options),this.$container=null,this.$scrollWrapper=null,this.$scrollObj=null,this.$slideDiv=null,this.$el=this._options.el,this._loopIndex="",this._pageY="",this.$el.children(".T_scroll_main").length?this._findElement():this._addElement(),this._bindEvents(),this._setLoop()},Scroll.prototype._addElement=function(){var self=this;this.$slideDiv=$('<div class="T_slide"></div>'),this.$el.append(this.$slideDiv),this.$el.contents().each(function(index,item){$(item).hasClass("T_slide")||self.$slideDiv.append(item)}),this.$scrollWrapper=$('<div class="T_scroll_wrapper">'),this.$scrollObj=$('<div class="T_scroll_obj">');var scrollWrapperStyle=this._options.scrollWrapperStyle,scrollObjStyle=this._options.scrollObjStyle;if(scrollWrapperStyle&&this.$scrollWrapper.css(scrollWrapperStyle),scrollObjStyle&&this.$scrollObj.css(scrollObjStyle),this.$scrollWrapper.append(this.$scrollObj),this.$el.append(this.$scrollWrapper),this._options.xScroll){this.$scrollWrapperX=$('<div class="T_scroll_wrapper_x">'),this.$scrollObjX=$('<div class="T_scroll_obj_x">');var scrollWrapperStyleX=this._options.scrollWrapperStyle,scrollObjStyleX=this._options.scrollObjStyle;scrollWrapperStyleX&&this.$scrollWrapperX.css(scrollWrapperStyleX),scrollObjStyleX&&this.$scrollObjX.css(scrollObjStyleX),this.$scrollWrapperX.append(this.$scrollObjX),this.$el.append(this.$scrollWrapperX)}this.$container=$('<div class="T_scroll_main"></div>'),this.$el.append(this.$container),this.$el.contents().each(function(index,item){$(item).hasClass("T_scroll_main")||self.$container.append(item)})},Scroll.prototype._findElement=function(){this.$container=this.$el.children(".T_scroll_main"),this.$scrollWrapper=this.$container.children(".T_scroll_wrapper"),this.$scrollObj=this.$scrollWrapper.children(".T_scroll_obj"),this._options.xScroll&&(this.$scrollWrapperX=this.$container.children(".T_scroll_wrapper_x"),this.$scrollObjX=this.$scrollWrapper.children(".T_scroll_obj_x")),this.$slideDiv=this.$container.children(".T_slide")},Scroll.prototype._bindEvents=function(){var self=this;window.addEventListener&&this.$el[0]&&this.$el[0].addEventListener("DOMMouseScroll",$.proxy(this._scrollFunc,this),!1),this.$el[0]&&(this.$el[0].onmousewheel=$.proxy(this._scrollFunc,this)),this.$scrollObj.off().on("mouseenter",function(){document.body.onselectstart||(document.body.onselectstart=function(){return!1})}),this.$scrollObj.on("mousedown",function(e){1==e.which&&(self._pageY=e.pageY,$(document).on("mousemove.scroll",$.proxy(self._moveFunc,self)))}),this._options.xScroll&&(this.$scrollObjX.off().on("mouseenter",function(){document.body.onselectstart||(document.body.onselectstart=function(){return!1})}),this.$scrollObjX.on("mousedown",function(e){1==e.which&&(self._pageX=e.pageX,$(document).on("mousemove.scroll",$.proxy(self._moveFuncX,self)))})),$(document).on("mouseup.scroll",function(e){1==e.which&&self._stop()})},Scroll.prototype._scrollFunc=function(e){e=e||window.event;var deltaY;"object"==typeof e?(e.preventDefault?e.preventDefault():e.returnValue=!1,deltaY=(e.wheelDelta?-e.wheelDelta:e.detail/3*120)/5):deltaY=e;var newTop,top=this._getSlideTop(),ratio=this._getRatio();if(deltaY>0){if(this._getContentHeight()>this._getHeight()){newTop=top-deltaY;var maxSlideHeight=this._getMaxSlideHeight();Math.abs(newTop)>maxSlideHeight?this.$slideDiv.css("top",-maxSlideHeight):this.$slideDiv.css("top",newTop),"object"==typeof e&&this._moveFunc(deltaY/ratio)}}else newTop=top-deltaY,newTop>0?this.$slideDiv.css("top",0):this.$slideDiv.css("top",newTop),"object"==typeof e&&this._moveFunc(deltaY/ratio)},Scroll.prototype._scrollFuncX=function(e){var newLeft,deltaX=e,left=this._getSlideLeft();if(deltaX>0){if(this._getContentWidth()>this._getWidth()){newLeft=left-deltaX;var maxSlideWidth=this._getMaxSlideWidth();Math.abs(newLeft)>maxSlideWidth?this.$slideDiv.css("left",-maxSlideWidth):this.$slideDiv.css("left",newLeft)}}else newLeft=left-deltaX,newLeft>0?this.$slideDiv.css("left",0):this.$slideDiv.css("left",newLeft)},Scroll.prototype._moveFunc=function(e){var deltaY,newTop,top=this._getScrollObjTop(),maxScrollHeight=this._getMaxScrollHeight(),ratio=this._getRatio(),height=this._getHeight();"object"==typeof e?(deltaY=e.pageY-this._pageY,newTop=top+deltaY,newTop<0?newTop=0:newTop>maxScrollHeight&&(newTop=maxScrollHeight),this._scrollFunc(deltaY*ratio),this.$scrollObj.css("top",newTop),this._pageY=e.pageY):(deltaY=e,newTop=top+deltaY,newTop<0?newTop=0:newTop>maxScrollHeight&&(newTop=maxScrollHeight),this.$scrollObj.css("top",newTop),this._pageY=newTop+height)},Scroll.prototype._moveFuncX=function(e){var deltaX,newLeft,left=this._getScrollObjLeft(),maxScrollWidth=this._getMaxScrollWidth(),ratioX=this._getRatioX();deltaX=e.pageX-this._pageX,newLeft=left+deltaX,newLeft<0?newLeft=0:newLeft>maxScrollWidth&&(newLeft=maxScrollWidth),this._scrollFuncX(deltaX*ratioX),this.$scrollObjX.css("left",newLeft),this._pageX=e.pageX},Scroll.prototype._setLoop=function(){function calculate(){var height=self._getHeight(),maxHeight=self._getMaxHeight(),contentHeight=self._getContentHeight(),width=self._getWidth(),contentWidth=self._getContentWidth();if("none"==maxHeight?self.$container.css("max-height","none"):self.$container.css("max-height",parseInt(maxHeight)),self._options.xScroll){var slideWidth=[Math.max.apply(Math,self.$slideDiv.children().map(function(index,item){return $(item).outerWidth(!0)})),"100%"],parentWidth=self.$slideDiv.parent().width();slideWidth[0]>parentWidth?self.$slideDiv.css("width",slideWidth[0]):self.$slideDiv.css("width",slideWidth[1])}if(!self._options.fixedScrollObjHeight){var resultHeight=height*height/contentHeight,resultWidth=width*width/contentWidth;resultHeight<minScrollObjHeight&&(resultHeight=minScrollObjHeight),resultWidth<minScrollObjWidth&&(resultWidth=minScrollObjWidth),self.$scrollObj.height(resultHeight),self._options.xScroll&&!self._options.fixedScrollObjWidth&&self.$scrollObjX.width(resultWidth)}height>=contentHeight?(self.$scrollWrapper.hide(),self.$scrollObj.css("top",0),self.$slideDiv.css("top",0)):self.$scrollWrapper.show(),self._options.xScroll&&(width>=contentWidth?(self.$scrollWrapperX.hide(),self.$scrollObjX.css("left",0),self.$slideDiv.css("left",0)):self.$scrollWrapperX.show());var wrapperWidth=self.$scrollWrapper.width();if(self._options.xScroll)var wrapperXHeight=self.$scrollWrapperX.height();var delta=self._options.delta,deltaX=self._options.deltaX;height<contentHeight?self.$slideDiv.css("paddingRight",wrapperWidth+delta):self.$slideDiv.css("paddingRight",delta),self._options.xScroll&&(width<contentWidth?self.$slideDiv.css("paddingBottom",wrapperXHeight+deltaX):self.$slideDiv.css("paddingBottom",deltaX)),height<contentHeight&&width<contentWidth&&self._options.xScroll?(self.$scrollWrapper.css("height",height-wrapperWidth),self.$scrollWrapperX.css("width",width-wrapperXHeight)):(self.$scrollWrapper.css("height",height),self._options.xScroll&&self.$scrollWrapperX.css("width",width))}var self=this;this._loopIndex=setInterval(calculate,200),calculate()},Scroll.prototype._stop=function(){$(document).off("mousemove.scroll"),document.body.onselectstart&&(document.body.onselectstart=null)},Scroll.prototype.scrollY=function(target){var top,oldTop=this._getSlideTop();return"object"==typeof target?top=oldTop+target.position().top:"number"==typeof target&&(top=oldTop+target),this._scrollFunc(top),this._moveFunc(top/this._getRatio()),this},Scroll.prototype._getHeight=function(){return this.$el.innerHeight()},Scroll.prototype._getWidth=function(){return this.$el.innerWidth()},Scroll.prototype._getMaxHeight=function(){return this.$el.css("max-height")},Scroll.prototype._getContentHeight=function(){return this.$slideDiv.innerHeight()},Scroll.prototype._getContentWidth=function(){return this.$slideDiv.innerWidth()},Scroll.prototype._getMaxSlideHeight=function(){return this._getContentHeight()-this._getHeight()},Scroll.prototype._getMaxSlideWidth=function(){return this._getContentWidth()-this._getWidth()},Scroll.prototype._getMaxScrollHeight=function(){return this._getScrollWrapperHeight()-this.$scrollObj.height()},Scroll.prototype._getMaxScrollWidth=function(){return this._getScrollWrapperWidth()-this.$scrollObjX.width()},Scroll.prototype._getRatio=function(){return this._getMaxSlideHeight()/this._getMaxScrollHeight()},Scroll.prototype._getRatioX=function(){return this._getMaxSlideWidth()/this._getMaxScrollWidth()},Scroll.prototype._getTop=function(){return this.$el.offset().top},Scroll.prototype._getSlideTop=function(){return parseFloat(this.$slideDiv.css("top"))},Scroll.prototype._getSlideLeft=function(){return parseFloat(this.$slideDiv.css("left"))},Scroll.prototype._getScrollWrapperHeight=function(){return parseFloat(this.$scrollWrapper.innerHeight())},Scroll.prototype._getScrollWrapperWidth=function(){return parseFloat(this.$scrollWrapperX.innerWidth())},Scroll.prototype._getScrollObjTop=function(){return parseFloat(this.$scrollObj.css("top"))},Scroll.prototype._getScrollObjLeft=function(){return parseFloat(this.$scrollObjX.css("left"))},$.fn.tScroll=$.fn.TScroll=function(options){return options?options.el=this:options={el:this},new Scroll(options)}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),tpl=__webpack_require__(77),config=__webpack_require__(6);config.pageDataObj;module.exports=backbone.View.extend({el:"#m-trainInfo",events:{},initialize:function(){_.isEmpty(this.model.get("list"))||this.render()},render:function(){var html,data=this.model.toJSON();html=tpl(data),this.$el.html(html).show()}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(fn){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=fn,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function(template){function anonymous($data,$filename){"use strict";var $utils=this,list=($utils.$helpers,$data.list),msgInfo=$data.msgInfo,$escape=$utils.$escape,_=$data._,unsureInfo=($data.item,$data.resExtendInfo,$data.status,$data.unsureInfo),seatType=($data.ticketNoList,$data.seatType),$out=($data.value,"");return list&&list.length&&($out+='\r\n<h2>\r\n    <a class="m-more"></a>\r\n    <span class="icon2 train-icon"></span>\r\n    <span class="m-title">火车票信息</span>\r\n    ',msgInfo&&($out+='\r\n    <span class="m-title-desc" id="">\r\n\t    <span class="jtxz-detail-hover">\r\n\t        <i class="icon notice2-icon"></i>\r\n            <div class="jtxz-detail2 T_width2 detail2-tips">\r\n                <p class="YD_title">火车票信息</p>\r\n                <p class="YD_mgb">',$out+=$escape(msgInfo),$out+='</p>\r\n                <span class="z">◆</span>\r\n                <span class="j">◆</span>\r\n            </div>\r\n\t    </span>   \r\n    </span>\r\n    '),$out+='\r\n</h2>\r\n<div class="modular-body">\r\n    <div class="flight-journeys">\r\n      ',_.each(list,function(item){var resExtendInfo=item.resExtendInfo,status=resExtendInfo&&resExtendInfo.status;$out+='\r\n        <div class="flight-panel">\r\n         ',0!=status&&1!=status||($out+='\r\n         <div class="ticketing-info">\r\n              ',resExtendInfo.statusDesc&&($out+='\r\n                  <span class="status">',$out+=$escape(resExtendInfo.statusDesc),$out+="</span>\r\n              "),$out+="\r\n              ",resExtendInfo.time&&($out+='              \r\n                 <span class="time">',$out+=$escape(resExtendInfo.time),$out+="</span>\r\n              "),$out+="\r\n         </div>\r\n         "),$out+='\r\n         <div class="flight-journey">\r\n              <table>\r\n                 <tbody><tr>\r\n                    <td class="route">\r\n                        <div class="trip"><span class="f-ol departure" title="',$out+=$escape(item.departCityName),$out+='">',$out+=$escape(item.departCityName),$out+='</span>\r\n                           <span class="f-ol arrivals" title="',$out+=$escape(item.destCityName),$out+='">-',$out+=$escape(item.destCityName),$out+='</span></div>\r\n                        <div class="time">',$out+=$escape(item.departDate),$out+='</div> \r\n                    </td>\r\n                    <td class="flight">\r\n                      ',2==item.isStock?($out+='\r\n                        <div class="number jtxz-detail-hover unsure-train">\r\n                          <span class="flightNo f-ol f-bb c9" title="',$out+=$escape(item.trainNum),$out+='">',$out+=$escape(item.trainNum),$out+='</span>\r\n                          <div class="jtxz-detail2 T_width2 white">\r\n                            <span>',$out+=$escape(unsureInfo),$out+='</span>\r\n                            <span class="icon up-icon"></span>\r\n                          </div>\r\n                        </div>                      \r\n                      '):($out+='\r\n                        <span class="flightNo f-ol" title="',$out+=$escape(item.trainNum),$out+='">',$out+=$escape(item.trainNum),$out+="</span>                      \r\n                      "),$out+='\r\n                    </td>\r\n                    <td class="stop">\r\n                        <div class="where f-ol ',$out+=$escape(item.departDepartTime?"no-margin":""),$out+='" title="',$out+=$escape(item.departStationName),$out+='">',$out+=$escape(item.departStationName),$out+='</div>\r\n                        <div class="when">',$out+=$escape(item.departDepartTime),$out+='</div>\r\n                    </td>\r\n                    <td class="arrow">\r\n                        <div>\r\n                         <span class="tour-stop-time">',$out+=$escape(item.timeConsume),$out+='</span>\r\n                        </div>\r\n                    </td>\r\n                    <td class="stop">\r\n                        <div class="where f-ol ',$out+=$escape(item.destArriveTime?"no-margin":""),$out+='" title="',$out+=$escape(item.destStationName),$out+='" >',$out+=$escape(item.destStationName),$out+='</div>\r\n                        <div class="when">',$out+=$escape(item.destArriveTime),$out+='</div>\r\n                    </td>\r\n                    <td class="level">\r\n                        ';var ticketNoList=item.detailInfos;$out+='\r\n                        <div class="f-ol type" title="',$out+=$escape(seatType),$out+='">',$out+=$escape(item.seatType),$out+="</div>\r\n                        ",ticketNoList&&ticketNoList.length&&($out+='\r\n                        <div class="comments jtxz-detail-hover">\r\n                            <em class="f-bb c9">座次</em>\r\n                            <div class="jtxz-detail2 T_width2 white">\r\n                                <p class="YD_title">',$out+=$escape(item.trainNum),$out+="</p>\r\n                                ",ticketNoList&&ticketNoList.length&&($out+='\r\n                                <div class="ticketNoList">\r\n                                     <p class="no-list">\r\n                                        ',_.each(ticketNoList,function(value){$out+="\r\n                                           <span>",$out+=$escape(value.name),$out+="：",$out+=$escape(value.seatNo),$out+="</span>\r\n                                        "}),$out+="\r\n                                     </p>\r\n                                </div>\r\n                                "),$out+='\r\n                                <span class="icon up-icon"></span>\r\n                            </div>\r\n                        </div>\r\n                        '),$out+='\r\n                    </td>\r\n                    <td class="count">\r\n                        ',item.adultCount>0&&($out+='\r\n                        <div class="adultCount">',$out+=$escape(item.adultCount),$out+="成人</div>\r\n                        "),$out+="\r\n                        ",item.childCount>0&&($out+='\r\n                        <div class="childCount">',$out+=$escape(item.childCount),$out+="儿童</div>\r\n                        "),$out+="\r\n                    </td>                    \r\n                 </tr>\r\n              </tbody></table>\r\n         </div>\r\n        </div>\r\n      "}),$out+="\r\n    </div>\r\n</div>\r\n"),new String($out)}return function(){var obj={};arguments[0]=arguments[0]||{};for(var key2 in arguments[0])obj[key2]=arguments[0][key2];for(var key in template.helpers)obj[key]=template.helpers[key];return window.pageDataObj&&(obj.bookStep=window.pageDataObj.bookStep,obj.pageType=window.pageDataObj.pageType,obj.proType=window.pageDataObj.proType,obj.proLine=window.pageDataObj.proLine,obj.proMode=window.pageDataObj.proMode),anonymous.call(template.utils,obj).toString()}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),tpl=__webpack_require__(79),config=__webpack_require__(6);config.pageDataObj;module.exports=backbone.View.extend({el:"#m-busInfo",events:{},initialize:function(){_.isEmpty(this.model.get("list"))||this.render()},render:function(){var html,data=this.model.toJSON();html=tpl(data),this.$el.html(html).show()}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(fn){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=fn,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function(template){function anonymous($data,$filename){"use strict";var $utils=this,list=($utils.$helpers,$data.list),_=$data._,$escape=($data.item,$data.resExtendInfo,$data.status,$utils.$escape),$out="";return list&&list.length&&($out+='\r\n<h2>\r\n    <span class="icon2 bus-icon"></span>\r\n    <span class="m-title">汽车票信息</span>\r\n</h2>\r\n<div class="modular-body">\r\n    <div class="flight-journeys">\r\n      ',_.each(list,function(item){var resExtendInfo=item.resExtendInfo,status=resExtendInfo&&resExtendInfo.status;$out+='\r\n        <div class="flight-panel">\r\n         ',0!=status&&1!=status||($out+='\r\n         <div class="ticketing-info">\r\n              ',resExtendInfo.statusDesc&&($out+='\r\n                  <span class="status">',$out+=$escape(resExtendInfo.statusDesc),$out+="</span>\r\n              "),$out+="\r\n              ",resExtendInfo.time&&($out+='              \r\n                 <span class="time">',$out+=$escape(resExtendInfo.time),$out+="</span>\r\n              "),$out+="\r\n         </div>\r\n         "),$out+='\r\n         <div class="flight-journey">\r\n              <table>\r\n                 <tbody><tr>\r\n                    <td class="route">\r\n                        <div class="trip"><span class="f-ol departure" title="',$out+=$escape(item.departCityName),$out+='" >',$out+=$escape(item.departCityName),$out+='</span>\r\n                           <span class="f-ol arrivals" title="',$out+=$escape(item.destCityName),$out+='">-',$out+=$escape(item.destCityName),$out+='</span></div>\r\n                        <div class="time">',$out+=$escape(item.departDate),$out+='</div> \r\n                    </td>\r\n                    <td class="flight">\r\n\r\n                    </td>\r\n                    <td class="stop">\r\n                        <div class="where f-ol" title="',$out+=$escape(item.departBusStopName),$out+='">',$out+=$escape(item.departBusStopName),$out+='</div>\r\n                        <div class="when">',$out+=$escape(item.departTime),$out+='</div>\r\n                    </td>\r\n                    <td class="arrow">\r\n                        <div>\r\n                         <span class="tour-stop-time">',$out+=$escape(item.costTime),$out+='</span>\r\n                        </div>\r\n                    </td>\r\n                    <td class="stop">\r\n                        <div class="where f-ol" title="',$out+=$escape(item.destBusStopName),$out+='">',$out+=$escape(item.destBusStopName),$out+='</div>\r\n                        <div class="when">',$out+=$escape(item.arriveTime),$out+='</div>\r\n                    </td>\r\n                    <td class="level">\r\n                        <div class="comments">',$out+=$escape(item.busType),$out+='</div>\r\n                    </td>\r\n                    <td class="count">\r\n                        ',item.adultCount>0&&($out+='\r\n                        <div class="adultCount">',$out+=$escape(item.adultCount),$out+="成人</div>\r\n                        "),$out+="\r\n                        ",item.childCount>0&&($out+='\r\n                        <div class="childCount">',$out+=$escape(item.childCount),$out+="儿童</div>\r\n                        "),$out+="\r\n                    </td>                    \r\n                 </tr>\r\n              </tbody></table>\r\n         </div>\r\n        </div>\r\n      "}),$out+="\r\n    </div>\r\n</div>\r\n"),new String($out)}return function(){var obj={};arguments[0]=arguments[0]||{};for(var key2 in arguments[0])obj[key2]=arguments[0][key2];for(var key in template.helpers)obj[key]=template.helpers[key];return window.pageDataObj&&(obj.bookStep=window.pageDataObj.bookStep,obj.pageType=window.pageDataObj.pageType,obj.proType=window.pageDataObj.proType,obj.proLine=window.pageDataObj.proLine,obj.proMode=window.pageDataObj.proMode),anonymous.call(template.utils,obj).toString()}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),tpl=__webpack_require__(81),eventBus=__webpack_require__(5),config=__webpack_require__(6);config.pageDataObj;module.exports=backbone.View.extend({el:"#m-package",events:{"click .flight-trip":"showFlightTrip","click .hotel-trip":"showHotelTrip"},initialize:function(){this.model.get("isShow")&&this.render()},render:function(){var html,data=this.model.toJSON();html=tpl(data),this.$el.html(html).show()},showFlightTrip:function(e){var data=this.model.get("flightForm");eventBus.trigger("contactFlightTrip",data)},showHotelTrip:function(){var data=this.model.get("hotelForm");eventBus.trigger("contactHotelTrip",data)}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(fn){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=fn,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function(template){function anonymous($data,$filename){"use strict";var $utils=this,isShow=($utils.$helpers,$data.isShow),flightForm=$data.flightForm,len=$data.len,$escape=$utils.$escape,hotelForm=$data.hotelForm,_=$data._,list=$data.list,$string=($data.lists,$data.flightList,$data.hotelResList,$data.ticketList,$data.item,$data.index,$data.resExtendInfo,$data.status,$data.flightInfo,$data.detailInfo,$data.ticketNoList,$data.value,$data.jibaoStatusInfo,$data.detail,$data.imgList,$data.picture,$data.hasChange,$utils.$string),isShowLinker=$data.isShowLinker,confirmInfo=($data.info,$data.confirmNo,$data.confirmInfo),$out=($data.enterWayArr,$data.certInfo,$data.num,$data.certType,$data.content,$data.contentName,"");if(isShow){if($out+='\r\n<h2>\r\n    <span class="icon2 packAge-icon"></span>\r\n    <span class="m-title">行程套餐</span>\r\n    ',flightForm&&flightForm.length){var len=flightForm.length;$out+='\r\n        <span class="m-title-desc" id="" class="an_mo">\r\n        ',1==len?($out+='\r\n           <a href="',$out+=$escape(flightForm[0].fileUrl),$out+='" class="load-hover">',$out+=$escape(flightForm[0].fileName),$out+='<i class="icon2 load-icon"></i></a>\r\n        '):$out+='\r\n           <a href="javascript:;" class="flight-trip load-hover" m="点击_行程套餐模块_机票行程单____查看机票行程单">机票行程单<i class="icon2 load-icon"></i></a>\r\n        ',$out+="\r\n        </span>\r\n    "}if($out+="\r\n\r\n    ",hotelForm&&hotelForm.length){var len=hotelForm.length;$out+='\r\n        <span class="m-title-desc" id="" class="an_mo">\r\n        ',1==len?($out+='\r\n           <a href="',$out+=$escape(hotelForm[0].fileUrl),$out+='"  class="load-hover">',$out+=$escape(hotelForm[0].fileName),$out+='<i class="icon2 load-icon"></i></a>\r\n        '):$out+='\r\n           <a href="javascript:;" class="hotel-trip load-hover" m="点击_行程套餐模块_ 查看酒店入住凭证__查看酒店入住凭证">酒店入住单<i class="icon2 load-icon"></i></a>\r\n        ',$out+="\r\n        </span>\r\n    "}$out+='\r\n    \r\n</h2>\r\n<div class="modular-body">\r\n\r\n',_.each(list,function(lists){var flightList=lists.flightList,hotelResList=lists.hotelResList,ticketList=lists.ticketList;$out+="\r\n  \r\n ",_.isEmpty(flightList)||($out+='\r\n    <div class="flight-journeys m-airplaneInfo">\r\n        ',_.each(flightList,function(item,index){var resExtendInfo=item.resExtendInfo,status=resExtendInfo&&resExtendInfo.status;$out+='\r\n        <div class="flight-panel">\r\n         ',0!=status&&1!=status||($out+='\r\n         <div class="ticketing-info">\r\n              ',resExtendInfo.statusDesc&&($out+='\r\n                  <span class="status">',$out+=$escape(resExtendInfo.statusDesc),$out+="</span>\r\n              "),$out+="\r\n              ",resExtendInfo.time&&($out+='              \r\n                 <span class="time">',$out+=$escape(resExtendInfo.time),$out+="</span>\r\n              "),$out+="\r\n         </div>\r\n         "),$out+='\r\n         <div class="flight-journey">\r\n              <table>\r\n                 <tr>\r\n                    <td class="route">\r\n                        <div class="trip"><span class="f-ol departure" title="',$out+=$escape(item.departureCityName),$out+='">',$out+=$escape(item.departureCityName),$out+="</span>\r\n                        ",item.destinationCityName&&($out+='\r\n                           <span class="f-ol arrivals" title="',$out+=$escape(item.destinationCityName),$out+='">-',$out+=$escape(item.destinationCityName),$out+="</span>\r\n                        "),$out+='\r\n                        </div>\r\n                        <div class="time">',$out+=$escape(item.departureDate),$out+='</div>\r\n                    </td>\r\n                    <td class="flight">\r\n                        <div class="company f-ol" title="',$out+=$escape(item.departureAirport),$out+='">\r\n                            <i class="airplane-company-icon airport_',$out+=$escape(item.flightCode),$out+='"></i>\r\n                            ',$out+=$escape(item.airlineName),$out+='\r\n                        </div>\r\n                        <div class="number">\r\n                            <span class="flightNo show-hover tour-stop-hover" title="',$out+=$escape(item.flightNum),$out+=$escape(item.planeType),$out+='">\r\n                            <em class="f-ol">',$out+=$escape(item.flightNum),$out+=$escape(item.planeType),$out+='</em>\r\n                            <div class="stop-over-info">\r\n                                   <table class="stop-over-table">\r\n                                       <tbody>\r\n                                       <tr class="info-title">\r\n                                          ',item.planeType&&($out+='\r\n                                            <td class="planeType">机型</td>\r\n                                          '),$out+="\r\n\r\n                                          ";var flightInfo=item.flightInfo;$out+=" \r\n\r\n                                          ",flightInfo&&flightInfo.planeModelName&&($out+='\r\n                                            <td class="planeModelName">机型名称</td>\r\n                                          '),$out+="\r\n                                          ",flightInfo&&flightInfo.planeType&&($out+='\r\n                                            <td class="planeType">飞机类型</td>\r\n                                          '),$out+="\r\n                                          ",flightInfo&&flightInfo.minSeatCount&&($out+='\r\n                                            <td class="minSeatCount">最小座位数</td>\r\n                                          '),$out+="\r\n                                          ",flightInfo&&flightInfo.maxSeatCount&&($out+='\r\n                                            <td class="maxSeatCount">最大座位数</td>\r\n                                          '),$out+="\r\n\r\n                                          ";var detailInfo=item.detailInfo;$out+="\r\n\r\n                                          ",detailInfo&&detailInfo.meal&&($out+='\r\n                                            <td class="meal">餐食</td>\r\n                                          '),$out+="\r\n                                          ",detailInfo&&detailInfo.transitSign&&($out+='\r\n                                            <td class="transitSign">过境签</td>\r\n                                          '),$out+="\r\n                                          ",detailInfo&&detailInfo.changeRules&&($out+='\r\n                                            <td class="changeRules">退改规则</td>\r\n                                          '),$out+='                                        \r\n                                       </tr>\r\n\r\n                                       <tr class="info-content">\r\n                                          ',item.planeType&&($out+='\r\n                                            <td class="planeType">',$out+=$escape(item.planeType),$out+="</td>\r\n                                          "),$out+="  \r\n\r\n                                          ",flightInfo&&flightInfo.planeModelName&&($out+='\r\n                                            <td class="planeModelName">',$out+=$escape(flightInfo.planeModelName),$out+="</td>\r\n                                          "),$out+="\r\n\r\n                                          ",flightInfo&&flightInfo.planeType&&($out+='\r\n                                            <td class="planeType">',$out+=$escape(flightInfo.planeType),$out+="</td>\r\n                                          "),$out+="\r\n\r\n                                          ",flightInfo&&flightInfo.minSeatCount&&($out+='\r\n                                            <td class="minSeatCount">',$out+=$escape(flightInfo.minSeatCount),$out+="</td>\r\n                                          "),$out+="\r\n\r\n                                          ",flightInfo&&flightInfo.maxSeatCount&&($out+='\r\n                                            <td class="maxSeatCount">',$out+=$escape(flightInfo.maxSeatCount),$out+="</td>\r\n                                          "),$out+="\r\n\r\n                                          ",detailInfo&&detailInfo.meal&&($out+='\r\n                                            <td class="meal">',$out+=$escape(detailInfo.meal),$out+="</td>\r\n                                          "),$out+="\r\n\r\n                                          ",detailInfo&&detailInfo.transitSign&&($out+='\r\n                                            <td class="transitSign">',$out+=$escape(detailInfo.transitSign),$out+="</td>\r\n                                          "),$out+="\r\n\r\n                                          ",detailInfo&&detailInfo.changeRules&&($out+='\r\n                                            <td class="changeRules">',$out+=$escape(detailInfo.changeRules),$out+="</td>\r\n                                          "),$out+='   \r\n                                       </tr>\r\n                                   </tbody></table>\r\n                                    <span class="z">◆</span>\r\n                                    <span class="j">◆</span>\r\n                                </div>\r\n                            </span>\r\n                        </div>\r\n                    </td>\r\n                    <td class="stop">\r\n                        <div class="where f-ol" title="',$out+=$escape(item.departureAirport),$out+='">',$out+=$escape(item.departureAirport),$out+='</div>\r\n                        <div class="when">',$out+=$escape(item.departureTime),$out+='</div>\r\n                    </td>\r\n                    <td class="arrow">\r\n                        <div>\r\n                        ',(item.stopOverCity||item.stopOverTime)&&($out+='\r\n                        <span class="tour-stop-tips">\r\n                            <span class="tour-stop-hover">经停\r\n                                <div class="stop-over-info">\r\n                                   <table class="stop-over-table">\r\n                                       <tbody>\r\n                                       <tr class="info-title">\r\n                                           <td class="airport">经停城市</td>   \r\n                                           ',item.stopOverTime&&($out+='                                     \r\n                                           <td class="stop-time">停留时间</td>\r\n                                           '),$out+='\r\n                                       </tr>\r\n\r\n                                       <tr class="info-content">\r\n                                           <td class="airport-detail">',$out+=$escape(item.stopOverCity),$out+="</td>\r\n                                           ",item.stopOverTime&&($out+='  \r\n                                           <td class="stop-time-detail">',$out+=$escape(item.stopOverTime),$out+="</td>\r\n                                           "),$out+='\r\n                                       </tr>\r\n                                   </tbody></table>\r\n                                    <span class="z">◆</span>\r\n                                    <span class="j">◆</span>\r\n                                </div>\r\n                            </span>\r\n                         </span>   \r\n                         '),$out+='                     \r\n                         <span class="tour-stop-time">',$out+=$escape(item.duration),$out+='</span>\r\n                        </div>\r\n                    </td>\r\n                    <td class="stop">\r\n                        <div class="where f-ol" title="',$out+=$escape(item.arriveAirport),$out+='">',$out+=$escape(item.arriveAirport),$out+='</div>\r\n                        <div class="when">',$out+=$escape(item.arriveTime),$out+='</div>\r\n                    </td>\r\n                    <td class="level">\r\n                        ';var ticketNoList=item.ticketNoList;$out+="\r\n                        ",item.seatItem&&($out+='\r\n                        <div class="f-ol type" title="',$out+=$escape(item.seatItem),$out+='">',$out+=$escape(item.seatItem),$out+="</div>\r\n                        "),$out+='\r\n                        <div class="comments jtxz-detail-hover">\r\n                            <em class="f-bb c9">\r\n                            ',$out+=ticketNoList&&ticketNoList.length?"\r\n                                    票号/行李额\r\n                            ":"\r\n                                    行李额\r\n                            ",$out+='\r\n                            </em>\r\n                            <div class="jtxz-detail2 T_width2 white">\r\n                                <p class="YD_title">',$out+=$escape(detailInfo.flightName),$out+=" ",$out+=$escape(detailInfo.flightNo),$out+="</p>\r\n                                ",ticketNoList&&ticketNoList.length&&($out+='\r\n                                <div class="ticketNoList">\r\n                                     <p class="YD_mgb ticket-number">票　号：</p>\r\n                                     <p class="no-list">\r\n                                        ',_.each(ticketNoList,function(value){$out+="\r\n                                           <span>",$out+=$escape(value.touristName),$out+=" ",$out+=$escape(value.number),$out+="</span>\r\n                                        "}),$out+="\r\n                                     </p>\r\n                                </div>\r\n                                "),$out+="\r\n                                ",detailInfo&&detailInfo.baggageInfo?($out+='\r\n                                <p class="YD_mgb">行李额： ',$out+=$escape(detailInfo.baggageInfo),$out+="</p>\r\n                                "):($out+='\r\n                                <p class="YD_mgb">行李额： ',$out+=$escape(detailInfo.baggageNotice),$out+="</p>\r\n                                "),$out+='\r\n                                <span class="icon up-icon"></span>\r\n                            </div>\r\n                        </div>\r\n                    </td>\r\n                    <td class="count">\r\n                        ',item.adultCount>0&&($out+='\r\n                        <div class="adultCount ',item.childCount<=0&&($out+=" no-child "),$out+='">',$out+=$escape(item.adultCount),$out+="成人</div>\r\n                        "),$out+="\r\n                        ",item.childCount>0&&($out+='\r\n                        <div class="childCount">',$out+=$escape(item.childCount),$out+="儿童</div>\r\n                        "),$out+="\r\n                    </td>                    \r\n                 </tr>\r\n              </table>\r\n         </div>\r\n        </div>\r\n        "}),$out+="\r\n    </div>\r\n "),$out+="\r\n\r\n ",_.isEmpty(hotelResList)||($out+='\r\n    <div class="flight-journeys m-hotelInfo">\r\n        ',_.each(hotelResList,function(item,index){$out+='\r\n        <div class="flight-panel">\r\n        ';var jibaoStatusInfo=item.jibaoStatusInfo;if("1"==item.isJibao&&jibaoStatusInfo)$out+='\r\n           <div class="ticketing-info">\r\n                <span class="status">',$out+=$escape(jibaoStatusInfo.statusDesc),$out+="</span>\r\n           </div>\r\n        ";else{$out+="\r\n           ";var resExtendInfo=item.resExtendInfo,status=resExtendInfo&&resExtendInfo.status;$out+="\r\n           ",0!=status&&1!=status||($out+='\r\n           <div class="ticketing-info">\r\n              ',resExtendInfo.statusDesc&&($out+='\r\n                  <span class="status">',$out+=$escape(resExtendInfo.statusDesc),$out+="</span>\r\n              "),$out+="\r\n              ",resExtendInfo.time&&($out+='              \r\n                 <span class="time">',$out+=$escape(resExtendInfo.time),$out+="</span>\r\n              "),$out+="\r\n           </div>\r\n           "),$out+="\r\n        "}$out+='\r\n         <div class="flight-journey">\r\n              <table>\r\n                 <tr>\r\n                    <td class="route">\r\n                        <div class="trip">',$out+=$escape(item.startDate),$out+=' 入住</div>\r\n                        <div class="time">',$out+=$escape(item.endDate),$out+=' 退房</div>\r\n                    </td>\r\n                    <td class="flight">\r\n                            <span class="flightNo"><em title="',$out+=$escape(item.hotelChineseName),$out+='" class="hotelName detail-wrapper">',$out+=$escape(item.hotelChineseName),$out+='\r\n                                <div class="resources-detail hotel-detail">\r\n                                   <div class="hotel-detail-title">\r\n                                       <header class="float-header">\r\n                                           <h2 class="active">房型详情</h2>\r\n                                           <span><i class="icon close-icon"></i></span>\r\n                                       </header>\r\n                                                                                  <div class="resources detail-main gallery2">\r\n                                            ';var detail=item.detail,imgList=detail&&detail.imgList||[];$out+='\r\n                                             <div class="detail-img-list">\r\n                                                 <div class="big-img">\r\n                                                     ',_.each(imgList,function(picture,index){$out+='\r\n                                                        <img src="',$out+=$escape(picture.big),$out+='" class="',0!=index&&($out+=" hide "),$out+='">\r\n                                                     '}),$out+="\r\n\r\n                                                     ",_.isEmpty(imgList)&&($out+='\r\n                                                         <img src="//img3.tuniucdn.com/img/201510131901/bookOnline/default.png">\r\n                                                     '),$out+='\r\n                                                 </div>\r\n                                                 <div class="small-img" data-count="4">\r\n                                                   ';var hasChange=!_.isEmpty(imgList)&&imgList.length>4;$out+="\r\n                                                   ",hasChange&&($out+='\r\n                                                   <a class="left">\r\n                                                       <img class="tn_logo" src="http://img3.tuniucdn.com/img/201510131901/bookOnline/left.png" alt="">\r\n                                                       <img class="tn_logo hide" src="http://img3.tuniucdn.com/img/201510131901/bookOnline/left-active.png" alt="前一张">\r\n                                                   </a>\r\n                                                   '),$out+=' \r\n                                                     <div class="middle">\r\n                                                         <ul>\r\n                                                             ',_.each(imgList,function(picture,index){$out+='\r\n                                                             <li class="',0==index&&($out+=" active "),$out+='"><a href="javascript:;"><img src="',$out+=$escape(picture.small),$out+='" alt=""></a></li>\r\n                                                             '}),$out+="\r\n\r\n                                                             ",_.isEmpty(imgList)&&($out+='\r\n                                                             <li class="active"><a href="javascript:;"><img src="//img3.tuniucdn.com/img/201510131901/bookOnline/default_small2.jpg" alt=""></a></li>\r\n                                                             '),$out+="\r\n                                                         </ul>\r\n                                                     </div>\r\n                                                   ",hasChange&&($out+='\r\n                                                   <a class="right">\r\n                                                       <img class="tn_logo hide" src="http://img3.tuniucdn.com/img/201510131901/bookOnline/right.png" alt="">\r\n                                                       <img class="tn_logo" src="http://img3.tuniucdn.com/img/201510131901/bookOnline/right-active.png" alt="后一张">\r\n                                                   </a>\r\n                                                   '),$out+='  \r\n                                                 </div>\r\n                                             </div>\r\n                                             <div class="detail-explain">\r\n                                                 <p class="detail-explain-name">',$out+=$escape(item.hotelChineseName),$out+="</p>\r\n                                                 ",detail&&($out+="\r\n                                                     ",detail.address&&($out+='\r\n                                                         <div class="address">\r\n                                                             <p class="area-title">详细地址：</p>\r\n                                                             <p class="area-content">',$out+=$escape(detail.address),$out+="</p>\r\n                                                         </div>\r\n                                                     "),$out+="\r\n                                                     ",detail.openingDate&&($out+='\r\n                                                         <div class="openingDate">\r\n                                                             <p class="area-title">开业时间：</p>\r\n                                                             <p class="area-content">',$out+=$escape(detail.openingDate),$out+="</p>\r\n                                                         </div>\r\n                                                     "),$out+="\r\n                                                     ",detail.decorationTime&&($out+='\r\n                                                         <div class="decorationTime">\r\n                                                             <p class="area-title">装修时间：</p>\r\n                                                             <p class="area-content">',$out+=$escape(detail.decorationTime),$out+="</p>\r\n                                                         </div>\r\n                                                     "),$out+="\r\n                                                     ",detail.roomNum&&($out+='\r\n                                                         <div class="roomNum">\r\n                                                             <p class="area-title">房间数：</p>\r\n                                                             <p class="area-content">',$out+=$escape(detail.roomNum),$out+="</p>\r\n                                                         </div>\r\n                                                     "),$out+="\r\n                                                     ",detail.telephone&&($out+='\r\n                                                         <div class="telephone">\r\n                                                             <p class="area-title">酒店电话：</p>\r\n                                                             <p class="area-content">',$out+=$escape(detail.telephone),$out+="</p>\r\n                                                         </div>\r\n                                                     "),$out+="\r\n                                                     ",detail.geographic&&($out+='\r\n                                                         <div class="geographic">\r\n                                                             <p class="area-title">地理位置：</p>\r\n                                                             <p class="area-content">',$out+=$string(detail.geographic),$out+="</p>\r\n                                                         </div>\r\n                                                     "),$out+="\r\n                                                 "),$out+='\r\n                                             </div>\r\n                                             <div class="clear-float"></div>\r\n                                         </div>                                        \r\n                                         <span class="icon white-triangle"></span>\r\n                                     </div>\r\n                                 </div>\r\n                               </em>\r\n                            </span>\r\n                    </td>\r\n                    <td class="arrow" title="',$out+=$escape(item.roomName),$out+='">\r\n                             <span class="f-ol">',$out+=$escape(item.roomName),$out+='</span>\r\n                    </td>\r\n                    <td class="stop">\r\n                        <div class="when" title="',$out+=$escape(item.bedName),$out+=$escape(isShowLinker(item.bedName,item.network)),$out+=$escape(item.network),$out+=$escape(isShowLinker(item.breakFastInfo,item.network)),$out+=$escape(item.breakFastInfo),$out+='">\r\n                        ',$out+=$escape(item.bedName),$out+=$escape(isShowLinker(item.bedName,item.network)),$out+=$escape(item.network),$out+=$escape(isShowLinker(item.breakFastInfo,item.network)),$out+=$escape(item.breakFastInfo),$out+='\r\n                        </div>\r\n                    </td>\r\n                    <td class="level">\r\n                        ';var info=item.hotelInformation,confirmNo=info&&info.confirmNo;$out+="\r\n                        ",info&&($out+='\r\n                        <div class="comments jtxz-detail-hover">\r\n                            <em class="f-bb c9">确认号</em>\r\n                            <div class="jtxz-detail2 T_width2 white">\r\n                                ',info.voucher&&($out+='\r\n                                <p class="YD_title">',$out+=$escape(info.voucher),$out+="</p>\r\n                                "),$out+="\r\n                                ",confirmNo&&confirmNo.length&&($out+='\r\n                                <div class="ticketNoList">\r\n                                     <p class="YD_title">确认号：</p>\r\n                                     <p class="no-list">\r\n                                        ',_.each(confirmNo,function(value){$out+="\r\n                                           <span>",$out+=$escape(value),$out+="</span>\r\n                                        "}),$out+="\r\n                                     </p>\r\n                                </div>\r\n                                "),$out+='\r\n                                <p class="confirmInfo">',$out+=$escape(confirmInfo),$out+='</p>   \r\n                                <span class="icon up-icon"></span>\r\n                            </div>\r\n                        </div>\r\n                        '),$out+='\r\n                    </td>\r\n                    <td class="count">\r\n                        <div class="childCount">',$out+=$escape(item.roomCount),$out+="间</div>\r\n                    </td>                    \r\n                 </tr>\r\n              </table>\r\n         </div>\r\n         ","1"==item.isJibao&&($out+='\r\n              <div class="resources-tips">',$out+=$escape(jibaoStatusInfo.jibaoText),$out+="</div>\r\n         "),$out+="\r\n        </div>\r\n        "}),$out+="\r\n    </div>\r\n "),$out+="\r\n\r\n\r\n ",_.isEmpty(ticketList)||($out+='\r\n    <div class="flight-journeys m-ticket">\r\n      ',_.each(ticketList,function(item){var resExtendInfo=item.resExtendInfo,status=resExtendInfo&&resExtendInfo.status;$out+='\r\n        <div class="flight-panel">\r\n         ',0!=status&&1!=status||($out+='\r\n         <div class="ticketing-info">\r\n              ',resExtendInfo.statusDesc&&($out+='\r\n                  <span class="status">',$out+=$escape(resExtendInfo.statusDesc),$out+="</span>\r\n              "),$out+="\r\n              ",resExtendInfo.time&&($out+='              \r\n                 <span class="time">',$out+=$escape(resExtendInfo.time),$out+="</span>\r\n              "),$out+="\r\n        </div>\r\n         "),$out+='      \r\n         <div class="flight-journey">\r\n              <table>\r\n                 <tbody><tr>\r\n                    <td class="route">\r\n                       ',item.useDate&&($out+='\r\n                        <div class="time">',$out+=$escape(item.useDate),$out+="使用</div>\r\n                       "),$out+=' \r\n                    </td>\r\n                    <td class="flight">\r\n                        <div class="number">\r\n                              <em class="f-ol ',(item.address||item.ticketWay||item.enterWay||item.description)&&($out+=" f-active-color detail-wrapper "),$out+='" title="',$out+=$escape(item.ticketName),$out+='">',$out+=$escape(item.ticketName),$out+='\r\n                                  <div class="resources-detail" style="display: none;">\r\n                                        <div class="close-detail"><i class="icon close-icon"></i></div>\r\n                                        <div class="resources">\r\n                                            ',item.address&&($out+='\r\n                                            <div class="resources-panel">\r\n                                                <span class="resources-panel-title"><i class="icon title-icon"></i>取票地址</span>\r\n                                                <p class="c9">',$out+=$escape(item.address),$out+="</p>\r\n                                            </div>\r\n                                            "),$out+="\r\n                                            ",item.ticketWay&&($out+='\r\n                                            <div class="resources-panel">\r\n                                                <span class="resources-panel-title"><i class="icon title-icon"></i>取票方式</span>\r\n                                                <p class="c9">',$out+=$escape(item.ticketWay),$out+="</p>\r\n                                            </div>\r\n                                            "),$out+="                                                \r\n                                            ",item.enterWay&&($out+='\r\n                                            <div class="resources-panel">\r\n                                                <span class="resources-panel-title"><i class="icon title-icon"></i>入园方式</span>\r\n                                                <p class="c9">',$out+=$escape(item.enterWay),$out+="</p>\r\n                                            </div>\r\n                                            "),$out+="\r\n                                            ",item.description&&($out+='\r\n                                            <div class="resources-panel">\r\n                                                <span class="resources-panel-title"><i class="icon title-icon"></i>门票说明</span>\r\n                                                <p class="c9">',$out+=$string(item.description),$out+="</p>\r\n                                            </div>\r\n                                            "),$out+='                                              \r\n                                        </div>                                      \r\n                                        <span class="icon white-triangle"></span>\r\n                                        <div class="clear-float"></div>\r\n                                  </div>\r\n                              </em>\r\n                        </div>\r\n                    </td>\r\n                    <td class="arrow">\r\n\r\n\r\n                    </td>\r\n                    <td class="level">\r\n                     ';var enterWayArr=item.enterWayArr;if($out+="\r\n                     ",enterWayArr){var certInfo=enterWayArr.certInfo;$out+='\r\n                      <div class="comments jtxz-detail-hover">\r\n                            <em class="f-bb c9">\r\n                                    入园凭证\r\n                            </em>\r\n                            <div class="jtxz-detail2 T_width2 white">\r\n                                <p class="YD_title">入园方式：',$out+=$escape(enterWayArr.typeDesc),$out+="</p>\r\n\r\n                                ",certInfo&&certInfo.length&&($out+="\r\n\r\n                                   ",_.each(certInfo,function(num){var certType=num.certType,content=num.content,contentName=num.contentName;$out+="\r\n\r\n                                   ",1==certType?($out+='\r\n                                      <p class="YD_mgb">',$out+=$escape(content),$out+="</p>\r\n                                   "):2==certType?($out+='\r\n                                      <div class="ticketNoList">\r\n                                           <p class="no-list">\r\n                                              <span><a href="',$out+=$escape(content),$out+='" title="',$out+=$escape(contentName),$out+='" class="load-hover">',$out+=$escape(contentName),$out+='<i class="icon2 load-icon"></i></a></span>\r\n                                           </p>\r\n                                      </div>\r\n                                   '):3==certType&&($out+='\r\n                                       <p class="YD_mgb"><img class=\'qrpic\' src="',$out+=$escape(content),$out+="\" alt='二维码'></p>\r\n                                   "),$out+="\r\n                                   "}),$out+="\r\n                                "),$out+='\r\n                                <span class="icon up-icon"></span>\r\n                            </div>\r\n                        </div>\r\n                      '}$out+='  \r\n                    </td>\r\n                    <td class="place">\r\n\r\n                    </td>\r\n                    <td class="count">\r\n                        <div class="childCount">',$out+=$escape(item.ticketNum),$out+="</div>\r\n                    </td>                    \r\n                 </tr>\r\n              </tbody></table>\r\n         </div>\r\n        </div>\r\n      "}),$out+="\r\n    </div>\r\n "),$out+="\r\n\r\n"}),$out+="\r\n</div>\r\n"}return new String($out)}return function(){var obj={};arguments[0]=arguments[0]||{};for(var key2 in arguments[0])obj[key2]=arguments[0][key2];for(var key in template.helpers)obj[key]=template.helpers[key];return window.pageDataObj&&(obj.bookStep=window.pageDataObj.bookStep,obj.pageType=window.pageDataObj.pageType,obj.proType=window.pageDataObj.proType,obj.proLine=window.pageDataObj.proLine,obj.proMode=window.pageDataObj.proMode),anonymous.call(template.utils,obj).toString()}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),tpl=__webpack_require__(83),config=__webpack_require__(6);config.pageDataObj;module.exports=backbone.View.extend({el:"#m-transport",events:{},initialize:function(){_.isEmpty(this.model.get("list"))||this.render()},render:function(){var html,data=this.model.toJSON();html=tpl(data),this.$el.html(html).show()}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(fn){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=fn,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function(template){function anonymous($data,$filename){"use strict";var $utils=this,list=($utils.$helpers,$data.list),msgInfo=$data.msgInfo,$escape=$utils.$escape,_=$data._,$out=($data.item,"");return list&&list.length&&($out+='\r\n<h2>\r\n    <a class="m-more"></a>\r\n    <span class="icon2 transport-icon"></span>\r\n    <span class="m-title">联运方案</span>\r\n    ',msgInfo&&($out+='\r\n    <span class="m-title-desc" id="">\r\n\t    <span class="jtxz-detail-hover">\r\n\t        <i class="icon notice2-icon"></i>\r\n            <div class="jtxz-detail2 T_width2 detail2-tips">\r\n                <p class="YD_mgb">',$out+=$escape(msgInfo),$out+='</p>\r\n                <span class="z">◆</span>\r\n                <span class="j">◆</span>\r\n            </div>\r\n\t    </span>   \r\n    </span>\r\n    '),$out+='\r\n</h2>\r\n<div class="modular-body">\r\n    <div class="flight-journeys">\r\n      ',_.each(list,function(item){$out+='\r\n        <div class="flight-panel">\r\n         <div class="flight-journey">\r\n              <table>\r\n                 <tbody><tr>\r\n                    <td class="route">\r\n                        <div class="trip"><span class="f-ol departure" title="',$out+=$escape(item.conCityName),$out+='">',$out+=$escape(item.conCityName),$out+='</span>\r\n                           <span class="f-ol arrivals" title="',$out+=$escape(item.arriveCityName),$out+='">-',$out+=$escape(item.arriveCityName),$out+='</span></div>\r\n                    </td>\r\n                    <td class="flight">\r\n                            <span class="flightNo f-ol" title="',$out+=$escape(item.resourceName),$out+='">',$out+=$escape(item.resourceName),$out+='\r\n                            </span>\r\n                    </td>\r\n                    <td class="level">\r\n\r\n                    </td>\r\n                    <td class="count">\r\n                        <div class="childCount">',$out+=$escape(item.adultCount),$out+="份</div>\r\n                    </td>                    \r\n                 </tr>\r\n              </tbody></table>\r\n         </div>\r\n        </div>\r\n      "}),$out+="\r\n    </div>\r\n</div>\r\n"),new String($out)}return function(){var obj={};arguments[0]=arguments[0]||{};for(var key2 in arguments[0])obj[key2]=arguments[0][key2];for(var key in template.helpers)obj[key]=template.helpers[key];return window.pageDataObj&&(obj.bookStep=window.pageDataObj.bookStep,obj.pageType=window.pageDataObj.pageType,obj.proType=window.pageDataObj.proType,obj.proLine=window.pageDataObj.proLine,obj.proMode=window.pageDataObj.proMode),anonymous.call(template.utils,obj).toString()}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),tpl=__webpack_require__(85),config=__webpack_require__(6);config.pageDataObj;module.exports=backbone.View.extend({el:"#m-pickUpPoint",events:{},initialize:function(){_.isEmpty(this.model.get("list"))||this.render()},render:function(){var html,data=this.model.toJSON();html=tpl(data),this.$el.html(html).show()}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(fn){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=fn,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function(template){function anonymous($data,$filename){"use strict";var $utils=this,_=($utils.$helpers,$data._),list=$data.list,$escape=$utils.$escape,$out="";return _.isEmpty(list)||($out+='\r\n<h2>\r\n    <a class="m-more"></a>\r\n    <span class="icon2 point-icon"></span>\r\n    <span class="m-title">上车地点</span>\r\n</h2>\r\n<div class="modular-body">\r\n    <div class="flight-journeys">\r\n        <div class="flight-panel">\r\n         <div class="flight-journey">\r\n              <table>\r\n                 <tbody><tr>\r\n                    <td class="route">\r\n                        <div class="time">',$out+=$escape(list.departDate),$out+=" ",$out+=$escape(list.departTime),$out+='</div>\r\n                    </td>\r\n                    <td class="flight">\r\n                            <span class="flightNo f-ol">\r\n                            ',list.departPlace&&($out+="\r\n                               发车地点/",$out+=$escape(list.departPlace),$out+=" \r\n                            "),$out+="\r\n                            ",list.backPlace&&($out+="\r\n                               - 返回地点/",$out+=$escape(list.backPlace),$out+=" \r\n                            "),$out+='\r\n                            </span>\r\n                    </td>\r\n                    <td class="stop">\r\n                        <div class="when fol" title="备注：',$out+=$escape(list.remark),$out+='"><em class="c9">备注：</em>',$out+=$escape(list.remark),$out+="</div>\r\n                    </td>\r\n                 </tr>\r\n              </tbody></table>\r\n         </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n"),new String($out)}return function(){var obj={};arguments[0]=arguments[0]||{};for(var key2 in arguments[0])obj[key2]=arguments[0][key2];for(var key in template.helpers)obj[key]=template.helpers[key];return window.pageDataObj&&(obj.bookStep=window.pageDataObj.bookStep,obj.pageType=window.pageDataObj.pageType,obj.proType=window.pageDataObj.proType,obj.proLine=window.pageDataObj.proLine,obj.proMode=window.pageDataObj.proMode),anonymous.call(template.utils,obj).toString()}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),tpl=__webpack_require__(87),hotel_schedule_tpl=__webpack_require__(88),Layer=__webpack_require__(16),config=__webpack_require__(6);__webpack_require__(89),config.pageDataObj;module.exports=backbone.View.extend({el:"#m-hotelInfo",events:{"click .hasMany":"showSchedule","click .float-header h2":"changeTab"},changeTab:function(e){var obj=$(e.currentTarget),index=obj.index();obj.siblings().removeClass("active"),obj.addClass("active"),this.$el.find(".hotel-wrapper").hide();var current=this.$el.find(".hotel-wrapper").eq(index);current.show()},initialize:function(){_.isEmpty(this.model.get("list"))||this.render()},render:function(){var html,data=this.model.toJSON();html=tpl(data),this.$el.html(html).show()},showSchedule:function(){var data=this.model.toJSON();this.showScheduleTpl(data.packetHotelForm)},showScheduleTpl:function(data){var html=hotel_schedule_tpl({airList:data});Layer.open({type:1,title:!1,closeBtn:1,area:["auto","auto"],content:html})}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(fn){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=fn,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function(template){function anonymous($data,$filename){"use strict";var $utils=this,list=($utils.$helpers,$data.list),packetHotelForm=$data.packetHotelForm,len=$data.len,$escape=$utils.$escape,_=$data._,$string=($data.item,$data.index,$data.resExtendInfo,$data.status,$data.jibaoStatusInfo,$data.detail,$data.imgList,$data.picture,$data.hasChange,$utils.$string),isShowLinker=$data.isShowLinker,confirmInfo=($data.info,$data.confirmNo,$data.value,$data.confirmInfo),$out="";if(list&&list.length){if($out+='\r\n<h2>\r\n    <span class="icon2 hotel-icon"></span>\r\n    <span class="m-title">酒店信息</span>\r\n    ',packetHotelForm&&packetHotelForm.length){var len=packetHotelForm.length;$out+='\r\n        <span class="m-title-desc" id="" class="an_mo">\r\n        ',1==len?($out+='\r\n           <a href="',$out+=$escape(packetHotelForm[0].fileUrl),$out+='"  class="load-hover">',$out+=$escape(packetHotelForm[0].fileName),$out+='<i class="icon2 load-icon"></i></a>\r\n        '):$out+='\r\n           <a href="javascript:;" class="hasMany load-hover" m="点击_酒店信息_酒店入住凭证____查看酒店入住凭证">酒店入住凭证<i class="icon2 load-icon"></i></a>\r\n        ',$out+="\r\n        </span>\r\n    "}$out+='\r\n</h2>\r\n<div class="modular-body">\r\n    <div class="flight-journeys">\r\n        ',_.each(list,function(item,index){var resExtendInfo=item.resExtendInfo,status=resExtendInfo&&resExtendInfo.status;$out+='\r\n        <div class="flight-panel">\r\n        ';var jibaoStatusInfo=item.jibaoStatusInfo;"1"==item.isJibao&&jibaoStatusInfo?($out+='\r\n           <div class="ticketing-info">\r\n                <span class="status">',$out+=$escape(jibaoStatusInfo.statusDesc),$out+="</span>\r\n           </div>\r\n        "):($out+="\r\n           ",0!=status&&1!=status||($out+='\r\n           <div class="ticketing-info">\r\n              ',resExtendInfo.statusDesc&&($out+='\r\n                  <span class="status">',$out+=$escape(resExtendInfo.statusDesc),$out+="</span>\r\n              "),$out+="\r\n              ",resExtendInfo.time&&($out+='              \r\n                 <span class="time">',$out+=$escape(resExtendInfo.time),$out+="</span>\r\n              "),$out+="\r\n           </div>\r\n           "),$out+="\r\n        "),$out+='\r\n         <div class="flight-journey">\r\n              <table>\r\n                 <tr>\r\n                    <td class="route">\r\n                        <div class="trip">',$out+=$escape(item.startDate),$out+=' 入住</div>\r\n                        <div class="time">',$out+=$escape(item.endDate),$out+=' 退房</div>\r\n                    </td>\r\n                    <td class="flight">\r\n                            <span class="flightNo" class="an_mo"><em title="',$out+=$escape(item.hotelChineseName),$out+='" class="hotelName detail-wrapper" m="点击_酒店信息_酒店详情____查看酒店详情">',$out+=$escape(item.hotelChineseName),$out+='\r\n                                <div class="resources-detail hotel-detail">\r\n                                   <div class="hotel-detail-title">\r\n                                       <header class="float-header">\r\n                                           <h2 class="active">房型详情</h2>\r\n                                           <h2 class="service-info">酒店政策及设施</h2>\r\n                                           <span><i class="icon close-icon"></i></span>\r\n                                       </header>\r\n                                       ';var detail=item.detail,imgList=detail&&detail.imgList||[];$out+='\r\n                                         <div class="hotel-wrapper resources detail-main gallery2">\r\n                                             <div class="detail-img-list">\r\n                                                 <div class="big-img">\r\n                                                     ',_.each(imgList,function(picture,index){$out+='\r\n                                                        <img src="',$out+=$escape(picture.big),$out+='" class="',0!=index&&($out+=" hide "),$out+='">\r\n                                                     '}),$out+="\r\n\r\n                                                     ",_.isEmpty(imgList)&&($out+='\r\n                                                         <img src="//img3.tuniucdn.com/img/201510131901/bookOnline/default.png">\r\n                                                     '),$out+='\r\n                                                 </div>\r\n                                                 <div class="small-img" data-count="4">\r\n                                                   ';var hasChange=!_.isEmpty(imgList)&&imgList.length>4;$out+="\r\n                                                   ",hasChange&&($out+='\r\n                                                   <a class="left">\r\n                                                       <img class="tn_logo" src="//img3.tuniucdn.com/img/201510131901/bookOnline/left.png" alt="">\r\n                                                       <img class="tn_logo hide" src="//img3.tuniucdn.com/img/201510131901/bookOnline/left-active.png" alt="前一张">\r\n                                                   </a>\r\n                                                   '),$out+=' \r\n                                                     <div class="middle">\r\n                                                         <ul>\r\n                                                             ',_.each(imgList,function(picture,index){$out+='\r\n                                                             <li class="',0==index&&($out+=" active "),$out+='"><a href="javascript:;"><img src="',$out+=$escape(picture.small),$out+='" alt=""></a></li>\r\n                                                             '}),$out+="\r\n\r\n                                                             ",_.isEmpty(imgList)&&($out+='\r\n                                                             <li class="active"><a href="javascript:;"><img src="//img3.tuniucdn.com/img/201510131901/bookOnline/default_small2.jpg" alt=""></a></li>\r\n                                                             '),$out+="\r\n                                                         </ul>\r\n                                                     </div>\r\n                                                   ",hasChange&&($out+='\r\n                                                   <a class="right">\r\n                                                       <img class="tn_logo hide" src="//img3.tuniucdn.com/img/201510131901/bookOnline/right.png" alt="">\r\n                                                       <img class="tn_logo" src="//img3.tuniucdn.com/img/201510131901/bookOnline/right-active.png" alt="后一张">\r\n                                                   </a>\r\n                                                   '),$out+='  \r\n                                                 </div>\r\n                                             </div>\r\n                                             <div class="detail-explain">\r\n                                                 <p class="detail-explain-name">',$out+=$escape(item.hotelChineseName),$out+="</p>\r\n                                                 ",detail&&($out+="\r\n                                                         ",detail.address&&($out+='\r\n                                                             <div class="address">\r\n                                                                 <p class="area-title">详细地址：</p>\r\n                                                                 <p class="area-content">',$out+=$escape(detail.address),$out+="</p>\r\n                                                             </div>\r\n                                                         "),$out+="\r\n                                                         ",detail.openingDate&&($out+='\r\n                                                             <div class="openingDate">\r\n                                                                 <p class="area-title">开业时间：</p>\r\n                                                                 <p class="area-content">',$out+=$escape(detail.openingDate),$out+="</p>\r\n                                                             </div>\r\n                                                         "),$out+="\r\n                                                         ",detail.decorationTime&&($out+='\r\n                                                             <div class="decorationTime">\r\n                                                                 <p class="area-title">装修时间：</p>\r\n                                                                 <p class="area-content">',$out+=$escape(detail.decorationTime),$out+="</p>\r\n                                                             </div>\r\n                                                         "),$out+="\r\n                                                         ",detail.roomNum&&($out+='\r\n                                                             <div class="roomNum">\r\n                                                                 <p class="area-title">房间数：</p>\r\n                                                                 <p class="area-content">',$out+=$escape(detail.roomNum),$out+="</p>\r\n                                                             </div>\r\n                                                         "),$out+="\r\n                                                         ",detail.telephone&&($out+='\r\n                                                             <div class="telephone">\r\n                                                                 <p class="area-title">酒店电话：</p>\r\n                                                                 <p class="area-content">',$out+=$escape(detail.telephone),$out+="</p>\r\n                                                             </div>\r\n                                                         "),$out+="\r\n                                                         ",detail.geographic&&($out+='\r\n                                                             <div class="geographic">\r\n                                                                 <p class="area-title">地理位置：</p>\r\n                                                                 <p class="area-content">',$out+=$string(detail.geographic),$out+="</p>\r\n                                                             </div>\r\n                                                         "),$out+="\r\n                                                 "),$out+='                                                 \r\n                                             </div>\r\n                                             <div class="clear-float"></div>\r\n                                         </div>\r\n\r\n                                         <div class="hotel-wrapper hotel-detail-child-panel service-type-panel hide">\r\n                                                         ',item.hotelDetail&&($out+='\r\n                                                         <h2>酒店简介</h2>\r\n                                                         <div class="hotel_instruction">\r\n                                                             ',$out+=$string(item.hotelDetail),$out+="\r\n                                                         </div>\r\n                                                         "),$out+="\r\n\r\n                                                        ",item.bookNotice&&($out+='\r\n                                                          <h2>酒店政策</h2>\r\n                                                         <div class="hotel_policy">\r\n                                                             ',$out+=$string(item.bookNotice),$out+="\r\n                                                         </div>\r\n                                                        "),$out+='\r\n                                          </div>\r\n\r\n                                         <span class="icon white-triangle"></span>\r\n                                     </div>\r\n                                 </div>\r\n\r\n\r\n\r\n\r\n\r\n                               </em>  \r\n                            </span>\r\n                    </td>\r\n                    <td class="arrow" title="',$out+=$escape(item.roomName),$out+='">\r\n                            <span class="f-ol">',$out+=$escape(item.roomName),$out+='</span>\r\n                    </td>\r\n                    <td class="stop">\r\n                        <div class="when" title="',$out+=$escape(item.bedName),$out+=$escape(isShowLinker(item.bedName,item.network)),$out+=$escape(item.network),$out+=$escape(isShowLinker(item.network,item.breakFastInfo)),$out+=$escape(item.breakFastInfo),$out+='">',$out+=$escape(item.bedName),$out+=$escape(isShowLinker(item.bedName,item.network)),$out+=$escape(item.network),$out+=$escape(isShowLinker(item.network,item.breakFastInfo)),$out+=$escape(item.breakFastInfo),$out+='</div>\r\n                    </td>\r\n                    <td class="level">\r\n                        ';var info=item.hotelInformation,confirmNo=info&&info.confirmNo;$out+="\r\n                        ",info&&($out+='\r\n                        <div class="comments jtxz-detail-hover">\r\n                            <em class="f-bb c9">确认号</em>\r\n                            <div class="jtxz-detail2 T_width2 white">\r\n                                ',info.voucher&&($out+='\r\n                                <p class="YD_title"><span>',$out+=$escape(info.voucher),$out+="</span></p>\r\n                                "),$out+="\r\n                                ",confirmNo&&confirmNo.length&&($out+='\r\n                                <div class="ticketNoList">\r\n                                     <p class="YD_mgb">确认号：</p>\r\n                                     <p class="no-list">\r\n                                        ',_.each(confirmNo,function(value){$out+="\r\n                                           <span>",$out+=$escape(value),$out+="</span>\r\n                                        "}),$out+="\r\n                                     </p>\r\n                                </div>\r\n                                "),$out+='\r\n                                <p class="confirmInfo">',$out+=$escape(confirmInfo),$out+='</p>\r\n                                <span class="icon up-icon"></span>\r\n                            </div>\r\n                        </div>\r\n                        '),$out+='\r\n                    </td>\r\n                    <td class="count">\r\n                        <div class="childCount">',$out+=$escape(item.roomCount),$out+="间</div>\r\n                    </td>                    \r\n                 </tr>\r\n              </table>\r\n         </div>\r\n         ","1"==item.isJibao&&($out+='\r\n              <div class="resources-tips">',$out+=$escape(jibaoStatusInfo.jibaoText),$out+="</div>\r\n         "),$out+="\r\n        </div>\r\n        "}),$out+="\r\n    </div>\r\n</div>\r\n"}return new String($out)}return function(){var obj={};arguments[0]=arguments[0]||{};for(var key2 in arguments[0])obj[key2]=arguments[0][key2];for(var key in template.helpers)obj[key]=template.helpers[key];return window.pageDataObj&&(obj.bookStep=window.pageDataObj.bookStep,obj.pageType=window.pageDataObj.pageType,obj.proType=window.pageDataObj.proType,obj.proLine=window.pageDataObj.proLine,obj.proMode=window.pageDataObj.proMode),anonymous.call(template.utils,obj).toString()}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(fn){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=fn,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function(template){function anonymous($data,$filename){"use strict";var $utils=this,_=($utils.$helpers,$data._),airList=$data.airList,$escape=($data.item,$utils.$escape),$out="";return $out+='<div class="T_popup_panel T_air_schedule">\r\n    <h2>\r\n        <span class="T_title">酒店入住单</span>\r\n    </h2>\r\n    <main>\r\n        \r\n        <ul>\r\n            ',_.each(airList,function(item){$out+='\r\n            <li class="airListRow">\r\n                <p class="fileName"><a href="',$out+=$escape(item.fileUrl),$out+='" title="',$out+=$escape(item.fileName),$out+='" class="load-hover">',$out+=$escape(item.fileName),$out+='<i class="icon2 load-icon"></i></a></p>\r\n            </li>\r\n            '}),$out+="\r\n        </ul>\r\n    </main>\r\n</div>",new String($out)}return function(){var obj={};arguments[0]=arguments[0]||{};for(var key2 in arguments[0])obj[key2]=arguments[0][key2];for(var key in template.helpers)obj[key]=template.helpers[key];return window.pageDataObj&&(obj.bookStep=window.pageDataObj.bookStep,obj.pageType=window.pageDataObj.pageType,obj.proType=window.pageDataObj.proType,obj.proLine=window.pageDataObj.proLine,obj.proMode=window.pageDataObj.proMode),anonymous.call(template.utils,obj).toString()}})},function(module,exports,__webpack_require__){var $=__webpack_require__(14),gallery2=(__webpack_require__(17),{init:function(){$(document).on("click",".hotel-detail .small-img .left",this.prevPicture),$(document).on("click",".hotel-detail .small-img .right",this.nextPicture),$(document).on("click",".hotel-detail .small-img li",this.showPicture)},prevPicture:function(e){var obj=$(e.currentTarget);if(!obj.hasClass("T_disabled")){var parent=obj.parent(".small-img"),container=parent.find(".middle"),delta=container.width(),ul=parent.find(".middle ul");delta+=parseInt(ul.children("li").eq(0).css("marginRight"));var left=parseInt(ul.css("left"))||0,next=parent.find(".right");gallery2.canPrev(obj)&&(gallery2.disabled(obj),ul.animate({left:left+delta},"linear",function(){gallery2.canPrev(obj)&&gallery2.enabled(obj),gallery2.enabled(next)}))}},nextPicture:function(e){var obj=$(e.currentTarget);if(!obj.hasClass("T_disabled")){var parent=obj.parent(".small-img"),container=parent.find(".middle"),delta=container.width(),ul=parent.find(".middle ul");delta+=parseInt(ul.children("li").eq(0).css("marginRight"));var left=parseInt(ul.css("left"))||0,prev=parent.find(".left");gallery2.canNext(obj)&&(gallery2.disabled(obj),ul.animate({left:left-delta},"linear",function(){gallery2.canNext(obj)&&gallery2.enabled(obj),gallery2.enabled(prev)}))}},showPicture:function(e){var obj=$(e.currentTarget),index=obj.index(),parent=obj.parents(".small-img");parent.find("li").removeClass("active"),obj.addClass("active"),parent.prev(".big-img").find("img").hide(),parent.prev(".big-img").find("img").eq(index).show()},canPrev:function(obj){var parent=obj.parent(".small-img"),ul=parent.find(".middle ul"),left=parseInt(ul.css("left"))||0;return left<0},canNext:function(obj){var parent=obj.parent(".small-img"),container=parent.find(".middle"),delta=container.width(),ul=parent.find(".middle ul"),left=parseInt(ul.css("left"))||0,len=ul.children("li").length,count=parent.data("count");return left>-(Math.ceil(len/count)-1)*delta},disabled:function(obj){var imgs=obj.find("img");imgs.eq(1).hide(),imgs.eq(0).show(),obj.addClass("T_disabled")},enabled:function(obj){var imgs=obj.find("img");imgs.eq(0).hide(),imgs.eq(1).show(),obj.removeClass("T_disabled")}});gallery2.init()},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),tpl=__webpack_require__(91),config=__webpack_require__(6);config.pageDataObj;module.exports=backbone.View.extend({el:"#m-singleRoom",events:{},initialize:function(){_.isEmpty(this.model.get("list"))||this.render()},render:function(){var html,data=this.model.toJSON();html=tpl(data),this.$el.html(html).show()}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(fn){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=fn,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function(template){function anonymous($data,$filename){"use strict";var $utils=this,_=($utils.$helpers,$data._),list=$data.list,$escape=$utils.$escape,msgInfo=$data.msgInfo,$out=($data.item,"");return _.isEmpty(list)||($out+='\r\n<h2>\r\n    <a class="m-more"></a>\r\n    <span class="icon2 single-icon"></span>\r\n    <span class="m-title">单房差</span>\r\n    <span class="m-title-desc" id="">\r\n        <span class="jtxz-detail-hover">\r\n            <i class="icon notice2-icon"></i>\r\n            <div class="jtxz-detail2 T_width2 detail2-tips">\r\n                <p class="YD_title">单房差是什么？</p>\r\n                <p class="YD_mgb">',$out+=$escape(msgInfo),$out+='</p>\r\n                <span class="z">◆</span>\r\n                <span class="j">◆</span>\r\n            </div>\r\n        </span>   \r\n    </span>\r\n</h2>\r\n<div class="modular-body">\r\n    <div class="flight-journeys">\r\n      ',_.each(list,function(item){$out+='\r\n        <div class="flight-panel">\r\n         <div class="flight-journey">\r\n              <table>\r\n                 <tr>\r\n                    <td class="route">\r\n                        <div class="time f-ol" title="',$out+=$escape(item.resourceName),$out+='">',$out+=$escape(item.resourceName),$out+='</div>\r\n                    </td>\r\n                    <td class="flight">\r\n                        <div class="number">\r\n                            <span class="flightNo f-ol">\r\n                            ',item.adultPrice&&($out+="\r\n                               成人价：",$out+=$escape(item.adultPrice),$out+="  \r\n                            "),$out+=" \r\n                            ",item.childPrice&&($out+="\r\n                               儿童价：",$out+=$escape(item.childPrice),$out+="\r\n                            "),$out+=" \r\n                            </span>\r\n                        </div>\r\n                    </td>                   \r\n                 </tr>\r\n              </table>\r\n         </div>\r\n        </div>\r\n      "}),$out+="\r\n    </div>\r\n</div>\r\n"),new String($out)}return function(){var obj={};arguments[0]=arguments[0]||{};for(var key2 in arguments[0])obj[key2]=arguments[0][key2];for(var key in template.helpers)obj[key]=template.helpers[key];return window.pageDataObj&&(obj.bookStep=window.pageDataObj.bookStep,obj.pageType=window.pageDataObj.pageType,obj.proType=window.pageDataObj.proType,obj.proLine=window.pageDataObj.proLine,obj.proMode=window.pageDataObj.proMode),anonymous.call(template.utils,obj).toString()}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),tpl=__webpack_require__(93),config=__webpack_require__(6);config.pageDataObj;module.exports=backbone.View.extend({el:"#m-upgrade",events:{},initialize:function(){_.isEmpty(this.model.get("list"))||this.render()},render:function(){var html,data=this.model.toJSON();html=tpl(data),this.$el.html(html).show()}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(fn){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=fn,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function(template){function anonymous($data,$filename){"use strict";var $utils=this,list=($utils.$helpers,$data.list),_=$data._,$escape=($data.item,$utils.$escape),$out="";return list&&list.length&&($out+='\r\n<h2>\r\n    <a class="m-more"></a>\r\n    <span class="icon2 upgrade-icon"></span>\r\n    <span class="m-title">升级方案</span>\r\n</h2>\r\n<div class="modular-body">\r\n    <div class="flight-journeys">\r\n      ',_.each(list,function(item){$out+='\r\n        <div class="flight-panel">\r\n         <div class="flight-journey">\r\n              <table>\r\n                 <tbody><tr>\r\n                    <td class="route">\r\n                        ',$out+=$escape(item.journeyDate),$out+='\r\n                    </td>\r\n                    <td class="flight">\r\n                            <span class="flightNo f-ol" title="',$out+=$escape(item.upgradePlanName),$out+='">',$out+=$escape(item.upgradePlanName),$out+='\r\n                            </span>\r\n                    </td>\r\n                    <td class="count">\r\n                        <div class="childCount">\r\n                        ',item.adultCount>0&&($out+="\r\n                           成人",$out+=$escape(item.adultCount),$out+="份\r\n                        "),$out+="                        \r\n                        ",item.childCount>0&&($out+="\r\n                           儿童",$out+=$escape(item.childCount),$out+="份\r\n                        "),$out+="\r\n                        </div>\r\n                    </td>                    \r\n                 </tr>\r\n              </tbody></table>\r\n         </div>\r\n        </div>\r\n      "}),$out+="\r\n    </div>\r\n</div>\r\n"),new String($out)}return function(){var obj={};arguments[0]=arguments[0]||{};for(var key2 in arguments[0])obj[key2]=arguments[0][key2];for(var key in template.helpers)obj[key]=template.helpers[key];return window.pageDataObj&&(obj.bookStep=window.pageDataObj.bookStep,obj.pageType=window.pageDataObj.pageType,obj.proType=window.pageDataObj.proType,obj.proLine=window.pageDataObj.proLine,obj.proMode=window.pageDataObj.proMode),anonymous.call(template.utils,obj).toString()}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),tpl=__webpack_require__(95),config=__webpack_require__(6);config.pageDataObj;module.exports=backbone.View.extend({el:"#m-transfer",events:{},initialize:function(){_.isEmpty(this.model.get("list"))||this.render()},render:function(){var html,data=this.model.toJSON();html=tpl(data),this.$el.html(html).show()}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(fn){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=fn,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function(template){function anonymous($data,$filename){"use strict";var $utils=this,list=($utils.$helpers,$data.list),_=$data._,$escape=($data.item,$utils.$escape),$out="";return list&&list.length&&($out+='\r\n<h2>\r\n    <a class="m-more"></a>\r\n    <span class="icon2 transfer-icon"></span>\r\n    <span class="m-title">接送机</span>\r\n</h2>\r\n<div class="modular-body">\r\n    <div class="flight-journeys">\r\n      ',_.each(list,function(item){$out+='\r\n        <div class="flight-panel">\r\n         <div class="flight-journey">\r\n              <table>\r\n                 <tbody><tr>\r\n                    <td class="route">\r\n                        <div class="time">',$out+=$escape(item.useTime),$out+='</div>\r\n                    </td>\r\n                    <td class="flight">\r\n                            <span class="flightNo f-ol">',$out+=$escape(item.startAddress),$out+="-",$out+=$escape(item.destAddress),$out+='\r\n                            </span>\r\n                    </td>\r\n                    <td class="stop">\r\n                        <div class="when">',$out+=$escape(item.carinfo),$out+='</div>\r\n                    </td>\r\n                    <td class="level">\r\n\r\n                    </td>\r\n                    <td class="count">\r\n                        <div class="childCount">1辆</div>\r\n                    </td>                    \r\n                 </tr>\r\n              </tbody></table>\r\n         </div>\r\n        </div>\r\n      '}),$out+="\r\n    </div>\r\n</div>\r\n"),new String($out)}return function(){var obj={};arguments[0]=arguments[0]||{};for(var key2 in arguments[0])obj[key2]=arguments[0][key2];for(var key in template.helpers)obj[key]=template.helpers[key];return window.pageDataObj&&(obj.bookStep=window.pageDataObj.bookStep,obj.pageType=window.pageDataObj.pageType,obj.proType=window.pageDataObj.proType,obj.proLine=window.pageDataObj.proLine,obj.proMode=window.pageDataObj.proMode),anonymous.call(template.utils,obj).toString()}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),tpl=__webpack_require__(97),config=__webpack_require__(6);config.pageDataObj;module.exports=backbone.View.extend({el:"#m-ticket",events:{},initialize:function(){_.isEmpty(this.model.get("list"))||this.render()},render:function(){var html,data=this.model.toJSON();html=tpl(data),this.$el.html(html).show()}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(fn){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=fn,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function(template){function anonymous($data,$filename){"use strict";var $utils=this,list=($utils.$helpers,$data.list),_=$data._,$escape=($data.item,$data.resExtendInfo,$data.status,$utils.$escape),$string=$utils.$string,$out=($data.enterWayArr,$data.certInfo,$data.num,$data.certType,$data.content,$data.contentName,"");return list&&list.length&&($out+='\r\n<h2>\r\n    <a class="m-more"></a>\r\n    <span class="icon2 ticket-icon"></span>\r\n    <span class="m-title">门票</span>\r\n</h2>\r\n<div class="modular-body">\r\n    <div class="flight-journeys">\r\n      ',_.each(list,function(item){var resExtendInfo=item.resExtendInfo,status=resExtendInfo&&resExtendInfo.status;$out+='\r\n        <div class="flight-panel">\r\n         ',0!=status&&1!=status||($out+='\r\n         <div class="ticketing-info">\r\n              ',resExtendInfo.statusDesc&&($out+='\r\n                  <span class="status">',$out+=$escape(resExtendInfo.statusDesc),$out+="</span>\r\n              "),$out+="\r\n              ",resExtendInfo.time&&($out+='              \r\n                 <span class="time">',$out+=$escape(resExtendInfo.time),$out+="</span>\r\n              "),$out+="\r\n         </div>\r\n         "),$out+='      \r\n         <div class="flight-journey">\r\n              <table>\r\n                 <tbody><tr>\r\n                    <td class="route">\r\n                        <div class="time">',$out+=$escape(item.useDate),$out+='使用</div>\r\n                    </td>\r\n                    <td class="flight">\r\n                        <div class="number">\r\n                              <em class="f-ol ',(item.address||item.ticketWay||item.enterWay||item.description)&&($out+=" f-active-color detail-wrapper "),$out+='" title="',$out+=$escape(item.ticketName),$out+='">',$out+=$escape(item.ticketName),$out+='\r\n                                  <div class="resources-detail">\r\n                                        <div class="close-detail"><i class="icon close-icon"></i></div>\r\n                                        <div class="resources">\r\n                                            ',item.address&&($out+='\r\n                                            <div class="resources-panel">\r\n                                                <span class="resources-panel-title"><i class="icon title-icon"></i>取票地址</span>\r\n                                                <p class="c9">',$out+=$escape(item.address),$out+="</p>\r\n                                            </div>\r\n                                            "),$out+="\r\n                                            ",item.ticketWay&&($out+='\r\n                                            <div class="resources-panel">\r\n                                                <span class="resources-panel-title"><i class="icon title-icon"></i>取票方式</span>\r\n                                                <p class="c9">',$out+=$escape(item.ticketWay),$out+="</p>\r\n                                            </div>\r\n                                            "),$out+="                                                \r\n                                            ",item.enterWay&&($out+='\r\n                                            <div class="resources-panel">\r\n                                                <span class="resources-panel-title"><i class="icon title-icon"></i>入园方式</span>\r\n                                                <p class="c9">',$out+=$escape(item.enterWay),$out+="</p>\r\n                                            </div>\r\n                                            "),$out+="\r\n                                            ",item.description&&($out+='\r\n                                            <div class="resources-panel">\r\n                                                <span class="resources-panel-title"><i class="icon title-icon"></i>门票说明</span>\r\n                                                <p class="c9">',$out+=$string(item.description),$out+="</p>\r\n                                            </div>\r\n                                            "),$out+='\r\n                                        </div>                                      \r\n                                        <span class="icon white-triangle"></span>\r\n                                        <div class="clear-float"></div>\r\n                                  </div>\r\n                              </em>\r\n                        </div>\r\n                    </td>\r\n                    <td class="arrow">\r\n\r\n                    </td>\r\n                    <td class="level">\r\n                     ';var enterWayArr=item.enterWayArr;if($out+="\r\n                     ",enterWayArr&&enterWayArr.certInfo&&enterWayArr.certInfo.length){var certInfo=enterWayArr.certInfo;$out+='\r\n                      <div class="comments jtxz-detail-hover">\r\n                            <em class="f-bb c9">\r\n                                    入园凭证\r\n                            </em>\r\n                            <div class="jtxz-detail2 T_width2 white ',certInfo.length>1&&($out+=" T_width3  "),$out+='">\r\n                                <p class="YD_title">入园方式：',$out+=$escape(enterWayArr.typeDesc?enterWayArr.typeDesc:item.enterWay),$out+="</p>\r\n\r\n                                ",certInfo&&certInfo.length&&($out+='\r\n                                   <p class="YD_mgb">\r\n                                   ',_.each(certInfo,function(num){var certType=num.certType,content=num.content,contentName=num.contentName;$out+="\r\n                                   ",1==certType?($out+="\r\n                                      ",$out+=$escape(content),$out+="\r\n                                   "):2==certType?($out+='\r\n                                      <div class="ticketNoList">\r\n                                           <p class="no-list">\r\n                                              <span><a href="',$out+=$escape(content),$out+='" title="',$out+=$escape(contentName),$out+='" class="load-hover">',$out+=$escape(contentName),$out+='<i class="icon2 load-icon"></i></a></span>\r\n                                           </p>\r\n                                      </div>\r\n                                   '):3==certType&&($out+="\r\n                                       <img class='qrpic' src=\"",$out+=$escape(content),$out+="\" alt='二维码'>\r\n                                   "),$out+="\r\n                                   "}),$out+="\r\n                                   <p>\r\n                                "),$out+='\r\n                                <span class="icon up-icon"></span>\r\n                            </div>\r\n                        </div>\r\n                      '}$out+='  \r\n                    </td>\r\n                    <td class="place">\r\n\r\n                    </td>\r\n                    <td class="count">\r\n                        <div class="childCount">',$out+=$escape(item.ticketNum),$out+="</div>\r\n                    </td>                    \r\n                 </tr>\r\n              </tbody></table>\r\n         </div>\r\n        </div>\r\n      "}),$out+="\r\n    </div>\r\n</div>\r\n"),new String($out)}return function(){var obj={};arguments[0]=arguments[0]||{};for(var key2 in arguments[0])obj[key2]=arguments[0][key2];for(var key in template.helpers)obj[key]=template.helpers[key];return window.pageDataObj&&(obj.bookStep=window.pageDataObj.bookStep,obj.pageType=window.pageDataObj.pageType,obj.proType=window.pageDataObj.proType,obj.proLine=window.pageDataObj.proLine,obj.proMode=window.pageDataObj.proMode),anonymous.call(template.utils,obj).toString()}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),tpl=__webpack_require__(99),config=__webpack_require__(6);config.pageDataObj;module.exports=backbone.View.extend({el:"#m-additional",events:{},initialize:function(){_.isEmpty(this.model.get("list"))||this.render()},render:function(){var html,data=this.model.toJSON();html=tpl(data),this.$el.html(html).show()}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(fn){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=fn,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function(template){function anonymous($data,$filename){"use strict";var $utils=this,list=($utils.$helpers,$data.list),_=$data._,$escape=($data.item,$utils.$escape),$string=$utils.$string,$out="";return list&&list.length&&($out+='\r\n<h2>\r\n    <a class="m-more"></a>\r\n    <span class="icon2 additional-icon"></span>\r\n    <span class="m-title">附加项目</span>\r\n</h2>\r\n<div class="modular-body">\r\n    <div class="flight-journeys">\r\n      ',_.each(list,function(item){$out+='\r\n        <div class="flight-panel">\r\n         <div class="flight-journey">\r\n              <table>\r\n                 <tbody><tr>\r\n                    <td class="route">\r\n                        <div class="time">',$out+=$escape(item.useDate),$out+='使用</div>\r\n                    </td>\r\n                    <td class="flight">\r\n                            <span class="an_mo">\r\n                                  <em class="f-ol ',(item.addItemIntro||item.bookNotice)&&($out+=" f-active-color detail-wrapper "),$out+='" title="',$out+=$escape(item.resourceName),$out+='" m="点击_附加项目详情____查看附加项目详情">',$out+=$escape(item.resourceName),$out+='\r\n                                      <div class="resources-detail" style="display: none;">\r\n                                            <div class="close-detail"><i class="icon close-icon"></i></div>\r\n                                            <div class="resources">\r\n                                                ',item.addItemIntro&&($out+='\r\n                                                <div class="resources-panel">\r\n                                                    <span class="resources-panel-title"><i class="icon title-icon"></i>产品介绍</span>\r\n                                                    <p class="c9">',$out+=$string(item.addItemIntro),$out+="</p>\r\n                                                </div>\r\n                                                "),$out+="   \r\n                                                ",item.bookNotice&&($out+='\r\n                                                <div class="resources-panel">\r\n                                                    <span class="resources-panel-title"><i class="icon title-icon"></i>预订须知</span>\r\n                                                    <p class="c9">',$out+=$string(item.bookNotice),$out+="</p>\r\n                                                </div>\r\n                                                "),$out+='                                                                                           \r\n                                            </div>                                       \r\n                                            <span class="icon white-triangle"></span>\r\n                                            <div class="clear-float"></div>\r\n                                      </div>\r\n                                  </em>\r\n                            </span>\r\n                    </td>\r\n                    <td class="count">\r\n                        ',item.buyNum&&($out+='\r\n                        <div class="childCount">',$out+=$escape(item.buyNum),$out+="</div>\r\n                        "),$out+="\r\n                    </td>                    \r\n                 </tr>\r\n              </tbody></table>\r\n         </div>\r\n        </div>\r\n      "}),$out+="\r\n    </div>\r\n</div>\r\n"),new String($out)}return function(){var obj={};arguments[0]=arguments[0]||{};for(var key2 in arguments[0])obj[key2]=arguments[0][key2];for(var key in template.helpers)obj[key]=template.helpers[key];return window.pageDataObj&&(obj.bookStep=window.pageDataObj.bookStep,obj.pageType=window.pageDataObj.pageType,obj.proType=window.pageDataObj.proType,obj.proLine=window.pageDataObj.proLine,obj.proMode=window.pageDataObj.proMode),anonymous.call(template.utils,obj).toString()}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),tpl=__webpack_require__(101),config=__webpack_require__(6),eventBus=__webpack_require__(5);config.pageDataObj;module.exports=backbone.View.extend({el:"#m-present",events:{"click .add-address":"openAddressList","click .check-progress":"openProgressList"},initialize:function(){_.isEmpty(this.model.get("list"))||this.render(),this.listenTo(this.model,"render",this.render)},render:function(){var html,data=this.model.toJSON();html=tpl(data),this.$el.html(html).show()},openAddressList:function(){eventBus.trigger("openListAddress")},openProgressList:function(){eventBus.trigger("openListProgress")}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(fn){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=fn,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function(template){function anonymous($data,$filename){"use strict";var $utils=this,_=($utils.$helpers,$data._),list=$data.list,$escape=($data.item,$utils.$escape),haveAddress=($data.prom_address,$data.haveAddress),haveDeliveryProcess=$data.haveDeliveryProcess,$out="";return _.isEmpty(list)||($out+='\r\n<h2>\r\n    <a class="m-more"></a>\r\n    <span class="icon2 present-icon"></span>\r\n    <span class="m-title">赠品信息</span>\r\n</h2>\r\n<div class="modular-body">\r\n    <div class="flight-journeys">\r\n      ',_.each(list,function(item){if($out+='\r\n        <div class="flight-panel">\r\n         <div class="flight-journey">\r\n              <table>\r\n                 <tbody><tr>\r\n                    <td class="route">\r\n                      <div class="f-ol" title="',$out+=$escape(item.campaignName),item.returnGiftOrderInfo){var prom_address=item.returnGiftOrderInfo;$out+=$escape("("+prom_address.receiveName+" "+prom_address.receiveTel+" "+prom_address.receiveProvinceName+prom_address.receiveCityName+prom_address.receiveDetailAddress+")")}if($out+=' ">\r\n                        ',$out+=$escape(item.campaignName),$out+="\r\n                        ",item.returnGiftOrderInfo){var prom_address=item.returnGiftOrderInfo;$out+="\r\n                          ",$out+=$escape("("+prom_address.receiveName+" "+prom_address.receiveTel+" "+prom_address.receiveProvinceName+prom_address.receiveCityName+prom_address.receiveDetailAddress+")"),$out+="\r\n                        "}$out+=' \r\n                      </div>      \r\n                    </td>\r\n                    <td class="stop">\r\n                        ',$out+=$escape(item.dicountNotice),$out+="\r\n                    </td>                 \r\n                 </tr>\r\n              </tbody></table>\r\n         </div>\r\n        </div>\r\n    </div>\r\n    "}),$out+='\r\n    <div class="flight-tips" class="an_mo">\r\n        ',haveAddress?$out+='\r\n           <a href="javascript:;" class="btn add-address" m="点击_赠品信息____添加寄送地址">添加寄送地址</a> \r\n        ':haveDeliveryProcess&&($out+='\r\n           <a href="javascript:;" class="btn check-progress">查看物流进度</a>\r\n        '),$out+=' \r\n         <div class="clear-float"></div>\r\n   </div>\r\n</div>\r\n'),new String($out)}return function(){var obj={};arguments[0]=arguments[0]||{};for(var key2 in arguments[0])obj[key2]=arguments[0][key2];for(var key in template.helpers)obj[key]=template.helpers[key];return window.pageDataObj&&(obj.bookStep=window.pageDataObj.bookStep,obj.pageType=window.pageDataObj.pageType,obj.proType=window.pageDataObj.proType,obj.proLine=window.pageDataObj.proLine,obj.proMode=window.pageDataObj.proMode),anonymous.call(template.utils,obj).toString()}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),tpl=__webpack_require__(103),config=__webpack_require__(6);config.pageDataObj;module.exports=backbone.View.extend({el:"#m-contact",events:{"click .isShield":"showShield"},initialize:function(){_.isEmpty(this.model.get("list"))||this.render()},render:function(){var html,data=this.model.toJSON();html=tpl(data),this.$el.html(html).show()},showShield:function(e){var target=$(e.target),list=this.model.get("list"),panel=target.parents(".flight-panel"),index=+panel.attr("data-index");list[index].shield=!list[index].shield,this.model.set("list",list),this.render()}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(fn){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=fn,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function(template){function anonymous($data,$filename){"use strict";var $utils=this,_=($utils.$helpers,$data._),list=$data.list,$escape=$utils.$escape,title=$data.title,$out=($data.item,$data.index,"");return _.isEmpty(list)||($out+='\r\n<h2>\r\n    <a class="m-more"></a>\r\n    <span class="icon2 contact-icon"></span>\r\n    <span class="m-title">',$out+=$escape(title),$out+='</span>\r\n</h2>\r\n<div class="modular-body">\r\n    <div class="flight-journeys">\r\n      ',_.each(list,function(item,index){$out+='\r\n        <div class="flight-panel" data-index="',$out+=$escape(index),$out+='">\r\n         <div class="flight-journey">\r\n              <table>\r\n                 <tbody><tr>\r\n                    <td class="route">\r\n                        <div class="time">\r\n                        ',$out+=$escape(item.name),$out+='\r\n                        </div>\r\n                    </td>\r\n                    <td class="stop">\r\n                            <span class="flightNo f-ol">',$out+=$escape(item.shield?item.telShield:item.tel),$out+='\r\n                            </span>\r\n                    </td>\r\n                    <td class="count">\r\n                        ',$out+=$escape(item.shield?item.emailShield:item.email),$out+="\r\n                    </td>                    \r\n                 </tr>\r\n              </tbody></table>\r\n         </div>\r\n        </div>\r\n      "}),$out+="  \r\n    </div>\r\n</div>\r\n"),new String($out)}return function(){var obj={};arguments[0]=arguments[0]||{};for(var key2 in arguments[0])obj[key2]=arguments[0][key2];for(var key in template.helpers)obj[key]=template.helpers[key];return window.pageDataObj&&(obj.bookStep=window.pageDataObj.bookStep,obj.pageType=window.pageDataObj.pageType,obj.proType=window.pageDataObj.proType,obj.proLine=window.pageDataObj.proLine,obj.proMode=window.pageDataObj.proMode),anonymous.call(template.utils,obj).toString()}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),tpl=__webpack_require__(105),config=__webpack_require__(6),tools=__webpack_require__(13);config.pageDataObj;module.exports=backbone.View.extend({el:"#m-tourist",events:{"click .check-all":"checkAll","click .isShield":"showShield"},initialize:function(){this.render()},render:function(){var html,data=this.model.toJSON();data.needShow&&(html=tpl(data),this.$el.html(html).show())},checkAll:function(){var needHide=this.model.get("needHide");this.model.set("needHide",!needHide),this.render(),needHide||tools.scrollTo(this.$el)},showShield:function(e){var target=$(e.target),list=this.model.get("list"),panel=target.parents(".flight-panel"),index=+panel.attr("data-index");list[index].shield=!list[index].shield,this.model.set("list",list),this.render()}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(fn){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=fn,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function(template){function anonymous($data,$filename){"use strict";var $utils=this,needShow=($utils.$helpers,$data.needShow),list=$data.list,$escape=$utils.$escape,_=$data._,needHide=($data.item,$data.index,$data.needHide),flag=$data.flag,needAddTourer=$data.needAddTourer,editTourer=$data.editTourer,errorMsg=$data.errorMsg,needSuperAddTourer=$data.needSuperAddTourer,orderId=$data.orderId,productId=$data.productId,$out="";if($out+=" ",needShow){if($out+='\r\n<h2>\r\n    <a class="m-more"></a>\r\n    <span class="icon2 tourist-icon"></span>\r\n    <span class="m-title">出游人信息',list.length&&($out+="（",$out+=$escape(list.length),$out+="）"),$out+='</span>\r\n</h2>\r\n<div class="modular-body">\r\n  ',_.isEmpty(list)){$out+=' \r\n    <div class="load-error-panel">\r\n        ';var flag=needAddTourer||editTourer;$out+="\r\n        ",flag&&($out+='\r\n        <p class="load-error-img"></p>\r\n        <p class="load-tip">\r\n           <span>',$out+=$escape(errorMsg),$out+='</span>\r\n           <span class="add-tourists an_mo">\r\n              ',needAddTourer?($out+="\r\n                    ",1==needSuperAddTourer?($out+='\r\n                       <a href="/tn?r=order/SupOrderDetail/AddTourist&orderId=',$out+=$escape(orderId),$out+='" class="add_to_btn" m="点击_游客信息___添加出游人">添加出游人</a>\r\n                    '):($out+='\r\n                    <a href="/tours/',$out+=$escape(productId),$out+="/book/step2/",$out+=$escape(orderId),$out+='?from=user&operationFlag=1&version=2" class="add_to_btn" m="点击_游客信息___添加出游人">添加出游人</a>\r\n                    '),$out+="\r\n              "):editTourer&&($out+='\r\n                <a href="/tours/',$out+=$escape(productId),$out+="/book/step2/",$out+=$escape(orderId),$out+='?from=user&operationFlag=3&version=2" class="add_to_btn" m="点击_游客信息___添加出游人">添加出游人</a>\r\n              '),$out+="\r\n        </p>\r\n        "),$out+="\r\n    </div>\r\n  "}else $out+='\r\n    <div class="flight-journeys">\r\n      ',_.each(list,function(item,index){$out+='\r\n        <div class="flight-panel ',needHide&&index>1&&($out+=" hide "),$out+='" data-index = "',$out+=$escape(index),$out+='">\r\n          <div class="ticketing-info">\r\n              <span class="name">',$out+=$escape(item.name),$out+='</span>\r\n         </div>\r\n         <div class="flight-journey">\r\n              <ul>\r\n                ',item.tel&&($out+='              \r\n                   <li>手机号：<em class="c9">',$out+=$escape(item.shield?item.telShield:item.tel),$out+="</em></li>\r\n                "),$out+="   \r\n\r\n                ",item.psptType&&item.psptId&&($out+="              \r\n                   <li>",$out+=$escape(item.psptType),$out+='：<em class="c9">',$out+=$escape(item.shield?item.psptIdShield:item.psptId),$out+="</em></li>\r\n                "),$out+="   \r\n\r\n                ",item.birthday&&($out+='              \r\n                   <li>出生日期：<em class="c9">',$out+=$escape(item.birthday),$out+="</em></li>\r\n                "),$out+=" \r\n\r\n                ",item.psptEndDate&&($out+='              \r\n                   <li>证件有效期：<em class="c9">',$out+=$escape(item.psptEndDate),$out+="</em></li>\r\n                "),$out+=" \r\n\r\n                ",item.sex&&($out+='              \r\n                   <li>性别：<em class="c9">',$out+=$escape(item.sex),$out+="</em></li>\r\n                "),$out+=" \r\n\r\n                ",item.country&&($out+='              \r\n                   <li>国籍：<em class="c9">',$out+=$escape(item.country),$out+="</em></li>\r\n                "),$out+=" \r\n\r\n                ",item.issueOrgan&&($out+='              \r\n                   <li>护照签发地：<em class="c9">',$out+=$escape(item.issueOrgan),$out+="</em></li>\r\n                "),$out+=' \r\n              </ul>\r\n              <div class="clear-float"></div>\r\n         </div>\r\n        </div>\r\n        '}),$out+="\r\n    </div>\r\n   ",!_.isEmpty(list)&&list.length>2&&($out+='\r\n   <div class="flight-tips">\r\n         <a class="check-all" href="javascript:;">\r\n         ',$out+=needHide?'\r\n            查看所有<i class="icon2 open-icon"></i>\r\n         ':'\r\n            收起<i class="icon2 pack-up-icon"></i>\r\n         ',$out+="\r\n         </a> \r\n   </div>\r\n   "),$out+="\r\n  ";$out+="\r\n</div>\r\n"}return $out+="\r\n",new String($out)}return function(){var obj={};arguments[0]=arguments[0]||{};for(var key2 in arguments[0])obj[key2]=arguments[0][key2];for(var key in template.helpers)obj[key]=template.helpers[key];return window.pageDataObj&&(obj.bookStep=window.pageDataObj.bookStep,obj.pageType=window.pageDataObj.pageType,obj.proType=window.pageDataObj.proType,obj.proLine=window.pageDataObj.proLine,obj.proMode=window.pageDataObj.proMode),anonymous.call(template.utils,obj).toString()}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),tpl=__webpack_require__(107),config=__webpack_require__(6),EventBus=__webpack_require__(5);config.pageDataObj;module.exports=backbone.View.extend({el:"#m-visa",events:{"click .touristName":"toggleActive","click .check-visa-logi":"checkVisaLogi"},initialize:function(){_.isEmpty(this.model.get("list"))||this.render()},render:function(){var html,data=this.model.toJSON();html=tpl(data),this.$el.html(html).show()},toggleActive:function(e){var target=$(e.currentTarget),list=this.model.get("list"),thisIndex=target.attr("data-index");_.each(list,function(item,index){index==thisIndex?item.active=!0:item.active=!1}),this.model.set("list",list),this.render()},checkVisaLogi:function(e){var target=$(e.target),list=this.model.get("list"),dataIndex=+target.parents(".panel").attr("data-index"),firstIndex=+target.parents(".panel").attr("data-firstindex"),personVisaInfoList=list[firstIndex].visaLists[dataIndex],nodes=personVisaInfoList.node;_.some(nodes,function(node){var childNodes=node.childNodes;_.some(childNodes,function(child){if(child.otherInfo){var traces=child.traces;_.each(traces,function(trace){trace.acceptStation||trace.acceptTime?trace.className="state_finish":trace.className="state_base"});var visaLogi={express:traces,expressStatus:child.description||"此单无物流信息"};return EventBus.trigger("openVisaListProgress",visaLogi),!0}})})}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(fn){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=fn,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function(template){function anonymous($data,$filename){"use strict";var $utils=this,_=($utils.$helpers,$data._),list=$data.list,visaTip=$data.visaTip,$escape=($data.num,$data.index,$utils.$escape),helperIsExist=($data.lists,$data.listsIndex,$data.visaLists,$data.visaInfo,$data.visaIndex,$data.helperIsExist),helperFormatBooleanTip=$data.helperFormatBooleanTip,updateVisaFlag=($data.nodes,$data.len,$data.node,$data.updateVisaFlag),orderId=$data.orderId,$out="";if(!_.isEmpty(list)){$out+='\r\n<h2>\r\n    <a class="m-more"></a>\r\n    <span class="icon2 visa-icon"></span>\r\n    <span class="m-title">签证信息</span>\r\n</h2>\r\n<div class="modular-body">\r\n    ';var visaTip="上传材料";$out+='\r\n    <div class="visa-panel">\r\n        <div class="left-panel">\r\n            ',_.each(list,function(num,index){$out+='\r\n               <p data-index="',$out+=$escape(index),$out+='" class="',num.active&&($out+=" active "),$out+=' touristName">\r\n                  <a href="javascript:;" class="f-ol" title = "',$out+=$escape(num.touristName),$out+=" ",num.roleName&&($out+=" (",$out+=$escape(num.roleName),$out+=")"),$out+='">\r\n                      ',$out+=$escape(num.touristName),$out+=" \r\n                      ",num.roleName&&($out+="\r\n                         (",$out+=$escape(num.roleName),$out+=")\r\n                      "),$out+="\r\n                  </a>\r\n                  </p>\r\n            "}),$out+='\r\n        </div>\r\n        <div class="right-panel">\r\n            ',_.each(list,function(lists,listsIndex){if($out+="\r\n\r\n                ",lists.active){$out+="\r\n                    ";var visaLists=lists.visaLists;$out+="\r\n                       ",_.each(visaLists,function(visaInfo,visaIndex){$out+='\r\n                      <div class="panel" data-index="',$out+=$escape(visaIndex),$out+='" data-firstIndex="',$out+=$escape(listsIndex),$out+='">\r\n                           <div class="schedule-title">\r\n                                <span class="district">领区：<em class="c9">',$out+=$escape(visaInfo.district),$out+="</em>\r\n                                    ",visaInfo.visaType&&($out+='\r\n                                      <div class="visa-country detail-wrapper">\r\n                                           <span>',$out+=$escape(visaInfo.visaType),$out+='</span>\r\n                                           <span class="icon2 down-icon"></span>\r\n                                           <div class="resources-detail" style="display: none;width:948px;margin-left: -20px;">\r\n                                                   <div class="close-detail"><i class="icon close-icon"></i></div>\r\n                                                        <div class="resources">\r\n                                                         <div class="resources-panel">\r\n                                                             <span class="resources-panel-title"><i class="icon title-icon"></i>产品介绍</span>\r\n                                                                 ',helperIsExist(visaInfo.visaCityName)&&($out+='\r\n                                                                       <p class="c9">\r\n                                                                         领区：',$out+=$escape(visaInfo.visaCityName),$out+="\r\n                                                                 </p>\r\n                                                                 "),$out+="\r\n                                                                ",helperIsExist(visaInfo.enterCountryTimes)&&($out+='\r\n                                                                    <p class="c9">\r\n                                                                        入境次数：',$out+=$escape(visaInfo.enterCountryTimes),$out+="\r\n                                                                    </p>\r\n                                                                "),$out+="\r\n\r\n\r\n                                                                ",visaInfo.visaAvailableRange&&($out+='\r\n                                                                      <p class="c9">\r\n                                                                           有效期：',$out+=$escape(visaInfo.visaAvailableRange),$out+="\r\n                                                                      </p>\r\n                                                                "),$out+='\r\n\r\n                                                                <p class="c9">\r\n                                                                     是否面试：',$out+=$escape(helperFormatBooleanTip(visaInfo.isNeedInterview)),$out+='\r\n                                                                </p>\r\n\r\n                                                               <p class="c9">\r\n                                                                    是否需录指纹：',$out+=$escape(helperFormatBooleanTip(visaInfo.isNeedFingerprint)),$out+='\r\n                                                                </p>\r\n\r\n                                                                <p class="c9">\r\n                                                                     是否销签：',$out+=$escape(helperFormatBooleanTip(visaInfo.isNeedCancelVisa)),$out+='\r\n                                                                </p>\r\n\r\n                                                                <p class="c9">\r\n                                                                   是否需担保金：',$out+=$escape(helperFormatBooleanTip(visaInfo.isNeedDeposit)),$out+="\r\n                                                                </p>\r\n\r\n                                                                ",visaInfo.visaMajorTypeName&&($out+='\r\n                                                                     <p class="c9">\r\n                                                                          签证类型：',$out+=$escape(visaInfo.visaMajorTypeName),$out+="\r\n                                                                     </p>\r\n                                                                "),$out+="\r\n\r\n                                                                ",helperIsExist(visaInfo.longestResidenceTime)&&($out+='\r\n                                                                  <p class="c9">\r\n                                                                      停留天数：',$out+=$escape(visaInfo.longestResidenceTime),$out+="\r\n                                                                  </p>\r\n                                                                "),$out+="\r\n\r\n                                                                ",helperIsExist(visaInfo.handleTimeDuration)&&($out+='\r\n                                                                    <p class="c9">\r\n                                                                        ',visaInfo.isOld?($out+="\r\n                                                                            受理时长：",$out+=$escape(visaInfo.handleTimeDuration),$out+="\r\n                                                                        "):($out+="\r\n                                                                             受理时长：",$out+=$escape(visaInfo.handleTimeDuration),$out+="个工作日\r\n                                                                        "),$out+="\r\n                                                                     </p>\r\n                                                                "),$out+="\r\n                                                                 ",helperIsExist(visaInfo.acceptanceScope)&&($out+='\r\n                                                                       <p class="c9">\r\n                                                                            受理范围：',$out+=$escape(visaInfo.acceptanceScope),$out+="\r\n                                                                        </p>\r\n                                                                  "),$out+="\r\n                                                    </div>\r\n                                                                                                  ",helperIsExist(visaInfo.bookNotice)&&($out+='\r\n                                                                                                  <div class="resources-panel">\r\n                                                                                                     <span class="resources-panel-title"><i class="icon title-icon"></i>预订须知</span>\r\n                                                                                                     <p class="c9">',$out+=$escape(visaInfo.bookNotice),$out+="</p>\r\n                                                                                                 </div>\r\n                                                                                                  "),$out+='\r\n                                                                                       </div>\r\n                                                                                       <span class="icon white-triangle"></span>\r\n                                                                                       <div class="clear-float"></div>\r\n                                                                                 </div>\r\n                                      </div>\r\n                                    '),$out+='  \r\n                                </span>\r\n                                <span class="payStatus">免担保审核结果：<em class="c9">--</em></span>\r\n                                <span class="region">提交门市：<em class="c9">',$out+=$escape(visaInfo.submitAddr),$out+="</em></span>\r\n                           </div>\r\n                            ",visaInfo.showVisaProcess&&(visaTip="上传签证材料",$out+='\r\n                                <div class="schedule-img"> \r\n                                    <img src="//ssl3.tuniucdn.com/img/201604072050/bookOnline/order_detail/visa_',$out+=$escape(visaInfo.nodeIndex),$out+='.png">\r\n                                </div>\r\n                            '),$out+='\r\n                           <div class="schedule-time">\r\n                                ';var nodes=visaInfo.node,len=nodes.length-1;$out+="\r\n                                <ul>\r\n                                  ",_.each(nodes,function(node,index){$out+='\r\n                                     <li class="',index==len&&($out+=" last "),$out+='" ><span>',$out+=$escape(node.visaDate),$out+="</span><span>",$out+=$escape(node.visaTime),$out+="</span></li>\r\n                                  "}),$out+='\r\n                                </ul>\r\n                                <div class="clear-float"></div>\r\n                           </div>\r\n                           ',_.isEmpty(visaInfo.otherInfo)||($out+='\r\n                           <div class="schedule-text">\r\n                                <a class="check-visa-logi" href="javascript:;">查看签证物流</a>\r\n                           </div>     \r\n                           '),$out+="                     \r\n                      </div>\r\n                       "}),$out+="\r\n                "}$out+="\r\n            "}),$out+='\r\n        </div>\r\n        <div class="clear-float"></div>\r\n    </div>      \r\n    ',updateVisaFlag&&($out+='\r\n    <div class="visa-footer an_mo">\r\n        <a href="/tn?r=order/TourV3VisaOrder/UploadVisaMaterial&orderId=',$out+=$escape(orderId),$out+='" m="点击_上传签证材料____上传签证材料" >',$out+=$escape(visaTip),$out+='</a>\r\n        <div class="clear-float"></div>\r\n    </div>\r\n    '),$out+="\r\n</div>\r\n"}return new String($out)}return function(){var obj={};arguments[0]=arguments[0]||{};for(var key2 in arguments[0])obj[key2]=arguments[0][key2];for(var key in template.helpers)obj[key]=template.helpers[key];return window.pageDataObj&&(obj.bookStep=window.pageDataObj.bookStep,obj.pageType=window.pageDataObj.pageType,obj.proType=window.pageDataObj.proType,obj.proLine=window.pageDataObj.proLine,obj.proMode=window.pageDataObj.proMode),anonymous.call(template.utils,obj).toString()}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),tpl=__webpack_require__(109),config=__webpack_require__(6);config.pageDataObj;module.exports=backbone.View.extend({el:"#m-visiting",events:{},initialize:function(){_.isEmpty(this.model.get("list"))||this.render()},render:function(){var html,data=this.model.toJSON();html=tpl(data),this.$el.html(html).show()}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(fn){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=fn,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function(template){function anonymous($data,$filename){"use strict";var $utils=this,list=($utils.$helpers,$data.list),_=$data._,$escape=($data.item,$utils.$escape),$out="";return list&&list.length&&($out+='\r\n<h2>\r\n    <a class="m-more"></a>\r\n    <span class="icon2 visiting-icon"></span>\r\n    <span class="m-title">上门服务</span>\r\n</h2>\r\n<div class="modular-body">\r\n    <div class="flight-journeys">\r\n      ',_.each(list,function(item){$out+='\r\n        <div class="flight-panel">    \r\n         <div class="flight-journey">\r\n              <table>\r\n                 <tbody><tr>\r\n                    <td class="route">\r\n                        <div class="time">',$out+=$escape(item.serviceTime),$out+='使用</div>\r\n                    </td>\r\n                    <td class="arrow">\r\n                        <span class="f-ol">',$out+=$escape(item.address),$out+='</span>  \r\n                    </td>\r\n                    <td class="level">\r\n                        ',$out+=$escape(item.contactName),$out+='\r\n                    </td>\r\n                    <td class="count">\r\n                        <div class="childCount">',$out+=$escape(item.contactMobile),$out+="</div>\r\n                    </td>                    \r\n                 </tr>\r\n              </tbody></table>\r\n         </div>\r\n        </div>\r\n      "}),$out+="\r\n    </div>\r\n</div>\r\n"),new String($out)}return function(){var obj={};arguments[0]=arguments[0]||{};for(var key2 in arguments[0])obj[key2]=arguments[0][key2];for(var key in template.helpers)obj[key]=template.helpers[key];return window.pageDataObj&&(obj.bookStep=window.pageDataObj.bookStep,obj.pageType=window.pageDataObj.pageType,obj.proType=window.pageDataObj.proType,obj.proLine=window.pageDataObj.proLine,obj.proMode=window.pageDataObj.proMode),anonymous.call(template.utils,obj).toString()}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),tpl=__webpack_require__(111),config=__webpack_require__(6);config.pageDataObj;module.exports=backbone.View.extend({el:"#m-guarante",events:{},initialize:function(){_.isEmpty(this.model.get("list"))||this.render()},render:function(){var html,data=this.model.toJSON();html=tpl(data),this.$el.html(html).show()}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(fn){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=fn,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function(template){function anonymous($data,$filename){"use strict";var $utils=this,list=($utils.$helpers,$data.list),_=$data._,$escape=($data.item,$utils.$escape),replaceBr=$data.replaceBr,msgInfo=$data.msgInfo,$out="";return list&&list.length&&($out+='\r\n<h2>\r\n    <a class="m-more"></a>\r\n    <span class="icon2 guarante-icon"></span>\r\n    <span class="m-title">担保金办理</span>\r\n</h2>\r\n<div class="modular-body">\r\n    <div class="flight-journeys">\r\n      ',_.each(list,function(item){$out+='\r\n        <div class="flight-panel">\r\n         <div class="flight-journey">\r\n              <table>\r\n                 <tbody><tr>\r\n                    <td class="route">\r\n                        <div class="trip">',$out+=$escape(replaceBr(item.merId)),$out+='</div>\r\n                    </td>\r\n                    <td class="flight">\r\n                        <div class="number">\r\n                         <div class="comments jtxz-detail-hover">\r\n                            <em class="f-bb c9">\r\n                                ',$out+=$escape(item.status),$out+='\r\n                            </em>\r\n                            <div class="jtxz-detail2 T_width2 white">\r\n                                <p class="YD_mgb">',$out+=$escape(msgInfo),$out+='</p>\r\n                                <span class="icon up-icon"></span>\r\n                            </div>\r\n                        </div>\r\n                        </div>\r\n                    </td>\r\n                    <td class="stop">\r\n                        ',item.thisUrl?($out+='\r\n                          <a target="_blank" href="',$out+=$escape(item.thisUrl),$out+='"  m="点击_担保金模块_立即办理____办理担保金">直接办理</a>\r\n                        '):$out+="\r\n                          --\r\n                        ",$out+='\r\n                    </td>\r\n                    <td class="arrow">\r\n                    </td>\r\n                    <td class="stop">\r\n                        ',$out+=$escape(item.bankLogName),$out+=' <img src="',$out+=$escape(item.bankLogoUrl),$out+='">                   \r\n                    </td>\r\n                    <td class="level">\r\n                        ',$out+=$escape(item.freezeType),$out+='\r\n                    </td>\r\n                    <td class="count f60">\r\n                        ',item.money>0?($out+=" \r\n                           ￥",$out+=$escape(item.money),$out+="  \r\n                        "):$out+=" \r\n                            -- \r\n                        ",$out+="\r\n                    </td>                    \r\n                 </tr>\r\n              </tbody></table>\r\n         </div>\r\n        </div>\r\n      "}),$out+="\r\n    </div>\r\n</div>\r\n"),new String($out)}return function(){var obj={};arguments[0]=arguments[0]||{};for(var key2 in arguments[0])obj[key2]=arguments[0][key2];for(var key in template.helpers)obj[key]=template.helpers[key];return window.pageDataObj&&(obj.bookStep=window.pageDataObj.bookStep,obj.pageType=window.pageDataObj.pageType,obj.proType=window.pageDataObj.proType,obj.proLine=window.pageDataObj.proLine,obj.proMode=window.pageDataObj.proMode),anonymous.call(template.utils,obj).toString()}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),tpl=__webpack_require__(113),config=__webpack_require__(6),tools=__webpack_require__(13),EventBus=__webpack_require__(5),pageDataObj=config.pageDataObj;module.exports=backbone.View.extend({el:"#m-insurance",events:{"click .check-all":"checkAll"},initialize:function(){var self=this;_.isEmpty(this.model.get("list"))||this.render(),window.addCardUniqueId=function(obj){self.addCardUniqueIdAjax(obj)}},render:function(){var html,data=this.model.toJSON();html=tpl(data),this.$el.html(html).show()},checkAll:function(){var needHide=this.model.get("needHide");this.model.set("needHide",!needHide),this.render(),needHide||tools.scrollTo(this.$el)},addCardUniqueIdAjax:function(obj){var orderId=pageDataObj.baseInfo.orderId,cardUniqueId=obj.cardUniqueId;EventBus.trigger("cardUniqueIdAjax",{orderId:orderId,cardUniqueId:cardUniqueId})}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(fn){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=fn,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function(template){function anonymous($data,$filename){"use strict";var $utils=this,list=($utils.$helpers,$data.list),$escape=$utils.$escape,_=$data._,needHide=($data.item,$data.index,$data.resExtendInfo,$data.status,$data.needHide),$string=$utils.$string,expirationDate=$data.expirationDate,$out="";return list&&list.length&&($out+='\r\n<h2>\r\n    <a class="m-more"></a>\r\n    <span class="icon2 insurance-icon"></span>\r\n    <span class="m-title">保险信息',list.length&&($out+="（",$out+=$escape(list.length),$out+="）"),$out+='</span>\r\n</h2>\r\n<div class="modular-body">\r\n    <div class="flight-journeys">\r\n      ',_.each(list,function(item,index){var resExtendInfo=item.resExtendInfo,status=resExtendInfo&&resExtendInfo.status;$out+='\r\n        <div class="flight-panel ',needHide&&index>1&&($out+=" hide "),$out+='">\r\n         ',0!=status&&1!=status||($out+='\r\n         <div class="ticketing-info">\r\n              ',resExtendInfo.statusDesc&&($out+='\r\n                  <span class="status">',$out+=$escape(resExtendInfo.statusDesc),$out+="</span>\r\n              "),$out+="\r\n              ",resExtendInfo.time&&($out+='              \r\n                 <span class="time">',$out+=$escape(resExtendInfo.time),$out+="</span>\r\n              "),$out+="\r\n         </div>\r\n         "),$out+='      \r\n         <div class="flight-journey">\r\n              <table>\r\n                 <tbody><tr>\r\n                    <td class="route">\r\n                       <div class="trip">',$out+=$escape(item.effectiveDate),$out+=' 开始</div>                    \r\n                        <div class="time">',$out+=$escape(item.expirationDate),$out+=' 结束</div>\r\n                    </td>\r\n                    <td class="flight">\r\n                            <span class="an_mo"><em class="f-ol ',(item.description||item.bookNotice)&&($out+=" f-active-color detail-wrapper "),$out+='" m="点击_保险详情____查看保险详情">',$out+=$escape(item.resourceName),$out+='\r\n                            <div class="resources-detail">\r\n                                  <div class="close-detail"><i class="icon close-icon"></i></div>\r\n                                  <div class="resources">\r\n                                     ',item.description&&($out+='\r\n                                      <div class="resources-panel">\r\n                                          <span class="resources-panel-title"><i class="icon title-icon"></i>保险介绍</span>\r\n                                          <p class="c9">',$out+=$string(item.description),$out+="</p>\r\n                                      </div>\r\n                                     "),$out+=" \r\n                                     ",item.effectiveDate&&expirationDate&&($out+='\r\n                                      <div class="resources-panel">\r\n                                          <span class="resources-panel-title"><i class="icon title-icon"></i>保险期间</span>\r\n                                          <p class="c9">',$out+=$string(item.effectiveDate),$out+="至",$out+=$escape(item.expirationDate),$out+="</p>\r\n                                      </div>\r\n                                     "),$out+=' \r\n                                  </div>                                      \r\n                                  <span class="icon white-triangle"></span>\r\n                                  <div class="clear-float"></div>\r\n                            </div>\r\n                            </em>\r\n                            </span>\r\n                    </td>\r\n                    <td class="level">\r\n                        ',item.insurePerson&&($out+="\r\n                        被保人：",$out+=$escape(item.insurePerson),$out+="\r\n                        "),$out+='\r\n                    </td>\r\n                    <td class="count">\r\n                        ',item.buyNum&&($out+='\r\n                        <div class="childCount">',$out+=$escape(item.buyNum),$out+="份</div>\r\n                        "),$out+="\r\n                    </td>                    \r\n                 </tr>\r\n              </tbody></table>\r\n         </div>\r\n        </div>\r\n      "}),$out+="\r\n    </div>\r\n   ",!_.isEmpty(list)&&list.length>2&&($out+='\r\n   <div class="flight-tips">\r\n         <a class="check-all" href="javascript:;">\r\n         ',$out+=needHide?'\r\n            查看所有<i class="icon2 open-icon"></i>\r\n         ':'\r\n            收起<i class="icon2 pack-up-icon"></i>\r\n         ',$out+="\r\n         </a> \r\n   </div>\r\n   "),$out+="\r\n</div>\r\n"),new String($out)}return function(){var obj={};arguments[0]=arguments[0]||{};for(var key2 in arguments[0])obj[key2]=arguments[0][key2];for(var key in template.helpers)obj[key]=template.helpers[key];return window.pageDataObj&&(obj.bookStep=window.pageDataObj.bookStep,obj.pageType=window.pageDataObj.pageType,obj.proType=window.pageDataObj.proType,obj.proLine=window.pageDataObj.proLine,obj.proMode=window.pageDataObj.proMode),anonymous.call(template.utils,obj).toString()}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),tpl=__webpack_require__(115),config=__webpack_require__(6);config.pageDataObj;module.exports=backbone.View.extend({el:"#m-localEvents",events:{},initialize:function(){_.isEmpty(this.model.get("list"))||this.render()},render:function(){var html,data=this.model.toJSON();html=tpl(data),this.$el.html(html).show()}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(fn){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=fn,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function(template){function anonymous($data,$filename){"use strict";var $utils=this,list=($utils.$helpers,$data.list),_=$data._,$escape=($data.item,$data.index,$utils.$escape),$out=($data.busService,"");return list&&list.length&&($out+='\r\n<h2>\r\n    <a class="m-more"></a>\r\n    <span class="icon2 events-icon"></span>\r\n    <span class="m-title">当地参团</span>\r\n</h2>\r\n<div class="modular-body">\r\n    <div class="flight-journeys">\r\n      ',_.each(list,function(item,index){$out+='\r\n        <div class="flight-panel">\r\n            ',$out+=$escape(item.departsStartDate),$out+=" ",$out+=$escape(item.resourceName),$out+='\r\n        </div>\r\n        <div class="flight-panel">    \r\n         <div class="flight-journey">\r\n              <table>\r\n                 <tr>\r\n                    <td class="route">                 \r\n                        <div class="time">第',$out+=$escape(item.startTransportWay),$out+="-",$out+=$escape(item.backTransportWay),$out+='天</div>\r\n                    </td>\r\n                    <td class="flight">\r\n                      <em title="',$out+=$escape(item.resourceName),$out+='">',$out+=$escape(item.resourceName),$out+='</em>\r\n                    </td>\r\n                    <td class="count">\r\n                      ',item.adultCount>0&&($out+='\r\n                        <div class="adultCount">成人',$out+=$escape(item.adultCount),$out+="份</div>\r\n                      "),$out+="  \r\n                      ",item.childCount>0&&($out+='\r\n                        <div class="childCount">儿童',$out+=$escape(item.childCount),$out+="份</div>\r\n                      "),$out+=" \r\n                    </td>                    \r\n                 </tr>\r\n             </table>\r\n         </div>\r\n        </div>\r\n         ";var busService=item.busService;$out+="\r\n         ",_.isEmpty(busService)||($out+='\r\n          <div class="flight-panel bus-service">    \r\n                <table>\r\n                   <tr>\r\n                      <td class="route">                 \r\n                          <div class="time"><em class="c9">',$out+=$escape(busService.departureTime),$out+='</em> 发车</div>\r\n                      </td>\r\n                      <td class="flight">\r\n                          <div class="busService" title="发车地点/',$out+=$escape(busService.departurePlace),$out+="-返回地点/",$out+=$escape(busService.backPlace),$out+='">发车地点/',$out+=$escape(busService.departurePlace),$out+="-返回地点/",$out+=$escape(busService.backPlace),$out+='</div>\r\n                      </td>\r\n                      <td class="count">\r\n                        <em class="c9">备注：</em>准时上车\r\n                      </td>                    \r\n                   </tr>\r\n               </table>\r\n          </div>\r\n         '),$out+="\r\n      "}),$out+="\r\n    </div>\r\n</div>\r\n"),new String($out)}return function(){var obj={};arguments[0]=arguments[0]||{};for(var key2 in arguments[0])obj[key2]=arguments[0][key2];for(var key in template.helpers)obj[key]=template.helpers[key];return window.pageDataObj&&(obj.bookStep=window.pageDataObj.bookStep,obj.pageType=window.pageDataObj.pageType,obj.proType=window.pageDataObj.proType,obj.proLine=window.pageDataObj.proLine,obj.proMode=window.pageDataObj.proMode),anonymous.call(template.utils,obj).toString()}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),tpl=__webpack_require__(117),config=__webpack_require__(6);config.pageDataObj;module.exports=backbone.View.extend({el:"#m-cruise",events:{},initialize:function(){_.isEmpty(this.model.get("list"))||this.render()},render:function(){var html,data=this.model.toJSON();html=tpl(data),this.$el.html(html).show()}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(fn){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=fn,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function(template){function anonymous($data,$filename){"use strict";var $utils=this,list=($utils.$helpers,$data.list),_=$data._,$escape=($data.lists,$data.index,$data.base,$data.curise,$utils.$escape),$string=($data.item,$data.itemIndex,$data.resPicInfo,$data.picture,$data.hasChange,$utils.$string),$out=($data.attr,$data.attrs,"");return list&&list.length&&($out+='\r\n<h2>\r\n    <a class="m-more"></a>\r\n    <span class="icon2 cruise-icon"></span>\r\n    <span class="m-title">邮轮</span>\r\n</h2>\r\n<div class="modular-body">\r\n  ',_.each(list,function(lists,index){var base=lists.base,curise=lists.curise;$out+='\r\n    <div class="flight-panel-title">\r\n        ',$out+=$escape(base.cruiseName),$out+="  ",$out+=$escape(base.departName),$out+="上船 - ",$out+=$escape(base.arriveName),$out+='下船\r\n    </div>\r\n    <div class="flight-journeys">\r\n           ',_.each(curise,function(item,itemIndex){$out+='\r\n            <div class="flight-panel">    \r\n                 <div class="flight-journey">\r\n                      <table>\r\n                         <tr>\r\n                            <td class="route">\r\n                                <div class="trip">',$out+=$escape(base.beginDate),$out+=' 出发</div>\r\n                                <div class="time">',$out+=$escape(base.endDate),$out+=' 返回</div>\r\n                            </td>\r\n                            <td class="flight">\r\n                                    <span class="flightNo"><em title="',$out+=$escape(item.roomName),$out+='" class="hotelName detail-wrapper">',$out+=$escape(item.roomName),$out+=" 舱房",$out+=$escape(itemIndex+1),$out+='\r\n                                        <div class="resources-detail hotel-detail">\r\n                                           <div class="hotel-detail-title">\r\n                                               <header class="float-header">\r\n                                                   <h2 class="active">邮轮详情</h2>\r\n                                                   <span><i class="icon close-icon"></i></span>\r\n                                               </header>\r\n                                                 <div class="resources detail-main gallery2">\r\n                                                    ';var resPicInfo=item.resPicInfo||[];$out+='\r\n                                                     <div class="detail-img-list">\r\n                                                         <div class="big-img">\r\n                                                             ',_.each(resPicInfo,function(picture,index){$out+='\r\n                                                                <img src="',$out+=$escape(picture.path),$out+='" class="',0!=index&&($out+=" hide "),$out+='" alt="',$out+=$escape(picture.name),$out+='">\r\n                                                             '}),$out+="\r\n\r\n                                                             ",_.isEmpty(resPicInfo)&&($out+='\r\n                                                                 <img src="//img3.tuniucdn.com/img/201510131901/bookOnline/default.png">\r\n                                                             '),$out+='\r\n                                                         </div>\r\n                                                         <div class="small-img" data-count="4">\r\n                                                            ';var hasChange=!_.isEmpty(resPicInfo)&&resPicInfo.length>4;$out+="\r\n                                                           ",hasChange&&($out+='\r\n                                                           <a class="left">\r\n                                                               <img class="tn_logo" src="//img3.tuniucdn.com/img/201510131901/bookOnline/left.png" alt="">\r\n                                                               <img class="tn_logo hide" src="//img3.tuniucdn.com/img/201510131901/bookOnline/left-active.png" alt="前一张">\r\n                                                           </a>\r\n                                                           '),$out+='                                                          \r\n                                                             <div class="middle">\r\n                                                                 <ul>\r\n                                                                     ',_.each(resPicInfo,function(picture,index){$out+='\r\n                                                                     <li class="',0==index&&($out+=" active "),$out+='"><a href="javascript:;"><img src="',$out+=$escape(picture.path),$out+='" alt="',$out+=$escape(picture.name),$out+='"></a></li>\r\n                                                                     '}),$out+="\r\n\r\n                                                                     ",_.isEmpty(resPicInfo)&&($out+='\r\n                                                                     <li class="active"><a href="javascript:;"><img src="//img3.tuniucdn.com/img/201510131901/bookOnline/default_small2.jpg" alt=""></a></li>\r\n                                                                     '),$out+="\r\n                                                                 </ul>\r\n                                                             </div>\r\n                                                               ",hasChange&&($out+='\r\n                                                               <a class="right">\r\n                                                                   <img class="tn_logo hide" src="//img3.tuniucdn.com/img/201510131901/bookOnline/right.png" alt="">\r\n                                                                   <img class="tn_logo" src="//img3.tuniucdn.com/img/201510131901/bookOnline/right-active.png" alt="后一张">\r\n                                                               </a>\r\n                                                               '),$out+='                                                            \r\n                                                         </div>\r\n                                                     </div>\r\n                                                     <div class="detail-explain">\r\n                                                         <p class="detail-explain-name">',$out+=$escape(item.roomName),$out+=" 舱房",$out+=$escape(itemIndex+1),$out+="</p>\r\n                                                            ",item.facilityDesc&&($out+='\r\n                                                             <div class="address">\r\n                                                                 <p class="area-title">设施：</p>\r\n                                                                 <p class="area-content">',$out+=$string(item.facilityDesc),$out+="</p>\r\n                                                             </div>\r\n                                                            "),$out+=" \r\n                                                            ",item.roomDesc&&($out+='\r\n                                                             <div class="address">\r\n                                                                 <p class="area-title">描述：</p>\r\n                                                                 <p class="area-content">',$out+=$string(item.roomDesc),$out+="</p>\r\n                                                             </div>\r\n                                                            "),$out+=' \r\n                                                     </div>\r\n                                                     <div class="clear-float"></div>\r\n                                                 </div>                                        \r\n                                                 <span class="icon white-triangle"></span>\r\n                                             </div>\r\n                                         </div>\r\n                                       </em>\r\n                                    </span>\r\n                            </td>\r\n                            <td class="level">\r\n                                <div class="comments jtxz-detail-hover">\r\n                                    ';var attr=item.attr;$out+='\r\n                                    <em class="c9">\r\n                                       ',_.each(attr,function(attrs,index){$out+="\r\n                                          ",$out+=$escape(attrs.detail),index<attr.length-1&&($out+=" / "),$out+="\r\n                                       "}),$out+="\r\n                                    </em>\r\n                                    ",attr&&attr.length&&($out+='\r\n                                    <div class="jtxz-detail2 T_width2 white">\r\n                                        <p class="YD_title">',$out+=$escape(item.roomName),$out+='</p>\r\n                                        <div class="ticketNoList">\r\n                                             <ul>\r\n                                                 ',_.each(attr,function(attrs){$out+='\r\n                                                    <li><em class="attr-title">',$out+=$escape(attrs.title),$out+='：</em><em class="detail" title="',$out+=$escape(attrs.detail),$out+='">',$out+=$escape(attrs.detail),$out+="</em></li>\r\n                                                 "}),$out+='\r\n                                             </ul>\r\n                                             <div class="clear-float"></div>\r\n                                        </div>\r\n                                        \r\n                                        <span class="icon up-icon"></span>\r\n                                    </div>\r\n                                    '),$out+='\r\n                                </div>\r\n                            </td>\r\n                            <td class="count">\r\n                                <div class="childCount">\r\n                                     <div class="count-left">\r\n                                          入住人：\r\n                                     </div>\r\n                                     <div class="count-right" title="',$out+=$escape(item.touristDesc),$out+='">\r\n                                          ',$out+=$escape(item.touristDesc),$out+='\r\n                                     </div>\r\n                                     <div class="clear-float"></div>\r\n                                </div>\r\n                            </td>                    \r\n                         </tr>\r\n                     </table>\r\n                 </div>\r\n            </div>\r\n        '}),$out+="\r\n    </div>        \r\n  "}),$out+="\r\n</div>\r\n"),new String($out)}return function(){var obj={};arguments[0]=arguments[0]||{};for(var key2 in arguments[0])obj[key2]=arguments[0][key2];for(var key in template.helpers)obj[key]=template.helpers[key];return window.pageDataObj&&(obj.bookStep=window.pageDataObj.bookStep,obj.pageType=window.pageDataObj.pageType,obj.proType=window.pageDataObj.proType,obj.proLine=window.pageDataObj.proLine,obj.proMode=window.pageDataObj.proMode),anonymous.call(template.utils,obj).toString()}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),tpl=__webpack_require__(119),config=__webpack_require__(6);config.pageDataObj;module.exports=backbone.View.extend({el:"#m-travelPlan",events:{},initialize:function(){_.isEmpty(this.model.get("list"))||this.render()},render:function(){var html,data=this.model.toJSON();html=tpl(data),this.$el.html(html).show()}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(fn){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=fn,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function(template){function anonymous($data,$filename){"use strict";var $utils=this,_=($utils.$helpers,$data._),list=$data.list,$escape=$utils.$escape,$out="";return _.isEmpty(list)||($out+='\r\n<h2>\r\n    <a class="m-more"></a>\r\n    <span class="icon2 trave-icon"></span>\r\n    <span class="m-title">出游计划</span>\r\n</h2>\r\n<div class="modular-body">\r\n    <div class="flight-journeys">\r\n        <div class="flight-panel">    \r\n              <ul>\r\n                ',list.tourProperty&&($out+='\r\n                    <li>出游性质：<em class="c9">',$out+=$escape(list.tourProperty),$out+="</em></li>\r\n                "),$out+="\r\n                ",list.desCity&&($out+='\r\n                    <li>目的地：<em class="c9">',$out+=$escape(list.desCity),$out+="</em></li>\r\n                "),$out+="\r\n                ",list.tourBudget&&($out+='\r\n                    <li>人均预算：<em class="f60">',$out+=$escape(list.tourBudget),$out+='</em><em class="c9">',$out+=$escape(list.tourBudgetUnit),$out+="</em></li>\r\n                "),$out+="\r\n                ",list.dinnerStandard&&($out+='\r\n                    <li>用餐标准：<em class="f60 dinnerStandard f-ol">',$out+=$escape(list.dinnerStandard),$out+='</em><em class="c9">',$out+=$escape(list.dinnerStandardUnit),$out+="</em></li>\r\n                "),$out+="\r\n                ",list.stayDemand&&($out+='\r\n                    <li>住宿标准：<em class="c9">',$out+=$escape(list.stayDemand),$out+="</em></li>\r\n                "),$out+="\r\n                ",list.trafficType&&($out+='\r\n                    <li>交通方式：<em class="c9">',$out+=$escape(list.trafficType),$out+="</em></li>\r\n                "),$out+="\r\n              </ul>\r\n        </div>\r\n    </div>\r\n    ",list.description&&($out+=' \r\n    <div class="flight-tips">\r\n         <div class="other-title">\r\n             其他需求:\r\n         </div>\r\n         <div class="other-text">\r\n             ',$out+=$escape(list.description),$out+="\r\n         </div>\r\n   </div>  \r\n   "),$out+="  \r\n</div>\r\n"),new String($out)}return function(){var obj={};arguments[0]=arguments[0]||{};for(var key2 in arguments[0])obj[key2]=arguments[0][key2];for(var key in template.helpers)obj[key]=template.helpers[key];return window.pageDataObj&&(obj.bookStep=window.pageDataObj.bookStep,obj.pageType=window.pageDataObj.pageType,obj.proType=window.pageDataObj.proType,obj.proLine=window.pageDataObj.proLine,obj.proMode=window.pageDataObj.proMode),anonymous.call(template.utils,obj).toString()}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),tpl=__webpack_require__(121),config=__webpack_require__(6);config.pageDataObj;module.exports=backbone.View.extend({el:"#m-useTheCar",events:{"click .check-all":"checkAll"},initialize:function(){_.isEmpty(this.model.get("list"))||this.render()},render:function(){var html,data=this.model.toJSON();html=tpl(data),this.$el.html(html).show()},checkAll:function(){var needHide=this.model.get("needHide");this.model.set("needHide",!needHide),this.render()}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(fn){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=fn,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function(template){function anonymous($data,$filename){"use strict";var $utils=this,list=($utils.$helpers,$data.list),_=$data._,$escape=($data.item,$data.index,$data.resExtendInfo,$data.status,$utils.$escape),journeyDays=$data.journeyDays,driverInfo=$data.driverInfo,$out="";return list&&list.length&&($out+='\r\n<h2>\r\n    <a class="m-more"></a>\r\n    <span class="icon2 useCar-icon"></span>\r\n    <span class="m-title">用车</span>\r\n</h2>\r\n<div class="modular-body">\r\n    <div class="flight-journeys">\r\n      ',_.each(list,function(item,index){var resExtendInfo=item.resExtendInfo,status=resExtendInfo&&resExtendInfo.status;$out+='\r\n        <div class="flight-panel">\r\n         ',0!=status&&1!=status||($out+='\r\n         <div class="ticketing-info">\r\n              ',resExtendInfo.statusDesc&&($out+='\r\n                  <span class="status">',$out+=$escape(resExtendInfo.statusDesc),$out+="</span>\r\n              "),$out+="\r\n              ",resExtendInfo.time&&($out+='              \r\n                 <span class="time">',$out+=$escape(resExtendInfo.time),$out+="</span>\r\n              "),$out+="\r\n         </div>\r\n         "),$out+='      \r\n         <div class="flight-journey">\r\n              <table>\r\n                 <tbody><tr>\r\n                    <td class="route">                 \r\n                        <div class="time">',$out+=$escape(item.useDate),$out+=' \r\n                             <span class="f-ol departure" title="',$out+=$escape(item.departCityName),$out+='">',$out+=$escape(item.departCityName),$out+='</span> \r\n                             <span class="f-ol arrivals" title="',$out+=$escape(item.destCityName),$out+='">-',$out+=$escape(item.destCityName),$out+='</span>\r\n                        </div>\r\n                    </td>\r\n                    <td class="flight">\r\n                            <span><em class="f-ol ',(item.departCityName||item.destCityName||journeyDays)&&($out+=" f-active-color detail-wrapper "),$out+='">\r\n                            ',$out+=$escape(item.departCityName),$out+="出发",$out+=$escape(item.journeyDays),$out+="日",$out+=$escape(item.seatAmount),$out+='座\r\n                            <div class="resources-detail">\r\n                                  <div class="close-detail"><i class="icon close-icon"></i></div>\r\n                                  <div class="resources">\r\n                                     ',item.departCityName&&($out+='\r\n                                      <div class="resources-panel">\r\n                                          <span class="resources-panel-title"><i class="icon title-icon"></i>出发城市</span>\r\n                                          <p class="c9">',$out+=$escape(item.departCityName),$out+="</p>\r\n                                      </div>\r\n                                     "),$out+=" \r\n                                     ",item.destCityName&&($out+='\r\n                                      <div class="resources-panel">\r\n                                          <span class="resources-panel-title"><i class="icon title-icon"></i>目的地</span>\r\n                                          <p class="c9">',$out+=$escape(item.destCityName),$out+="</p>\r\n                                      </div>\r\n                                     "),$out+=" \r\n                                     ",item.journeyDays&&($out+='\r\n                                      <div class="resources-panel">\r\n                                          <span class="resources-panel-title"><i class="icon title-icon"></i>行程天数</span>\r\n                                          <p class="c9">',$out+=$escape(item.journeyDays),$out+="天</p>\r\n                                      </div>\r\n                                     "),$out+=' \r\n                                  </div>                                      \r\n                                  <span class="icon white-triangle"></span>\r\n                                  <div class="clear-float"></div>\r\n                            </div>\r\n                            </em>\r\n                            </span>\r\n                    </td>\r\n                    <td class="stop">\r\n                        <div class="when f-ol" title="',item.seatAmount&&($out+=$escape(item.seatAmount),$out+="座/"),$out+=$escape(item.carTypeDesc),$out+='">\r\n                              ',item.seatAmount&&($out+=" \r\n                                 ",$out+=$escape(item.seatAmount),$out+="座/ \r\n                              "),$out+=" \r\n                              ",$out+=$escape(item.carTypeDesc),$out+='\r\n                        </div>\r\n                    </td>\r\n                    <td class="level">\r\n                    ',_.isEmpty(driverInfo)||_.isEmpty(driverInfo[index])||($out+='\r\n                    <div class="comments ',_.isEmpty(driverInfo[index])||($out+=" jtxz-detail-hover "),$out+=' ">\r\n                            <em class="c9">用车信息</em>\r\n                            <div class="jtxz-detail2 T_width2 white editPadding">\r\n                                  <div class="panel-detail">\r\n                                       <div class="panel-title">',$out+=$escape(driverInfo[index].vehicleName),$out+='</div>\r\n                                       <div class="panel-body">\r\n                                          ',driverInfo[index].plateNumber&&($out+="\r\n                                            <p>车牌号：",$out+=$escape(driverInfo[index].plateNumber),$out+="</p>\r\n                                          "),$out+="  \r\n                                          ",(driverInfo[index].driver||driverInfo[index].contact)&&($out+="\r\n                                            <p>司机信息：",$out+=$escape(driverInfo[index].driver),$out+=" ",$out+=$escape(driverInfo[index].contact),$out+="</p>\r\n                                          "),$out+="   \r\n                                          ",driverInfo[index].remark&&($out+="\r\n                                            <p>备注：",$out+=$escape(driverInfo[index].remark),$out+="</p>\r\n                                          "),$out+='   \r\n                                       </div>\r\n                                  </div>                              \r\n                                <span class="icon up-icon"></span>\r\n                            </div>\r\n                        </div>\r\n                      '),$out+='  \r\n                    </td>\r\n                    <td class="count">\r\n                       ',item.number&&($out+='\r\n                        <div class="childCount">',$out+=$escape(item.number),$out+="辆</div>\r\n                       "),$out+=" \r\n                    </td>                       \r\n                 \r\n                 </tr>\r\n              </tbody></table>\r\n         </div>\r\n        </div>\r\n      "}),$out+="\r\n    </div>\r\n</div>\r\n"),new String($out)}return function(){var obj={};arguments[0]=arguments[0]||{};for(var key2 in arguments[0])obj[key2]=arguments[0][key2];for(var key in template.helpers)obj[key]=template.helpers[key];return window.pageDataObj&&(obj.bookStep=window.pageDataObj.bookStep,obj.pageType=window.pageDataObj.pageType,obj.proType=window.pageDataObj.proType,obj.proLine=window.pageDataObj.proLine,obj.proMode=window.pageDataObj.proMode),anonymous.call(template.utils,obj).toString()}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),tpl=__webpack_require__(123),config=__webpack_require__(6);config.pageDataObj;module.exports=backbone.View.extend({el:"#m-accommodation",events:{"click .check-all":"checkAll"},initialize:function(){_.isEmpty(this.model.get("list"))||this.render()},render:function(){var html,data=this.model.toJSON();html=tpl(data),this.$el.html(html).show()},checkAll:function(){var needHide=this.model.get("needHide");this.model.set("needHide",!needHide),this.render()}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(fn){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=fn,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function(template){function anonymous($data,$filename){"use strict";var $utils=this,list=($utils.$helpers,$data.list),_=$data._,$escape=($data.item,$data.index,$utils.$escape),$string=$utils.$string,$out="";return list&&list.length&&($out+='\r\n<h2>\r\n    <a class="m-more"></a>\r\n    <span class="icon2 accommodation-icon"></span>\r\n    <span class="m-title">住宿</span>\r\n</h2>\r\n<div class="modular-body">\r\n    <div class="flight-journeys">\r\n      ',_.each(list,function(item,index){$out+='\r\n        <div class="flight-panel">   \r\n         <div class="flight-journey">\r\n              <table>\r\n                 <tbody><tr>\r\n                    <td class="route">\r\n                       <div class="trip">',$out+=$escape(item.startDate),$out+=' 入住</div>                    \r\n                        <div class="time">',$out+=$escape(item.endDate),$out+=' 退房</div>\r\n                    </td>\r\n                    <td class="flight">\r\n                            <span class="an_mo"><em class="f-ol ',(item.address||item.accommodationDesc)&&($out+=" f-active-color detail-wrapper "),$out+='" title="',$out+=$escape(item.hotelName),$out+='" m="点击_住宿模块_住宿详情____查看住宿详情">',$out+=$escape(item.hotelName),$out+='\r\n                            <div class="resources-detail">\r\n                                  <div class="close-detail"><i class="icon close-icon"></i></div>\r\n                                  <div class="resources"> \r\n                                     ',item.address&&($out+='\r\n                                      <div class="resources-panel">\r\n                                          <span class="resources-panel-title"><i class="icon title-icon"></i>酒店地址</span>\r\n                                          <p class="c9">',$out+=$escape(item.address),$out+="</p>\r\n                                      </div>\r\n                                     "),$out+=" \r\n                                     ",item.accommodationDesc&&($out+='\r\n                                      <div class="resources-panel">\r\n                                          <span class="resources-panel-title"><i class="icon title-icon"></i>描述</span>\r\n                                          <p class="c9">',$out+=$string(item.accommodationDesc),$out+="</p>\r\n                                      </div>\r\n                                     "),$out+=' \r\n                                  </div>                                      \r\n                                  <span class="icon white-triangle"></span>\r\n                                  <div class="clear-float"></div>\r\n                            </div>\r\n                            </em>\r\n                            </span>\r\n                    </td>\r\n                    <td class="stop">\r\n                        <div class="when">',$out+=$escape(item.roomTypeDesc),$out+='</div>\r\n                    </td>\r\n                    <td class="level">\r\n                        <div class="mealsInfo">',$out+=$escape(item.mealsInfo),$out+='</div>\r\n                    </td>\r\n                    <td class="count">\r\n                        <div class="childCount">',$out+=$escape(item.houseNumber),$out+="间</div>\r\n                    </td>                    \r\n                 </tr>\r\n              </tbody></table>\r\n         </div>\r\n        </div>\r\n      "}),$out+="\r\n    </div>\r\n</div>\r\n"),new String($out)}return function(){var obj={};arguments[0]=arguments[0]||{};for(var key2 in arguments[0])obj[key2]=arguments[0][key2];for(var key in template.helpers)obj[key]=template.helpers[key];return window.pageDataObj&&(obj.bookStep=window.pageDataObj.bookStep,obj.pageType=window.pageDataObj.pageType,obj.proType=window.pageDataObj.proType,obj.proLine=window.pageDataObj.proLine,obj.proMode=window.pageDataObj.proMode),anonymous.call(template.utils,obj).toString()}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),tpl=__webpack_require__(125),config=__webpack_require__(6);config.pageDataObj;module.exports=backbone.View.extend({el:"#m-haveDinner",events:{"click .check-all":"checkAll"},initialize:function(){_.isEmpty(this.model.get("list"))||this.render()},render:function(){var html,data=this.model.toJSON();html=tpl(data),this.$el.html(html).show()},checkAll:function(){var needHide=this.model.get("needHide");this.model.set("needHide",!needHide),this.render()}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(fn){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=fn,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function(template){function anonymous($data,$filename){"use strict";var $utils=this,list=($utils.$helpers,$data.list),_=$data._,$escape=($data.item,$data.index,$utils.$escape),$string=$utils.$string,$out="";return list&&list.length&&($out+='\r\n<h2>\r\n    <a class="m-more"></a>\r\n    <span class="icon2 haveDinner-icon"></span>\r\n    <span class="m-title">用餐</span>\r\n</h2>\r\n<div class="modular-body">\r\n    <div class="flight-journeys">\r\n      ',_.each(list,function(item,index){$out+='\r\n        <div class="flight-panel">  \r\n         <div class="flight-journey">\r\n              <table>\r\n                 <tbody><tr>\r\n                    <td class="route">                \r\n                        <div class="time">',$out+=$escape(item.useDate),$out+='使用</div>\r\n                    </td>\r\n                    <td class="flight">\r\n                            <span class="an_mo"><em class="f-ol ',(item.restaurantName||item.restaurantContact||item.restaurantDesc)&&($out+=" f-active-color detail-wrapper "),$out+='" m="点击_住宿模块_住宿详情____查看住宿详情" >',$out+=$escape(item.resourceName),$out+='\r\n                            <div class="resources-detail">\r\n                                  <div class="close-detail"><i class="icon close-icon"></i></div>\r\n                                  <div class="resources">\r\n                                     ',item.restaurantName&&($out+='\r\n                                      <div class="resources-panel">\r\n                                          <span class="resources-panel-title"><i class="icon title-icon"></i>餐厅名称</span>\r\n                                          <p class="c9">',$out+=$escape(item.restaurantName),$out+="</p>\r\n                                      </div>\r\n                                     "),$out+=" \r\n                                     ",item.restaurantContact&&($out+='\r\n                                      <div class="resources-panel">\r\n                                          <span class="resources-panel-title"><i class="icon title-icon"></i>餐厅电话</span>\r\n                                          <p class="c9">',$out+=$escape(item.restaurantContact),$out+="</p>\r\n                                      </div>\r\n                                     "),$out+=" \r\n                                     ",item.restaurantDesc&&($out+='\r\n                                      <div class="resources-panel">\r\n                                          <span class="resources-panel-title"><i class="icon title-icon"></i>描述</span>\r\n                                          <p class="c9">',$out+=$string(item.restaurantDesc),$out+="</p>\r\n                                      </div>\r\n                                     "),$out+=' \r\n                                  </div>                                      \r\n                                  <span class="icon white-triangle"></span>\r\n                                  <div class="clear-float"></div>\r\n                            </div>\r\n                            </em>\r\n                            </span>\r\n                    </td>\r\n                    <td class="stop">\r\n                        <div class="when" title="',$out+=$escape(item.restaurantName),$out+='">',$out+=$escape(item.restaurantName),$out+='</div>\r\n                    </td>\r\n                    <td class="level">\r\n                        <div class="mealsInfo" title="',$out+=$escape(item.cateType),$out+='">',$out+=$escape(item.cateType),$out+='</div>\r\n                    </td>                    \r\n                    <td class="count">\r\n                        <div class="childCount">',$out+=$escape(item.number),$out+="份</div>\r\n                    </td>                    \r\n                 </tr>\r\n              </tbody></table>\r\n         </div>\r\n        </div>\r\n      "}),$out+="\r\n    </div>\r\n</div>\r\n"),new String($out)}return function(){var obj={};arguments[0]=arguments[0]||{};for(var key2 in arguments[0])obj[key2]=arguments[0][key2];for(var key in template.helpers)obj[key]=template.helpers[key];return window.pageDataObj&&(obj.bookStep=window.pageDataObj.bookStep,obj.pageType=window.pageDataObj.pageType,obj.proType=window.pageDataObj.proType,obj.proLine=window.pageDataObj.proLine,obj.proMode=window.pageDataObj.proMode),anonymous.call(template.utils,obj).toString()}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),tpl=__webpack_require__(127),progress_tpl=__webpack_require__(128),logistics_tpl=__webpack_require__(129),Layer=__webpack_require__(16),config=__webpack_require__(6),tools=__webpack_require__(13),pageDataObj=config.pageDataObj,receipt=__webpack_require__(130),address=__webpack_require__(133);module.exports=backbone.View.extend({el:"#m-receipt",events:{"click .check-all":"checkAll","click .check_invoice":"showInvoiceProgress"},initialize:function(){var self=this;this.render(),this.listenTo(this.model,"needRender",this.render),$(document).on("click",".invoice .refund",function(e){self.toogleInvoice(e)}),$(document).on("click",".invoice .click_check",function(e){self.showLogistics(e)}),$(document).on("click",".receipt_address_list",function(e){receipt.showListActive(e)}),$(document).on("click",".invoiceList_insuranceList",function(e){receipt.showInsuranceList(e)}),$(document).on("click",".insuranceReceipt_close",function(e){$(".insuranceReceipt").hide(),$("#bg").hide()}),$(document).on("click",".delivery_address_list",function(e){address.showListActive(e)}),$(document).on("click",".receipt_address_list_bar .get_more_list span",function(e){receipt.toggleShow(e)}),$(document).on("click",".delivery_address_list_bar .get_more_list span",function(e){address.toggleShow(e)}),$(document).on("click",".new_add_save",function(e){receipt.saveNewAddress(e)}),$(document).on("click",".deli_new_add_save",function(e){address.saveNewAddress(e)}),$(document).on("click",".storeEditData",function(e){receipt.storeEditedData(e)}),$(document).on("click",".deliStoreEditData",function(e){address.storeEditedData(e)}),$(document).on("click",".new_add_cancel",function(e){receipt.cancelNewAddress(e)}),$(document).on("click",".deli_new_add_cancel",function(e){address.cancelNewAddress(e)}),$(document).on("click",".changeWidth",function(e){e.stopPropagation(),$(e.currentTarget).parents(".receipt_address_list").length?receipt.setDefaultAddress(e):address.setDefaultAddress(e)}),$(document).on("click",".deleteOrCancel .edit",function(e){receipt.showEdit(e),e.stopPropagation()}),$(document).on("click",".deleteOrCancel .delete",function(e){receipt.showDelete(e),e.stopPropagation()}),$(document).on("click",".deleteOrCancel .deli-edit",function(e){address.showEdit(e),e.stopPropagation()}),$(document).on("click",".deleteOrCancel .deli-delete",function(e){address.showDelete(e),e.stopPropagation()})},render:function(){var html,data=this.model.toJSON();html=tpl(data),this.$el.html(html).show()},checkAll:function(){var needHide=this.model.get("needHide");this.model.set("needHide",!needHide),this.render(),needHide||tools.scrollTo(this.$el)},showInvoiceProgress:function(e){var data=this.model.toJSON();this.showProgressPanel(data.invoiceProgress,data.activeIndex)},showProgressPanel:function(data,index){var html=progress_tpl({invoiceProgress:data,activeIndex:index});window.invoiceProgressLayerIndex=Layer.open({type:1,title:!1,closeBtn:1,area:["auto","auto"],content:html}),$(".invoice .invo_con .refund").eq(0).trigger("click"),$(".invoice .invo_con .refund").eq(index).trigger("click")},toogleInvoice:function(e){var target=$(e.target),p_index=target.attr("data-receiptindex"),isActive=target.hasClass("check_active");isActive||($(".refund_con").hide(),target.siblings().removeClass("check_active"),target.addClass("check_active"),$(".all_refund").hide(),$(".invo_t").hide(),$(".receipt_"+p_index).show(),this.model.set("activeIndex",+p_index,{slient:!0}))},showLogistics:function(e){var target=$(e.target),index=target.parents(".invoice").find(".check_active").index(),data=this.model.formatLogistics(pageDataObj.invoiceProgress,index);Layer.close(window.invoiceProgressLayerIndex),this.showLogisticsPanel(data,!0)},showLogisticsPanel:function(data,flag){var self=this,html=logistics_tpl({data:data});window.invoiceLogisticsLayerIndex=Layer.open({type:1,title:!1,closeBtn:1,area:["auto","auto"],content:html,end:function(){flag?self.showInvoiceProgress():""}}),$(".logistics .logi_con").TScroll()}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(fn){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=fn,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function(template){function anonymous($data,$filename){"use strict";var $utils=this,list=($utils.$helpers,$data.list),$escape=$utils.$escape,_=$data._,needHide=($data.item,$data.index,$data.needHide),addInvoice=($data.downUrl,$data.addInvoice),isMenpiao=$data.isMenpiao,viewInvoiceProgress=$data.viewInvoiceProgress,$out="";return $out+='<h2>\r\n    <span class="icon2 receipt-icon"></span>\r\n    <span class="m-title">发票信息',list.length&&($out+="（",$out+=$escape(list.length),$out+="）"),$out+='</span>\r\n</h2>\r\n<div class="modular-body">\r\n    <div class="flight-journeys">\r\n     ',list&&list.length&&($out+="\r\n      ",_.each(list,function(item,index){if($out+='\r\n        <div class="flight-panel ',needHide&&index>1&&($out+=" hide "),$out+='">\r\n         <div class="flight-journey">\r\n              <table>\r\n                 <tr>\r\n                    <td class="route">',$out+=$escape(item.content),$out+='</td>\r\n                    <td class="flight">\r\n                        <div class="number fol">\r\n                            ',$out+=$escape(item.title),$out+='\r\n                        </div>\r\n                    </td>\r\n                    <td class="load-invoice">\r\n                        ',2==item.invoiceMethod&&(item.invoicePdfUrl||item.insuranceList)){$out+="\r\n                                ";var downUrl="";$out+="\r\n                                ",item.insuranceList?item.insuranceList&&1==item.insuranceList.length&&(downUrl=item.insuranceList[0].insuranceUrl):downUrl=item.invoicePdfUrl,$out+="\r\n                                <a ",downUrl&&($out+=' href="',$out+=$escape(downUrl),$out+='" '),$out+=' id="',$out+=$escape(item.id),$out+='" class="',downUrl||($out+=" invoiceList_insuranceList "),$out+=' load-hover">下载电子发票<i class="icon2 load-icon"></i></a>\r\n\r\n                        '}else $out+="\r\n                                --\r\n                        ";$out+='\r\n                    </td>\r\n                    <td class="stop">\r\n                       <div class="comments  jtxz-detail-hover  ">\r\n                            <em class="f-bb c9">\r\n                                ',$out+=$escape(item.taxpayerIdentity),$out+='     \r\n                            </em>\r\n                            <div class="jtxz-detail2 T_width2 white editPadding">\r\n                                  <div class="panel-detail">\r\n                                       <div class="panel-title">纳税人识别号</div>\r\n                                  </div>                              \r\n                                <span class="icon up-icon"></span>\r\n                            </div>\r\n                        </div>\r\n                    </td>\r\n                    <td class="level">\r\n                        ',$out+=$escape(item.invoiceContent),$out+='\r\n                    </td>\r\n                    <td class="count f60">\r\n                        ',$out+=$escape(item.amount),$out+="\r\n                    </td>                    \r\n                 </tr>\r\n            </table>\r\n         </div>\r\n        </div>\r\n      "}),$out+="\r\n    "),$out+="  \r\n    </div>\r\n   ",!_.isEmpty(list)&&list.length>2&&($out+='\r\n   <div class="flight-tips">\r\n         <a class="check-all" href="javascript:;">\r\n         ',$out+=needHide?'\r\n            查看所有<i class="icon2 open-icon"></i>\r\n         ':'\r\n            收起<i class="icon2 pack-up-icon"></i>\r\n         ',$out+="\r\n         </a> \r\n   </div>\r\n   "),$out+='\r\n    <div class="flight-tips tips-title">\r\n        <div class="zhu">注：</div>\r\n        <div class="text">\r\n            <p class="text-tip">1.出游前填写的发票将于出游归来后5个工作日内开具，请注意查收。</p>\r\n            <p class="text-tip">2.旅游费用和保险费用的发票分开，添加旅游费用发票自动生成保险费用发票。旅游费发票按照您的指定抬头开具；保险发票应监管要求抬头与保单中的投保人保持一致，无法指定。</p>\r\n            <p class="text-tip">3.发票开具有效期为出游归来后两个月内，如有疑问请电讯。</p> \r\n            <p class="text-tip">4.发票开具后，若办理退款，需先退还原发票，并保持发票兑奖联完好（如有兑奖联）。</p> \r\n        </div> \r\n   </div>\r\n  ',(addInvoice&&!isMenpiao||viewInvoiceProgress)&&($out+=' \r\n  <div class="flight-tips an_mo">\r\n        ',addInvoice&&!isMenpiao?$out+='\r\n         <a href="javascript:;" class="btn addInvoice" m="点击_发票模块_添加发票____添加发票信息">添加发票</a> \r\n        ':viewInvoiceProgress&&($out+=' \r\n         <a href="javascript:;" class="btn check_invoice" m="点击_发票模块_查看发票____查看发票进度">查看发票进度</a> \r\n        '),$out+=' \r\n         <div class="clear-float"></div>\r\n   </div>\r\n   '),$out+="\r\n</div>\r\n",new String($out)}return function(){var obj={};arguments[0]=arguments[0]||{};for(var key2 in arguments[0])obj[key2]=arguments[0][key2];for(var key in template.helpers)obj[key]=template.helpers[key];return window.pageDataObj&&(obj.bookStep=window.pageDataObj.bookStep,obj.pageType=window.pageDataObj.pageType,obj.proType=window.pageDataObj.proType,obj.proLine=window.pageDataObj.proLine,obj.proMode=window.pageDataObj.proMode),anonymous.call(template.utils,obj).toString()}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(fn){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=fn,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function(template){function anonymous($data,$filename){"use strict";var $utils=this,invoiceProgress=($utils.$helpers,$data.invoiceProgress),t=$data.t,activeIndex=$data.activeIndex,$escape=$utils.$escape,tl=$data.tl,$out="";if(invoiceProgress&&invoiceProgress.length){$out+='\r\n  <div class="invoice">\r\n   <div class="invo_title">\r\n        <span class="state">发票进度</span>\r\n   </div>\r\n   <div class="invo_con">\r\n   <div>\r\n   ';for(var t=0;t<invoiceProgress.length;t++)$out+='\r\n      <span class="refund ',t==activeIndex&&($out+=" check_active "),$out+=" receipt_",$out+=$escape(activeIndex),$out+='" data-receiptindex="',$out+=$escape(t),$out+='" >发票',$out+=$escape(t+1),$out+="</span>\r\n   ";$out+="\r\n   </div>\r\n\r\n   ";for(var t=0;t<invoiceProgress.length;t++){$out+='\r\n   <div class="render_invo">       \r\n           <div class="',0!=t&&($out+=" hide "),$out+=" receipt_",$out+=$escape(t),$out+=' refund_con">\r\n            <div class="invo_info">\r\n                 <p>发票内容： ',$out+=$escape(invoiceProgress[t].content),$out+="</p>\r\n                 <p>发票金额： ",$out+=$escape(invoiceProgress[t].amount),$out+="</p>\r\n                 <p>发票抬头： ",$out+=$escape(invoiceProgress[t].title),$out+="</p>\r\n                 ",invoiceProgress[t].taxpayerIdentity&&($out+="\r\n                  <p>纳税人识别号：",$out+=$escape(invoiceProgress[t].taxpayerIdentity),$out+="</p>\r\n                 "),$out+="\r\n                ",2==invoiceProgress[t].invoiceMethod?($out+="\r\n                    <p>联系方式：",$out+=$escape(invoiceProgress[t].contacterTel),$out+="</p>\r\n                    <p>电子邮箱：",$out+=$escape(invoiceProgress[t].contactEmail),$out+="</p>\r\n                "):($out+="\r\n                    <p>配送方式：",$out+=$escape(1==invoiceProgress[t].expressMethod?"快递":"门市自取"),$out+="</p>\r\n                    ",1==invoiceProgress[t].expressMethod?($out+="\r\n                      <p>收&nbsp;&nbsp;件&nbsp;人：",$out+=$escape(invoiceProgress[t].contacter),$out+="</p>\r\n                      <p>配送地址：",$out+=$escape(invoiceProgress[t].address),$out+="</p>\r\n                    "):($out+="\r\n                      <p>自取门市：",$out+=$escape(invoiceProgress[t].retailSalesName),$out+="</p>\r\n                    "),$out+="\r\n                    \r\n                "),$out+="\r\n           </div>\r\n         ";for(var tl=0;tl<invoiceProgress[t].timeLine.length;tl++)$out+="\r\n           ",tl>0&&($out+='\r\n              <p class="state_line ',1==tl&&($out+=" state_finish_line "),$out+='"></p>\r\n           '),$out+='\r\n            \r\n            <div class="time_line_row">\r\n              <span class="status_name ',0==tl&&($out+=" state_finish_title "),$out+='">',$out+=$escape(invoiceProgress[t].timeLine[tl].nodeName),$out+='</span>\r\n              <span class="status_node ',0==tl&&($out+=" state_finish "),$out+='"></span> \r\n              <span class="status_desc ',0==tl&&($out+=" state_finish_title "),$out+='">\r\n               <span>',$out+=$escape(invoiceProgress[t].timeLine[tl].nodeStateDesc),$out+="</span>\r\n               ",3==invoiceProgress[t].timeLine[tl].nodeFlag&&($out+='\r\n               <span class="check_logi">\r\n               ',invoiceProgress[t].timeLine[tl].logisticCode&&($out+='\r\n                     <a href="javascript:void(0)" class="click_check">点击查看物流</a>\r\n               '),$out+="\r\n               </span>\r\n               "),$out+="\r\n               <span>",$out+=$escape(invoiceProgress[t].timeLine[tl].nodeDate),$out+="</span>\r\n              </span>\r\n            </div>\r\n\t           \r\n         ";$out+="\r\n           </div>\r\n       </div>\r\n       "}$out+=" \r\n   </div>\r\n  </div> \r\n"}return new String($out)}return function(){var obj={};arguments[0]=arguments[0]||{};for(var key2 in arguments[0])obj[key2]=arguments[0][key2];for(var key in template.helpers)obj[key]=template.helpers[key];return window.pageDataObj&&(obj.bookStep=window.pageDataObj.bookStep,obj.pageType=window.pageDataObj.pageType,obj.proType=window.pageDataObj.proType,obj.proLine=window.pageDataObj.proLine,obj.proMode=window.pageDataObj.proMode),anonymous.call(template.utils,obj).toString()}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(fn){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=fn,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function(template){function anonymous($data,$filename){"use strict";var $utils=this,data=($utils.$helpers,$data.data),$escape=$utils.$escape,express=$data.express,_=$data._,$out=($data.item,$data.index,"");$out+='<div class="logistics">\r\n   <div class="logi_title">\r\n        <span class="state">物流信息</span>\r\n      ',data.expressStatus&&($out+='\r\n           <span class="all_refund  receipt_0">&nbsp;&nbsp;物流状态：<em>',$out+=$escape(data.expressStatus),$out+="</em></span>    \r\n      "),$out+=' \r\n   </div>\r\n   <div class="logi_con">\r\n          ';var express=data.express;return $out+="\r\n\r\n          ",_.isEmpty(express)?$out+='\r\n\r\n               <div class="render_logi no_render">       \r\n                   <div class=" receipt_0 refund_con no_logi">\r\n                       <p class="no_img"><img src="//ssl3.tuniucdn.com/img/201604072050/bookOnline/order_detail/no_logi.png"/></p>\r\n                       <p class="no_text">暂无物流信息</p>\r\n                   </div>\r\n               </div>\r\n\r\n          ':($out+="\r\n\r\n               ",_.each(express,function(item,index){$out+='\r\n\r\n               <div class="render_logi">       \r\n                   <div class=" receipt_0 refund_con">\r\n                    \r\n                    <div class="time_line_row">\r\n                      ',0==index?($out+='\r\n                       <p class="status_node ',$out+=$escape(item.className),$out+='_line default_cir"></p>\r\n                      '):($out+='\r\n                       <p class="status_node ',$out+=$escape(item.className),$out+='_line"></p>\r\n                      '),$out+="\r\n                      ",index+1<express.length&&($out+='\r\n                         <p class="state_line ',$out+=$escape(item.className),$out+='_line"></p>\r\n                      '),$out+='\r\n\r\n                      <span class="status_name state_base_title ',index+1==express.length&&($out+=" default_marg"),$out+='">\r\n                              <em class="accept"><nobr title="',$out+=$escape(item.acceptStation),$out+='">',$out+=$escape(item.acceptStation),$out+='</nobr></em>\r\n                              <em class="acceptTime">',$out+=$escape(item.acceptTime),$out+="</em>\r\n                      </span>\r\n                    </div>    \r\n                   </div>\r\n               </div>\r\n               "}),$out+="\r\n          "),$out+="\r\n   </div>\r\n</div>  ",new String($out)}return function(){var obj={};arguments[0]=arguments[0]||{};for(var key2 in arguments[0])obj[key2]=arguments[0][key2];for(var key in template.helpers)obj[key]=template.helpers[key];return window.pageDataObj&&(obj.bookStep=window.pageDataObj.bookStep,obj.pageType=window.pageDataObj.pageType,obj.proType=window.pageDataObj.proType,obj.proLine=window.pageDataObj.proLine,obj.proMode=window.pageDataObj.proMode),anonymous.call(template.utils,obj).toString()}})},function(module,exports,__webpack_require__){var Layer=(__webpack_require__(75),__webpack_require__(16)),addInvoice_tpl=(__webpack_require__(51),__webpack_require__(131)),insuranceReceipt=__webpack_require__(132),tools=__webpack_require__(13),Receipt={init:function(){this.tScrollObj=null,this.countPrice=pageDataObj.invoice.baseInfo.invoiceTotalPrice,this.countNum=pageDataObj.baseInfo.adultCount,this.nowNum=0,this.isNew=0,this.receiptEntityType=2,this.commonHeight=132,this.receiptTitleList=pageDataObj.receiptLists||[],Receipt.rePosition(),Receipt.bindEvents(),Receipt.initPage()},initPage:function(){1==this.countNum},showPage:function(){var self=this;$(".addInvoice").on("click",function(){var allInsurancePrice=self.calculationPrice(pageDataObj.insurance.list),contactInfo=75==pageDataObj.baseInfo.orderType?pageDataObj.ticketerList.list[0]:pageDataObj.contacterList[0],data={payAmount:pageDataObj.invoice.baseInfo.payAmount,allInsurancePrice:allInsurancePrice,invoiceListInfo:pageDataObj.invoiceListInfo,signStatus:pageDataObj.baseInfo.signStatus,contactInfo:contactInfo,invoiceTotalPrice:pageDataObj.invoice.baseInfo.invoiceTotalPrice,deliveryAddress:pageDataObj.deliveryAddress||[],custLevel:pageDataObj.baseInfo.custLevel},html=addInvoice_tpl(data);$(".receipt_dialog").html(html).show(),2==pageDataObj.invoiceListInfo.invoice_method[0].paramValue&&$(".receipt_info.receipt_fee").hide(),Receipt.tScrollObj=$(".receipt_con").TScroll(),self.countNum&&Receipt.addReceipt(!1);var list=$("#J_receipt_dialog .showOverflow").find(".unified"),max=parseInt(132);_.each(list,function(item,index){var hei=$(item).height();max<hei&&(max=hei)}),$(".receipt_tourist_list_bar .error_show").children().hasClass("hide")||($(".receipt_tourist_list_bar .error_show").children().addClass("hide"),$(".receipt_tourist_list_bar .error_show").css("height","10px")),Receipt.commonHeight=max,$("#J_receipt_dialog").show(),$("#J_receipt_dialog").find(".error_show").css("height","0"),$("#J_receipt_dialog").find(".must_header").addClass("hide"),$("#J_receipt_dialog").find(".must_price").addClass("hide"),$("#addInvoice-bg").show(),Receipt.showCenter($("#J_receipt_dialog"))})},calculationPrice:function(data){var allPrice=0;return _.isEmpty(data)||_.each(data,function(item){allPrice+=item.price}),allPrice},showListActive:function(e){var target=$(e.currentTarget),siblings=target.siblings();target.hasClass("list_active")?target.removeClass("list_active"):(target.addClass("list_active"),siblings.removeClass("list_active"),target.find(".deleteOrCancel").addClass("hide"),target.find(".changeWidth").hide())},getReceiptTitleList:function(key){var receiptTitleList=this.receiptTitleList,returnList=[];return key?_.each(receiptTitleList,function(oneReceiptTitleList){oneReceiptTitleList&&oneReceiptTitleList.invoice_title&&oneReceiptTitleList.invoice_title.indexOf(key)!=-1&&returnList.push(oneReceiptTitleList.invoice_title)}):_.each(receiptTitleList,function(oneReceiptTitleList){oneReceiptTitleList&&oneReceiptTitleList.invoice_title&&returnList.push(oneReceiptTitleList.invoice_title)}),returnList},renderRecieiptTitleList:function(e){var receiptTitle=$(e.target).val(),receiptTitleList=this.getReceiptTitleList(receiptTitle),html="";if(receiptTitleList&&receiptTitleList.length)for(var l=0;l<receiptTitleList.length;l++)html+='<li class="J_receipt_title_list_li" data-title="'+receiptTitleList[l]+'">'+receiptTitleList[l]+"</li>";$(e.target).parents(".receipt_tourist").find(".J_receipt_title_list").show().html(html)},toggleShow:function(e){var target=$(e.currentTarget),showOverflow=target.parent(".get_more_list").prev(".showOverflow").children(".receipt_address_list:gt(2)"),receipt_add_list=target.parent(".get_more_list").prev(".showOverflow").children(".receipt_add_list");target.hasClass("canShouMore")?(target.removeClass("canShouMore"),showOverflow.removeClass("hide"),target.children("em").text("收起"),receipt_add_list.removeClass("hide"),target.parent(".get_more_list").prev(".showOverflow").children(".receipt_add_list").css("margin-top","30px"),$("#J_receipt_dialog").height()>850&&$(".receipt_con").css({height:"714px"}),Receipt.showCenter($("#J_receipt_dialog"))):(target.addClass("canShouMore"),showOverflow.addClass("hide"),target.children("em").text("更多地址"),receipt_add_list.addClass("hide"),target.parent(".get_more_list").prev(".showOverflow").children(".receipt_add_list").css("margin-top","0"),$(".receipt_con").css({height:"auto"}),Receipt.showCenter($("#J_receipt_dialog")))},saveNewAddress:function(e){var delivery_list,target=$(e.currentTarget),self=this,index=0,allData=Receipt.getAllInputData(target),address_list=target.parents(".receipt_new_address_bar").siblings(".showOverflow").find(".receipt_address_list").last(),continueFlag=Receipt.checkWhetherEmpty();continueFlag&&Receipt.SaveUserAddress({receiver_name:allData.name,province:allData.provinceCode,city:allData.cityCode,address:allData.address,tel_num:allData.phone}).done(function(res){if(res&&res.success){target.parents(".receipt_new_address_bar").siblings(".showOverflow").find(".receipt_address_list").removeClass("list_active"),$(".delivery_new_address_bar").removeClass("list_active");var html="<div class='receipt_address_list controlHei unified new_add list_active' ><p class='default_add'></p><p class='con_name'><span> "+allData.name+"</span></p><p class='addRess' data-name='"+allData.name+"' data-province='"+allData.province+"' data-cityCode='"+allData.cityCode+"' data-provinceCode='"+allData.provinceCode+"' data-phone='"+allData.phone+"' data-address='"+allData.address+"' data-city='"+allData.city+"'><span><em>"+allData.province+allData.city+allData.address+"("+allData.phone+")</em></span></p><p class='active_png'><span class='active_span'><span class='deleteOrCancel hide'><em class='edit'>编辑</em><em class='delete'>删除</em></span></span></p>";if(address_list&&address_list.length?address_list.after(html):target.parents(".receipt_new_address_bar").siblings(".showOverflow").find(".receipt_add_list").before(html),$(".delivery_add_list").length){delivery_list=$(".delivery_new_address_bar").siblings(".showOverflow").find(".delivery_address_list").last();var htmlDelivery="<div class='delivery_address_list controlHei unified new_add' ><p class='default_add'></p><p class='con_name'><span> "+allData.name+"</span></p><p class='addRess' data-name='"+allData.name+"' data-province='"+allData.province+"' data-cityCode='"+allData.cityCode+"' data-provinceCode='"+allData.provinceCode+"' data-phone='"+allData.phone+"' data-address='"+allData.address+"' data-city='"+allData.city+"'><span><em>"+allData.province+allData.city+allData.address+"("+allData.phone+")</em></span></p><p class='active_png'><span class='active_span'><span class='deleteOrCancel hide'><em class='deli-edit'>编辑</em><em class='deli-delete'>删除</em></span></span></p>";delivery_list&&delivery_list.length?delivery_list.after(htmlDelivery):target.parents(".delivery_new_address_bar").siblings(".showOverflow").find(".delivery_add_list").before(html)}pageDataObj.deliveryAddress.push({addressId:res.addressId,user_name:allData.name,tel:allData.phone,province:allData.province,city:allData.city,address:allData.city}),index++;var addLength=target.parents(".receipt_new_address_bar").siblings(".showOverflow").find(".controlHei").length;addLength>3&&($(".receipt_con").find(".get_more_list").removeClass("hide"),$(".receipt_con .get_more_list").find(".canShouMore").removeClass("hide")),addLength>=2&&$(".receipt_add_list").css("margin-top","30px"),target.parents(".receipt_new_address_bar").siblings(".showOverflow").find(".list_active").css("height",this.commonHeight+"px"),Receipt.destroyAllData(),self.tScrollObj.scrollY($(".receipt_address_list:last")),$(".showOverflow").find(".controlHei").length>3&&target.parents(".receipt_new_address_bar").prev(".get_more_list").remove("hide"),Receipt.showCenter($("#J_receipt_dialog"))}else Receipt.operationAddressError("新增地址")}).fail(function(res){Receipt.operationAddressError("新增地址")})},showAlert:function(data){$.layer({type:1,guide:2,title:"提示",closeBtn:[0,!0],btns:1,btn:["确定"],area:["350px","150px"],border:[6,1,"#c4c4c5"],page:{html:'<p class="m10" style="line-height:35px;width: 350px;text-align: center;"> '+data+"</p>"}})},deleteUserAddress:function(data){var data={addressId:data};return $.ajax({url:"tn?r=user/user/deleteUserAddress",data:data,type:"POST",dataType:"json",timeout:3e5})},setDefaultAddressAjax:function(data){return $.ajax({url:"tn?r=user/user/setDefaultAddress",data:data,type:"POST",dataType:"json",timeout:3e5})},updateUserAddress:function(data){return $.ajax({url:"tn?r=user/user/updateUserAddress",data:data,type:"POST",dataType:"json",timeout:3e5})},operationAddressError:function(data){$.layer({type:1,guide:2,title:"提示",closeBtn:[0,!0],btns:1,btn:["确定"],area:["350px","auto"],border:[6,1,"#c4c4c5"],page:{html:'<p class="m10" style="padding-bottom:50px;line-height:22px;margin-left: 120px;"> '+data+"失败，请重试。</p>"}})},SaveUserAddress:function(data){return $.ajax({url:"tn?r=user/user/SaveUserAddress",data:data,type:"POST",dataType:"json",timeout:3e5})},cancelNewAddress:function(e){$(e.currentTarget);Receipt.destroyAllData(),$(".receipt_con").css({height:"auto"}),Receipt.showCenter($("#J_receipt_dialog"))},listShowHover:function(e){var target=$(e.currentTarget);target.addClass("hoverStyle"),target.hasClass("list_active")?("默认地址"!=$.trim(target.children(".default_add").text())&&(target.children(".default_add").find("span").hasClass("alreadySet")||(target.children(".default_add").html("<span data-default='1'>设定默认地址</span>"),target.siblings("").find(".default_add span").attr("data-default","0"),target.children(".default_add").find("span").addClass("changeWidth"))),target.find(".deleteOrCancel").removeClass("hide")):(target.find(".default_add span").hasClass("alreadySet")||1==target.find(".default_add span").attr("data-default")||"默认地址"==$.trim(target.children(".default_add").text())||(target.children(".default_add").html("<span data-default='1'>设定默认地址</span>"),target.siblings("").find(".default_add span").attr("data-default","0"),target.children(".default_add").find("span").addClass("changeWidth")),target.find(".deleteOrCancel").removeClass("hide"))},showDelete:function(e){var target=$(e.currentTarget),index=target.parents(".receipt_address_list").index();pageDataObj.deliveryAddress;Receipt.deleteUserAddress(pageDataObj.deliveryAddress[index].address_id).done(function(res){res&&res.success?(pageDataObj.deliveryAddress.splice(index,1),null==pageDataObj.deliveryAddress&&(pageDataObj.deliveryAddress=[]),target.parents(".showOverflow").next(".get_more_list").children("span").hasClass("canShouMore")&&target.parents(".showOverflow").find(".receipt_address_list").eq(index+2).removeClass("hide"),pageDataObj.deliveryAddress&&pageDataObj.deliveryAddress.length<=2&&(target.parents(".showOverflow").next(".get_more_list").addClass("hide"),$("#J_receipt_dialog .showOverflow").find(".unified").removeClass("hide")),$(".showOverflow").find(".controlHei").length<=3&&(target.parents(".showOverflow").next(".get_more_list").addClass("hide"),$(".showOverflow").find(".receipt_add_list").removeClass("hide")),$("#J_receipt_new_address_bar").show()&&($("#J_receipt_new_address_bar").hide(),Receipt.destroyAllData()),target.parents(".receipt_address_list").remove(),$(".delivery_address_list").length&&$(".delivery_address_list").eq(index).remove(),Receipt.showCenter($("#J_receipt_dialog"))):Receipt.operationAddressError("删除地址")}).fail(function(){Receipt.operationAddressError("删除地址")})},showEdit:function(e){var itemValue,target=$(e.currentTarget),add_index=(pageDataObj.deliveryAddress,target.parents(".receipt_address_list").index()),addRess=target.parents(".active_png").prev(".addRess"),existData={name:addRess.attr("data-name"),tel:addRess.attr("data-phone")||addRess.attr("data-tel"),province:addRess.attr("data-province"),city:addRess.attr("data-city"),address:addRess.attr("data-address")};$("#J_new_address_name").val(existData.name),$("#J_new_address_phone").val(existData.tel),$("#J_new_address_address").val(existData.address).css("color","#666666"),_.each($(".receipt_con #J_new_address_province option"),function(item,index){$(item).text()==existData.province&&$(item).attr("selected","selected").css("color","#666666")}),Receipt.rerenderCity(),_.each($("#J_new_address_city option"),function(item,index){itemValue=$(item).text().indexOf("(")>0?$(item).text().split("(")[0]:$(item).text(),itemValue==existData.city&&$(item).attr("selected","selected").css("color","#666666")}),target.parents(".showOverflow").siblings(".receipt_new_address_bar").find(".new_add_save").removeClass("new_add_save").addClass("storeEditData"),$(".storeEditData").attr("data-index",add_index),target.parents(".showOverflow").siblings(".receipt_new_address_bar").find(".add_new_address").html("编辑新地址"),target.parents(".showOverflow").siblings(".receipt_new_address_bar").show(),$("#J_receipt_dialog").height()>850&&$(".receipt_con").css({height:"714px"}),this.tScrollObj.scrollY($("#J_receipt_new_address_bar")),Receipt.showCenter($("#J_receipt_dialog"))},setDefaultAddress:function(e){var target=$(e.currentTarget),setIndex=target.parents(".receipt_address_list").index();Receipt.setDefaultAddressAjax({addressId:pageDataObj.deliveryAddress[setIndex].address_id}).done(function(res){res&&res.success?(target.text("默认地址"),target.addClass("alreadySet").removeClass("changeWidth").attr("data-default","1"),target.parents(".receipt_address_list").siblings(".receipt_address_list").find(".default_add").text("")):(Receipt.operationAddressError("设置默认地址"),tools.safeEventTrack("点击_发票模块_发票子页面_配送地址___配送地址设为默认"))}).fail(function(){Receipt.operationAddressError("设置默认地址")})},storeEditedData:function(e){var deliveryWantEditAdd,target=$(e.currentTarget),editIndex=+target.attr("data-index"),allData=Receipt.getAllInputData(target),addRess=pageDataObj.deliveryAddress,userWantEditAdd=target.parents(".receipt_new_address_bar").siblings(".showOverflow").find(".receipt_address_list").eq(editIndex),isRighr=Receipt.checkWhetherEmpty();if(isRighr){if(!Receipt.checkPhone($("#J_new_address_phone").val()))return Receipt.showErr("format"),!1;var o=allData.province+allData.city+allData.address+"("+allData.phone+")";Receipt.updateUserAddress({addressId:addRess[editIndex].address_id,isDefault:addRess[editIndex].isDefault,receiver_name:allData.name,province:allData.provinceCode,city:allData.cityCode,address:allData.address,tel_num:allData.phone}).done(function(res){res&&res.success?(userWantEditAdd.find(".con_name span").text(allData.name),userWantEditAdd.find(".addRess span").text(o),userWantEditAdd.find(".addRess span").attr("title",o),userWantEditAdd.find(".addRess").attr({"data-name":allData.name,"data-province":allData.province,"data-city":allData.city,"data-address":allData.address,"data-tel":allData.phone}),$(".delivery_address_list").length&&(deliveryWantEditAdd=$(".delivery_new_address_bar").siblings(".showOverflow").find(".delivery_address_list").eq(editIndex),deliveryWantEditAdd.find(".con_name span").text(allData.name),deliveryWantEditAdd.find(".addRess span").text(o),deliveryWantEditAdd.find(".addRess span").attr("title",o),deliveryWantEditAdd.find(".addRess").attr({"data-name":allData.name,"data-province":allData.province,"data-city":allData.city,"data-address":allData.address,"data-tel":allData.phone})),target.removeClass("storeEditData").addClass("new_add_save"),Receipt.destroyAllData(),$(".receipt_con").css({height:"auto"}),Receipt.showCenter($("#J_receipt_dialog"))):(target.removeClass("storeEditData").addClass("new_add_save"),Receipt.destroyAllData(),$(".receipt_con").css({height:"auto"}),Receipt.showCenter($("#J_receipt_dialog")),Receipt.operationAddressError("保存地址"))}).fail(function(res){target.removeClass("storeEditData").addClass("new_add_save"),Receipt.destroyAllData(),$(".receipt_con").css({height:"auto"}),Receipt.showCenter($("#J_receipt_dialog")),Receipt.operationAddressError("保存地址")})}},listHideHover:function(e){var target=$(e.currentTarget);target.removeClass("hoverStyle"),target.hasClass("list_active")?("默认地址"!=$.trim(target.children(".default_add").text())&&(target.children(".default_add").find("span").hasClass("alreadySet")||target.children(".default_add").html("")),target.find(".deleteOrCancel").addClass("hide")):(target.find(".default_add span").hasClass("alreadySet")||"默认地址"==$.trim(target.children(".default_add").text())||target.children(".default_add").html(""),target.find(".deleteOrCancel").addClass("hide"))},getAllInputData:function(target){var cityName;target.parent(".over_btn").prev("table");return cityName=$("#J_new_address_city option:selected").text().indexOf("(")>0?$("#J_new_address_city option:selected").text().split("(")[0]:$("#J_new_address_city option:selected").text(),{name:$("#J_new_address_name").val(),phone:$("#J_new_address_phone").val(),province:$(".receipt_con #J_new_address_province option:selected").text(),provinceCode:$(".receipt_con #J_new_address_province option:selected").val().split("_")[1],city:cityName,cityCode:$("#J_new_address_city option:selected").val().split("_")[1],address:$("#J_new_address_address").val()}},rePosition:function(){var windowWidth=$(window).width(),windowHeight=$(window).height(),thisWidth=$("#J_receipt_dialog").width()+20,thisHeight=$("#J_receipt_dialog").height()+20,top=(windowHeight-thisHeight)/2,left=(windowWidth-thisWidth)/2;"block"==$("#J_receipt_dialog").attr("disblock")&&($("#J_receipt_dialog").css("left",left),$("#J_receipt_dialog").css("top",top>0?top:0))},bindEvents:function(){$(document).on("click",".dialog_close",function(){Receipt.nowNum=0,$("#J_receipt_dialog").hide(),$("#addInvoice-bg").hide()}),$(document).on("click",".receipt_btn_cancel",function(){Receipt.nowNum=0,$("#J_receipt_dialog").hide(),$("#addInvoice-bg").hide()}),$(window).resize(function(){Receipt.rePosition()}),$(document).on("click","#J_new_address",function(){Receipt.newAddress(!0)}),$(document).on("click",".receipt_btn_save",function(){Receipt.nowNum=0,Receipt.save(),$("#J_receipt_dialog").hide(),$("#addInvoice-bg").hide()}),$(document).on("blur",".receipt_tourist_name",function(e){var target=$(e.target),value=target.val().replace(/\s+/g,"");value||Receipt.showErr("mustTitle")}),$(document).on("focus",".receipt_tourist_name",function(e){Receipt.hideErr("mustTitle"),Receipt.hideErr("mustAmount")}),$(document).on("click",".J_receipt_title_list_li",function(e){var title=$(e.target).attr("data-title");$(e.target).parents(".receipt_tourist").find(".receipt_tourist_name").val(title),$(".J_receipt_title_list").hide(),title?Receipt.hideErr("mustTitle"):Receipt.showErr("mustTitle")}),$(document).on("focus input",".receipt_tourist_name",function(e){Receipt.renderRecieiptTitleList(e)}),$(document).on("change","#receipt_selectMethod",function(e){var targetVaule=$(e.target).val(),targetType=$("#receipt_selectType").find("option:selected").val();_.each($("#receipt_selectType").find("option"),function(item,index){item.remove()});var html="",selected="";_.each(pageDataObj.invoiceListInfo.guest_invoice_type,function(item,index){2==targetVaule&&1==item.paramValue||(targetType==item.paramValue&&(selected="selected"),html+='<option value="'+item.paramValue+'"'+selected+">"+item.paramDesc+"</option>",selected="")}),$("#receipt_selectType").append(html),2==targetVaule?($(".receipt_info.receipt_adder").hide(),$(".receipt_con .receipt_contact").show(),$(".receipt_con .receipt_fee").hide()):($(".receipt_info.receipt_adder").show(),$(".receipt_con .receipt_contact").hide(),$(".receipt_con .receipt_fee").show()),$(".receipt_VAT_special").hide(),$(".receipt_con .receipt_info_box").show(),Receipt.showCenter($("#J_receipt_dialog"))}),$(document).on("change","#receipt_selectContent",function(e){var targetMethod=($(e.target).val(),$("#receipt_selectContent").find("option:selected").val());_.each($("#receipt_selectContent").find("option"),function(item,index){item.remove()});var html="",selected="";_.each(pageDataObj.invoiceListInfo.invoice_contents,function(item,index){targetMethod==item.paramValue&&(selected="selected"),html+='<option value="'+item.paramValue+'"'+selected+">"+item.paramDesc+"</option>",selected=""}),$("#receipt_selectContent").append(html),Receipt.showCenter($("#J_receipt_dialog"))}),$(document).on("change","#receipt_selectType",function(e){var targetVaule=$(e.target).val(),targetMethod=$("#receipt_selectMethod").find("option:selected").val();_.each($("#receipt_selectMethod").find("option"),function(item,index){item.remove()});var html="",selected="";_.each(pageDataObj.invoiceListInfo.invoice_method,function(item,index){targetMethod==item.paramValue&&(selected="selected"),html+='<option value="'+item.paramValue+'"'+selected+">"+item.paramDesc+"</option>",selected=""}),$("#receipt_selectMethod").append(html),1==targetVaule?($(".receipt_con .receipt_VAT_special").show(),$(".receipt_con .receipt_info_box").hide()):($(".receipt_con .receipt_VAT_special").hide(),$(".receipt_con .receipt_info_box").show()),Receipt.showCenter($("#J_receipt_dialog"))}),$(document).on("focus",".receipt_tourist_price",function(e){var target=$(e.target),index=target.parent(".receipt_tourist").index()-target.parent(".receipt_tourist").index()/2,alsoMoner=Receipt.getAllMoney(index),value=parseFloat(target.val().replace(/[^?\d.]/g,""))||0,canInputMoney=Receipt.countPrice-alsoMoner;Receipt.hideErr("mustAmount"),Receipt.hideErr("mustTitle"),value||(canInputMoney>=0?target.attr("placeholder","剩余￥"+canInputMoney):target.attr("placeholder","剩余￥"+Receipt.countPrice))}),$(document).on("blur",".receipt_tourist_price",function(e){var target=$(e.target),index=target.parent(".receipt_tourist").index()-target.parent(".receipt_tourist").index()/2,value=parseFloat(target.val().replace(/[^?\d.]/g,""))||0,alsoMoner=Receipt.getAllMoney(index),allAddi=target.parent(".receipt_tourist").next(".error_show");target.attr("placeholder",""),alsoMoner+value>Receipt.countPrice&&0!=value?(target.parent(".receipt_tourist").css("margin-bottom","0"),target.parent(".receipt_tourist").next(".error_show").css("height","37px"),$(".err_mustAmount").html("<img src='//ssl3.tuniucdn.com/img/201604072050/bookOnline/order_detail/error.png'>输入金额超过可开票余额")):target.parent(".receipt_tourist").next(".error_show").children(".must_price").text("发票金额必填").addClass("hide"),target.val()||Receipt.showErr("mustAmount"),allAddi.children(".must_price").hasClass("hide")&&allAddi.children(".must_header").hasClass("hide")}),$(document).on("blur",".receipt_identification_number",function(e){Receipt.checkIdNumber(e)}),$(document).on("blur",".receipt_register_address",function(e){Receipt.checkRaddress(e)}),$(document).on("blur",".receipt_register_phone",function(e){Receipt.checkRphone(e)}),$(document).on("blur",".receipt_register_bank",function(e){Receipt.checkRbank(e)}),$(document).on("blur",".receipt_bank_account",function(e){Receipt.checkBAccount(e)}),$(document).on("blur",".receipt_contact_phone",function(e){Receipt.checkContactPhone(e)}),$(document).on("focus",".receipt_identification_number",function(e){Receipt.hideErr("emptyCheckId"),Receipt.hideErr("checkIdFailed")}),$(document).on("focus",".receipt_register_address",function(e){Receipt.hideErr("registeraddress")}),$(document).on("focus",".receipt_register_phone",function(e){Receipt.hideErr("registerPhone"),Receipt.hideErr("formatPhone")}),$(document).on("focus",".receipt_register_bank",function(e){Receipt.hideErr("registerBank")}),$(document).on("focus",".receipt_bank_account",function(e){Receipt.hideErr("bankAccount"),Receipt.hideErr("formatBAccount")}),$(document).on("focus",".receipt_contact_phone",function(e){Receipt.hideErr("contactPhone"),Receipt.hideErr("format")}),$(document).on("focus",".receipt_con #J_new_address_province",function(e){}),$(".receipt_info_tips .tip_icon img").hover(function(){Receipt.showHoverText()}),$(document).on("mouseenter mouseleave",".receipt_address_list",function(e){"mouseenter"==e.type?(Receipt.listShowHover(e),e.stopPropagation()):"mouseleave"==e.type&&(Receipt.listHideHover(e),e.stopPropagation())}),$(document).on("click",function(e){return!$(e.target).parents().is(".J_receipt_title_list")&&(!$(e.target).hasClass("receipt_tourist_name")&&void $(".J_receipt_title_list").hide())}),$(document).on("change",".receipt_address_list li input",function(e){$("#J_receipt_new_address_bar").hide(),$("#J_new_address span").removeClass("triangle_up").addClass("triangle_down"),Receipt.isNew=0}),$(document).on("click",".receipt_del",function(e){Receipt.delReceipt($(this))}),Receipt.addressBlurEvent(),Receipt.addressFocusEvent(),$(document).on("click",".receipt_type_btn",function(e){$(e.target).hasClass("J_receipt_type_personal")?($(".J_receipt_type_personal").addClass("activity"),$(".J_receipt_type_company").removeClass("activity"),$(".receipt_info_bar").hide(),Receipt.receiptEntityType=1):($(".J_receipt_type_company").addClass("activity"),$(".J_receipt_type_personal").removeClass("activity"),$(".receipt_info_bar").show(),Receipt.receiptEntityType=2)}),$(document).on("click",".receipt_add",function(e){Receipt.addReceipt(!0,e)})},checkIdentificationId:function(target){var result=!1;return/^[A-Za-z0-9]{15,20}$/.test(target)&&(result=!0),result},checkIdNumber:function(e){var targetValue=$(e.target).val(),checkIdentificationId=this.checkIdentificationId(targetValue);return targetValue?!!checkIdentificationId||(Receipt.showErr("checkIdFailed"),!1):(Receipt.showErr("emptyCheckId"),!1)},showErrForOne:function(key,dom){var err={name:"收件人必填",province:"请选择省市",city:"请选择省市",address:"详细地址必填",postCode:"收件人邮编不能为空",areaCode:"区号不能为空",tel:"电话号码和手机必须填写一项",phone:"手机号必填",format:"请输入正确的手机号码",receiptTitle:"请输入发票抬头",checkIdFailed:"请填写正确的纳税人识别号",emptyCheckId:"请输入纳税人识别号",registeraddress:"请输入注册地址",registerPhone:"请输入注册电话",registerBank:"请输入开户银行",bankAccount:"请输入银行账户",contactPhone:"请输入手机号码",formatBAccount:"请输入正确的银行账户",mustTitle:"发票抬头必填",mustAmount:"发票金额必填",formatPhone:"请输入正确的注册电话"};$(dom).find(".err_"+key).html("<img src='//ssl3.tuniucdn.com/img/201604072050/bookOnline/order_detail/error.png'>"+err[key])},hideErrForOne:function(key,dom){$(dom).find(".err_"+key).text("")},checkRaddress:function(e){var targetValue=$(e.target).val();return!!targetValue||(Receipt.showErr("registeraddress"),!1)},checkRphone:function(e){var targetValue=$(e.target).val(),pattern=/^[0-9]+$/;return targetValue?!!pattern.test(targetValue)||(Receipt.showErr("formatPhone"),!1):(Receipt.showErr("registerPhone"),!1)},checkRbank:function(e){var targetValue=$(e.target).val();return!!targetValue||(Receipt.showErr("registerBank"),!1)},checkBAccount:function(e){var targetValue=$(e.target).val(),pattern=/^[0-9]+$/;return targetValue?!!pattern.test(targetValue)||(Receipt.showErr("formatBAccount"),!1):(Receipt.showErr("bankAccount"),!1)},checkContactPhone:function(e){var targetValue=$(e.target).val();return targetValue?!!Receipt.checkPhone(targetValue)||(Receipt.showErr("format"),!1):(Receipt.showErr("contactPhone"),!1)},addressBlurEvent:function(){$(document).on("blur","#J_new_address_name",function(){$(this).val()||Receipt.showErr("name")}),$(document).on("change",".receipt_con #J_new_address_province",function(){Receipt.rerenderCity(),$(this).val()?Receipt.hideErr("province"):Receipt.showErr("province")}),$(document).on("change","#J_new_address_city",function(){$(this).val()?Receipt.hideErr("city"):Receipt.showErr("city")}),$(document).on("blur","#J_new_address_address",function(){$(this).val()||Receipt.showErr("address")}),$(document).on("blur","#J_new_address_areaCode",function(){$("#J_new_address_phone").val()||($(this).val()?$("#J_new_address_tel").val()||Receipt.showErr("tel"):Receipt.showErr("areaCode"))}),$(document).on("blur","#J_new_address_tel",function(){$(this).val()?$("#J_new_address_areaCode").val()&&Receipt.showErr("areaCode"):$("#J_new_address_phone").val()||Receipt.showErr("tel")}),$(document).on("blur","#J_new_address_phone",function(){if($(this).val()){var isRight=Receipt.checkPhone($(this).val());isRight?Receipt.hideErr("format"):Receipt.showErr("format")}else $("#J_new_address_tel").val()&&($("#J_new_address_areaCode").val()||Receipt.showErr("areaCode"))})},checkPhone:function(val){var partten=/^1[3,5,7,8]\d{9}$/;return!!partten.test(val)},getAllMoney:function(data){var allMoney=0,tourist=$("#J_receipt_tourist_list").children(".receipt_tourist");return _.each(tourist,function(item,index){var price=parseFloat($(item).children(".receipt_tourist_price").val());index!=data&&price&&(allMoney+=price)}),allMoney},checkWhetherEmpty:function(){var isContinue=!0;return $("#J_new_address_name").val()||(Receipt.showErr("name"),isContinue=!1),$("#J_new_address_phone").val()||(isContinue=!1),Receipt.checkPhone($("#J_new_address_phone").val())||(Receipt.showErr("format"),isContinue=!1),$("#J_new_address_address").hasClass("alreadyEdit")?$("#J_new_address_address").val()||(Receipt.showErr("address"),isContinue=!1):$("#J_new_address_address").val().indexOf("不需要重复填写")!=-1&&(Receipt.showErr("address"),isContinue=!1),$(".receipt_con #J_new_address_province").val()||(Receipt.showErr("province"),isContinue=!1),$("#J_new_address_city").val()||(Receipt.showErr("province"),isContinue=!1),isContinue},addressFocusEvent:function(){$(document).on("focus","#J_new_address_name",function(){Receipt.hideErr("name")}),$(document).on("focus","#J_new_address_address",function(){$(this).val().indexOf("不需要重复填写")!=-1?($(this).val(""),$(this).css("color","#000000")):$(this).css("color","#000000"),$(this).addClass("alreadyEdit"),Receipt.hideErr("address")}),$(document).on("focus","#J_new_address_areaCode",function(){Receipt.hideErr("areaCode")}),$(document).on("focus","#J_new_address_tel",function(){Receipt.hideErr("tel"),Receipt.hideErr("phone")}),$(document).on("focus","#J_new_address_phone",function(){Receipt.hideErr("tel"),Receipt.hideErr("phone")})},showInsuranceList:function(e){var id=$(e.target).attr("id");_.each(pageDataObj.invoice.list,function(item){if(item.id==id&&item.insuranceList&&item.insuranceList.length>1){var html=insuranceReceipt(item);Layer.closeAll(),window.showInsuranceListLayerIndex=Layer.open({type:1,title:!1,closeBtn:1,area:["570px","auto"],content:html}),$(".insuranceReceipt").height()>=408&&$(".insuranceReceipt").TScroll()}})},addReceipt:function(flag,e){if(Receipt.nowNum<Receipt.countNum){var html='<div class="receipt_tourist">';html+='<p class="receiptTitleBox"><input type="text" name="" id="" value="" placeholder="请填写公司全称" class="receipt_tourist_name" onfocus="this.placeholder=\'\'" onblur="this.placeholder=\'请填写者公司全称\'" /><span class="err_tips err_mustTitle"></span></p>',html+='<p class="receiptCodeBox"><input type="text" name="" id="" value="" placeholder="请填写纳税人识别号" class="receipt_identification_number" />',pageDataObj.invoice.baseInfo.payAmount&&(html+='<input type="text" name="" id="" value="" placeholder="请输入金额" class="receipt_tourist_price" />'),html+='<span class="receipt_del">删除</span>',html+='<span class="err_tips err_checkIdFailed"></span><span class="err_tips err_emptyCheckId"></span>',pageDataObj.invoice.baseInfo.payAmount&&(html+="<span class='err_tips err_mustAmount'></span>"),html+="</p>",html+='<ul class="J_receipt_title_list"></ul></div> ',$(".receipt_info_box .receipt_tourist_list").append(html);var html='<div class="receipt_tourist"><p>';html+='<input type="text" name="" id="" value="" placeholder="请填写个人姓名或者公司全称" class="receipt_tourist_name" onfocus="this.placeholder=\'\'" onblur="this.placeholder=\'请填写个人姓名或者公司全称\'" /> ',pageDataObj.invoice.baseInfo.payAmount&&(html+='发票金额: <span class="receipt_dollar">¥</span>',html+='<input type="text" name="" id="" value="" placeholder="" class="receipt_tourist_price" />',html+='<span class="receipt_del">删除</span>'),html+="<span class='err_tips err_mustTitle'></span>",pageDataObj.invoice.baseInfo.payAmount&&(html+="<span class='err_tips err_mustAmount'></span>"),html+='</p><ul class="J_receipt_title_list"></ul></div>',$(".receipt_VAT_special .receipt_tourist_list").append(html),Receipt.nowNum++,Receipt.nowNum>1&&$(".receipt_del").show(),$(".receipt_del").off("click"),$(document).on("click",".receipt_del",function(){Receipt.delReceipt($(this))}),$("#J_receipt_dialog").height()>750&&($(".receipt_con").css({height:"714px"}),Receipt.showCenter($("#J_receipt_dialog")))}else Receipt.showAlert("发票数目不可大于预订的成人数目")},delReceipt:function(node){var index=$(node).parents(".receipt_tourist").index();$(".receipt_VAT_special .receipt_tourist_list .receipt_tourist:eq("+index+")").remove(),$(".receipt_info_box .receipt_tourist_list .receipt_tourist:eq("+index+")").remove(),$(".receipt_VAT_special .receipt_tourist_list .receipt_tourist:eq("+index+")").next(".error_show").remove(),$(".receipt_info_box .receipt_tourist_list .receipt_tourist:eq("+index+")").next(".error_show").remove(),Receipt.nowNum--,1==Receipt.nowNum&&($(".receipt_del").hide(),$("#J_add_receipt").show())},newAddress:function(flag){$(".receipt_address_list li input").each(function(){$(this).prop("checked",!1)}),Receipt.destroyAllData(!0),!Receipt.isNew||flag?($("#J_receipt_new_address_bar").show(),$("#J_new_address_address").css("color","#999999"),$("#J_new_address span").removeClass("triangle_down").addClass("triangle_up"),Receipt.isNew=1,$("#J_receipt_dialog").height()>850&&$(".receipt_con").css({height:"714px"}),this.tScrollObj.scrollY($("#J_receipt_new_address_bar"))):($("#J_receipt_new_address_bar").hide(),$("#J_new_address span").removeClass("triangle_up").addClass("triangle_down"),Receipt.isNew=0,$("#J_receipt_dialog").height()>850?$(".receipt_con").css({height:"714px"}):$(".receipt_con").css({height:"714px"})),$(".receipt_new_address_bar .add_new_address").text("添加新地址"),Receipt.showCenter($("#J_receipt_dialog"))},getcontactIR:function(){var data={};return 2==$(".receipt_con #receipt_selectMethod").val()&&(data.contactPhone=$(".receipt_contact_phone").val(),data.contactEmail=$(".receipt_contact_email").val(),data.receiverName=75==pageDataObj.baseInfo.orderType?pageDataObj.ticketerList.list[0].name:pageDataObj.contacterList[0].name),data},getSpecialReceiptInfo:function(){var data={};return 1==$("#receipt_selectType").val()&&(data.idNumber=$(".receipt_identification_number").val(),data.RAddress=$(".receipt_register_address").val(),data.RPhone=$(".receipt_register_phone").val(),data.RBank=$(".receipt_register_bank").val(),data.RBAccount=$(".receipt_bank_account").val()),data},checkMustParam:function(){var pass=!0;return Receipt.hideErr("checkIdFailed"),Receipt.hideErr("emptyCheckId"),Receipt.hideErr("registeraddress"),Receipt.hideErr("registerPhone"),Receipt.hideErr("registerBank"),Receipt.hideErr("bankAccount"),Receipt.hideErr("contactPhone"),Receipt.hideErr("format"),2==$(".receipt_con #receipt_selectMethod").val()?($.trim($(".receipt_contact_phone").val())&&Receipt.checkPhone($(".receipt_contact_phone").val())||($(".receipt_contact_phone").trigger("blur"),pass=!1),pass):1==$("#receipt_selectType").val()?($.trim($(".receipt_identification_number").val())&&Receipt.checkIdentificationId($(".receipt_identification_number").val())||($(".receipt_identification_number").trigger("blur"),pass=!1),$.trim($(".receipt_register_address").val())||($(".receipt_register_address").trigger("blur"),pass=!1),$.trim($(".receipt_register_phone").val())||($(".receipt_register_phone").trigger("blur"),pass=!1),$.trim($(".receipt_register_bank").val())||($(".receipt_register_bank").trigger("blur"),pass=!1),$.trim($(".receipt_bank_account").val())||($(".receipt_bank_account").trigger("blur"),pass=!1),pass):pass},save:function(){var data={};data.change_type=3,data.order_id=pageDataObj.baseInfo.orderId,data.isReceiptFee=!pageDataObj.baseInfo.custLevel&&1==$(".receipt_con #receipt_selectMethod").val(),data.invoice_change_type=4;var receipt_data=Receipt.getReceiptData(),checkMustParam=Receipt.checkMustParam(),receiptIsOk=($(".receipt_con #receipt_selectMethod").val(),Receipt.checkReceiptData(receipt_data)),remove_data=Receipt.removeThis(receipt_data),address_data={};if(receiptIsOk.flag&&checkMustParam){if(data.invoice_info=remove_data,data.content=$("#receipt_selectContent option:selected").text(),data.contentType=$("#receipt_selectContent option:selected").val(),data.invoiceMethod=$("#receipt_selectMethod option:selected").val(),data.invoiceType=$("#receipt_selectType option:selected").val(),data.receipt_specialReceiptInfo=Receipt.getSpecialReceiptInfo(),data.receipt_contactForIR=Receipt.getcontactIR(),Receipt.isNew){if(address_data=Receipt.getNewAddress(),!address_data)return!1;data.receiver_name=encodeURI(address_data.name),data.phone_num=encodeURI(address_data.phone),data.address=encodeURI(address_data.province+address_data.city+address_data.address),data.province=encodeURI(address_data.province),data.city=encodeURI(address_data.city),data.address_str=encodeURI(address_data.address)}else{if(address_data=Receipt.getNewAddress(),!address_data)return!1;data.receiver_name="",data.tel_num="",data.phone_num="",data.address="",data.radio=address_data.addressId}Receipt.ajax_sendReceiptData(data)}},ajax_sendReceiptData:function(data){var url="/tn?r=user/user/ChangeInvoiceForBoss3",self=this,isReceiptFee=!pageDataObj.baseInfo.custLevel&&1==$(".receipt_con #receipt_selectMethod").val();$.ajax({url:url,type:"post",data:data,dataType:"json",success:function(res){res&&res.success?($("#J_receipt_dialog").hide(),$("#addInvoice-bg").hide(),isReceiptFee?self.loop_check_canpay():window.location.reload()):(Receipt.showAlert("提交失败，请稍后再试"),$("#addInvoice-bg").hide())},error:function(err){Receipt.showAlert("提交失败，请稍后再试"),$("#addInvoice-bg").hide()}})},loop_check_canpay:function(){var layerTime=20;this.loopLayer=layer.load('<p>正在添加发票,请耐心等待</p><p>我们会在<span style="color:#F80" id="layerTime">'+layerTime+"</span>秒内返回结果</p>");var data={orderId:pageDataObj.baseInfo.orderId,times:0,telNum:""},self=this;this.ajax_check_canpay(data),this.checkCanPayTimeOut=setInterval(function(){layerTime--,layerTime%2==0&&(data.times++,data.times<10?self.ajax_check_canpay(data):(clearInterval(self.checkCanPayTimeOut),window.location.reload())),$("#layerTime").text(layerTime)},1e3)},ajax_check_canpay:function(data){var check_canpay_url="/tn?r=order/TourV3Order/PaySwitch",self=this;$.ajax({url:check_canpay_url,type:"get",data:data,dataType:"JSON",success:function(res){res&&res.success&&res.canSign&&(clearInterval(self.checkCanPayTimeOut),window.location.href=" /tn?r=order/tourV3Order/OrderPayRedirect&orderId="+pageDataObj.baseInfo.orderId)}})},getReceiptData:function(){var data=[];if(2==$("#receipt_selectType").val())if(2==this.receiptEntityType)$(".receipt_info_box #J_receipt_tourist_list >div").each(function(){var cell={title:$(this).find(".receipt_tourist_name").val(),amount:$(this).find(".receipt_tourist_price").val(),idNumber:$(this).find(".receipt_identification_number").val(),personalOrEnterprise:2,$this:$(this)};data.push(cell)});else{var nameStr="",list=75==pageDataObj.baseInfo.orderType?pageDataObj.ticketerList.list[0]:pageDataObj.contacterList[0];_.isEmpty(list)||(nameStr=list.name);var cell={title:nameStr,amount:Receipt.countPrice,personalOrEnterprise:1};data.push(cell)}else $(".receipt_VAT_special #J_receipt_tourist_list >div").each(function(){var cell={title:$(this).find(".receipt_tourist_name").val(),$this:$(this)};data.push(cell)});return data},checkReceiptData:function(data){var price=0;for(var k in data)if(data[k].title?pageDataObj.invoice.baseInfo.payAmount>0&&data[k].$this&&(data[k].$this.css("margin-bottom","10px"),data[k].$this.next(".error_show").find(".must_price").text().indexOf("可开票余额")==-1&&(data[k].$this.next(".error_show").find(".must_header").addClass("hide"),data[k].$this.next(".error_show").css("height","20px"))):data[k].$this&&(data[k].$this.css("margin-bottom","0"),data[k].$this.next(".error_show").find(".must_header").removeClass("hide")),pageDataObj.invoice.baseInfo>0){var pattern=/^[0-9]+$/;if(!pattern.test(data[k].amount))return data[k].$this&&$(data[k].$this).find(".err_mustAmount").html("<img src='//ssl3.tuniucdn.com/img/201604072050/bookOnline/order_detail/error.png'>请输入正确的发票金额"),!1;if(data[k].$this&&(data[k].$this.css("margin-bottom","10px"),data[k].$this.next(".error_show").find(".must_price").text().indexOf("可开票余额")==-1&&(data[k].$this.next(".error_show").find(".must_price").addClass("hide"),data[k].$this.next(".error_show").css("height","20px"))),data[k].amount<0)return data[k].$this&&$(data[k].$this).find(".err_mustAmount").html("<img src='//ssl3.tuniucdn.com/img/201604072050/bookOnline/order_detail/error.png'>发票金额不可为负数"),!1;if(data[k].$this&&(data[k].$this.css("margin-bottom","10px"),data[k].$this.next(".error_show").find(".must_price").text().indexOf("可开票余额")==-1&&data[k].$this.next(".error_show").css("height","20px")),2==$("#receipt_selectType").val()&&2==this.receiptEntityType){if(!data[k].idNumber)return data[k].$this&&$(data[k].$this).find(".err_checkIdFailed").html("<img src='//ssl3.tuniucdn.com/img/201604072050/bookOnline/order_detail/error.png'>请填写纳税人识别号"),!1;if(!/^[A-Za-z0-9]{15,18}$/.test(data[k].idNumber))return data[k].$this&&$(data[k].$this).find(".err_checkIdFailed").html("<img src='//ssl3.tuniucdn.com/img/201604072050/bookOnline/order_detail/error.png'>请填写正确的纳税人识别号"),!1}if(1==$("#receipt_selectType").val()&&!data[k].title&&data[k].$this)return $(data[k].$this).find(".err_mustTitle").html("<img src='//ssl3.tuniucdn.com/img/201604072050/bookOnline/order_detail/error.png'>请填写纳税人识别号"),!1;data[k].title&&parseFloat(data[k].amount||data[k].amount>0)&&data[k].$this&&data[k].$this.css("margin-bottom","0"),data[k].title||parseFloat(data[k].amount)&&!(!data[k].amount>0)?data[k].title&&(!parseFloat(data[k].amount)||!data[k].amount>0)?data[k].$this&&data[k].$this.next(".error_show").css("height","37px"):!data[k].title&&(parseFloat(data[k].amount)||data[k].amount>0)&&data[k].$this&&data[k].$this.next(".error_show").css("height","37px"):data[k].$this&&data[k].$this.next(".error_show").css("height","37px"),parseFloat(data[k].amount)&&(price+=parseFloat(data[k].amount))}if(price>Receipt.countPrice)return Receipt.showAlert("发票金额不能大于可开发票总额"),!1;var tourist_name=[],tourist_price=[],tourist_code=[],flag=!0;return 2==$("#receipt_selectType").val()&&2==this.receiptEntityType?(tourist_name=$(".receipt_info_box #J_receipt_tourist_list .receipt_tourist_name"),tourist_price=$(".receipt_info_box #J_receipt_tourist_list .receipt_tourist_price"),tourist_code=$(".receipt_info_box #J_receipt_tourist_list .receipt_identification_number"),_.some(tourist_name,function(item,index){if(""==$.trim($(item).val()))return Receipt.showErrForOne("mustTitle",$(item).parent()),Receipt.hideErr("mustAmount"),flag=!1,!0}),_.some(tourist_code,function(item,index){return""==$.trim($(item).val())?(Receipt.showErrForOne("checkIdFailed",$(item).parent()),Receipt.hideErrForOne("mustAmount",$(item).parent()),flag=!1,!0):/^[A-Za-z0-9]{15,18}$/.test($.trim($(item).val()))?void 0:(Receipt.showErrForOne("checkIdFailed",$(item).parent()),Receipt.hideErrForOne("mustAmount",$(item).parent()),flag=!1,!0)}),_.some(tourist_price,function(item,index){if(""==$.trim($(item).val()))return Receipt.hideErrForOne("checkIdFailed",$(item).parent()),Receipt.showErrForOne("mustAmount",$(item).parent()),flag=!1,!0})):1==$("#receipt_selectType").val()?(tourist_name=$(".receipt_VAT_special #J_receipt_tourist_list .receipt_tourist_name"),tourist_price=$(".receipt_VAT_special #J_receipt_tourist_list .receipt_tourist_price"),_.some(tourist_name,function(item,index){if(""==$.trim($(item).val()))return Receipt.showErrForOne("mustTitle",$(item).parent()),Receipt.hideErr("mustAmount"),flag=!1,!0}),_.some(tourist_price,function(item,index){if(""==$.trim($(item).val()))return Receipt.hideErrForOne("checkIdFailed",$(item).parent()),Receipt.showErrForOne("mustAmount",$(item).parent()),flag=!1,!0})):(tourist_name=[],tourist_price=[]),{price:price,flag:flag}},removeThis:function(data){for(var arr=[],qw=0;qw<data.length;qw++){var o={amount:data[qw].amount,title:data[qw].title,idNumber:data[qw].idNumber,personalOrEnterprise:data[qw].personalOrEnterprise};arr.push(o)}return arr},getNewAddress:function(){var adressData={},name=$(".receipt_address_list.list_active").find(".con_name span").text(),province=$(".receipt_address_list.list_active").find(".addRess").attr("data-province"),city=$(".receipt_address_list.list_active").find(".addRess").attr("data-city"),address=($(".receipt_address_list.list_active").find(".addRess").attr("data-cityCode"),$(".receipt_address_list.list_active").find(".addRess").attr("data-address")),phone=$(".receipt_address_list.list_active").find(".addRess").attr("data-tel"),addressId=$(".receipt_address_list.list_active").find(".addRess").attr("data-addressId");return adressData.name=name,adressData.province=province,adressData.city=city,adressData.address=address,adressData.phone=phone,adressData.addressId=addressId,adressData},showErr:function(key){var err={name:"收件人必填",province:"请选择省市",city:"请选择省市",address:"详细地址必填",postCode:"收件人邮编不能为空",areaCode:"区号不能为空",tel:"电话号码和手机必须填写一项",phone:"手机号必填",format:"请输入正确的手机号码",receiptTitle:"请输入发票抬头",checkIdFailed:"纳税人识别号错误，请检查！",emptyCheckId:"请输入纳税人识别号",registeraddress:"请输入注册地址",registerPhone:"请输入注册电话",registerBank:"请输入开户银行",bankAccount:"请输入银行账户",contactPhone:"请输入手机号码",formatBAccount:"请输入正确的银行账户",mustTitle:"发票抬头必填",mustAmount:"发票金额必填",formatPhone:"请输入正确的注册电话"};$(".err_"+key).html("<img src='//ssl3.tuniucdn.com/img/201604072050/bookOnline/order_detail/error.png'>"+err[key])},showCenter:function(obj){var screenWidth=$(window).width(),screenHeight=$(window).height(),objLeft=(screenWidth-obj.width())/2,objTop=(screenHeight-obj.height())/2;obj.css({left:objLeft+"px",top:objTop+"px"}),$(window).resize(function(){screenWidth=$(window).width(),screenHeight=$(window).height(),objLeft=(screenWidth-obj.width())/2,objTop=(screenHeight-obj.height())/2,obj.css({left:objLeft+"px",top:objTop+"px"})})},destroyAllData:function(flag){$("#J_receipt_new_address_bar").find("input").val(""),$("#J_receipt_new_address_bar").find("textarea").val("不需要重复填写省市区，不小于5个字符，不超过120个字符。"),$(".receipt_con #J_new_address_province").find("option").eq(0).attr("selected",!0),$("#J_new_address_city").find("option").eq(0).attr("selected",!0),flag||$("#J_receipt_new_address_bar").hide()},hideErr:function(key){$(".err_"+key).text("")},showHoverText:function(){$("#.receipt_info_tips .tip_icon img").parent(".tip_icon").next(".tip_text").toggle()},rerenderCity:function(){var province=$(".receipt_con #J_new_address_province").val();switch(province){case"安徽_100":var cityOptions=new Array("合肥(*)","合肥_102","芜湖","芜湖_120","蚌埠","蚌埠_104","淮南","淮南_112","马鞍山","马鞍山_116","淮北","淮北_110","铜陵","铜陵_118","安庆","安庆_103","黄山","黄山_113","滁州","滁州_107","阜阳","阜阳_108","宿州","宿州_117","巢湖","巢湖_106","六安","六安_115","亳州","亳州_105","池州","池州_109","宣城","宣城_121","屯溪","屯溪_119","九华山","九华山_114","其它","其它_101");break;case"北京_200":var cityOptions=new Array("东城","东城_202","西城","西城_203","崇文","崇文_204","宣武","宣武_205","朝阳","朝阳_206","丰台","丰台_207","石景山","石景山_208","海淀","海淀_209","门头沟","门头沟_210","房山","房山_211","通州","通州_212","顺义","顺义_213","昌平","昌平_214","大兴","大兴_215","平谷","平谷_216","怀柔","怀柔_217","密云","密云_218","延庆","延庆_219","其它","其它_201");break;case"重庆_300":var cityOptions=new Array("渝中","渝中_304","大渡口","大渡口_305","江北","江北_306","沙坪坝","沙坪坝_307","九龙坡","九龙坡_308","南岸","南岸_309","北碚","北碚_310","万盛","万盛_311","双挢","双挢_312","渝北","渝北_313","巴南","巴南_314","万州","万州_302","涪陵","涪陵_303","黔江","黔江_315","长寿","长寿_316","綦江","綦江_317","潼南","潼南_318","铜梁","铜梁_319","大足","大足_320","荣昌","荣昌_321","壁山","壁山_322","垫江","垫江_326","武隆","武隆_327","丰都","丰都_325","城口","城口_324","梁平","梁平_323","开县","开县_329","云阳","云阳_330","奉节","奉节_331","巫山","巫山_332","巫溪","巫溪_333","忠县","忠县_328","石柱","石柱_334","秀山","秀山_335","酉阳","酉阳_336","彭水","彭水_337","江津","江津_338","合川","合川_339","永川","永川_340","南川","南川_341","其它","其它_301");break;case"福建_400":var cityOptions=new Array("福州(*)","福州_402","厦门","厦门_414","莆田","莆田_407","三明","三明_409","泉州","泉州_408","漳州","漳州_415","南平","南平_405","龙岩","龙岩_404","宁德","宁德_406","武夷山","武夷山_413","其它","其它_401");break;case"甘肃_500":var cityOptions=new Array("兰州(*)","兰州_502","金昌","金昌_507","白银","白银_503","天水","天水_511","嘉峪关市","嘉峪关市_516","武威","武威_513","张掖","张掖_515","平凉","平凉_510","酒泉","酒泉_508","庆阳","庆阳_514","定西","定西_504","陇南","陇南_512","临夏","临夏_509","甘南","甘南_506","敦煌","敦煌_505","其它","其它_501");break;case"广东_600":var cityOptions=new Array("广州(*)","广州_602","深圳","深圳_619","珠海","珠海_628","汕头","汕头_616","韶关","韶关_618","佛山","佛山_607","江门","江门_610","湛江","湛江_625","茂名","茂名_613","肇庆","肇庆_626","惠州","惠州_609","梅州","梅州_614","汕尾","汕尾_617","河源","河源_608","阳江","阳江_621","清远","清远_615","东莞","东莞_606","中山","中山_627","潮州","潮州_604","揭阳","揭阳_611","云浮","云浮_623","其它","其它_601");break;case"广西_700":var cityOptions=new Array("南宁(*)","南宁_702","柳州","柳州_709","桂林","桂林_705","梧州","梧州_711","北海","北海_704","防城港","防城港_706","钦州","钦州_710","贵港","贵港_713","玉林","玉林_712","百色","百色_703","贺州","贺州_708","河池","河池_707","来宾","来宾_714","崇左","崇左_715","其它","其它_701");break;case"贵州_800":var cityOptions=new Array("贵阳(*)","贵阳_802","六盘水","六盘水_807","遵义","遵义_811","安顺","安顺_803","铜仁","铜仁_808","毕节","毕节_804","黔南布依族苗族自治州","黔南布依族苗族自治州_805","黔东南苗族侗族自治州","黔东南苗族侗族自治州_806","黔西南布依族苗族自治州","黔西南布依族苗族自治州_809","其它","其它_801");break;case"海南_900":var cityOptions=new Array("海口(*)","海口_902","三亚","三亚_906","文昌","文昌_909","琼海","琼海_905","万宁","万宁_908","五指山","五指山_910","东方","东方_911","儋州","儋州_903","临高","临高_912","澄迈","澄迈_913","定安","定安_914","屯昌","屯昌_915","昌江","昌江_916","白沙","白沙_917","琼中","琼中_918","陵水","陵水_904","保亭","保亭_919","乐东","乐东_907","西南中沙群岛","西南中沙群岛_920","其它","其它_901");break;case"河北_1000":var cityOptions=new Array("石家庄(*)","石家庄_1002","唐山","唐山_1013","秦皇岛","秦皇岛_1012","邯郸","邯郸_1008","邢台","邢台_1015","保定","保定_1003","张家口","张家口_1016","承德","承德_1006","沧州","沧州_1005","廊坊","廊坊_1010","衡水","衡水_1009","其它","其它_1001");break;case"黑龙江_1100":var cityOptions=new Array("哈尔滨(*)","哈尔滨_1102","齐齐哈尔","齐齐哈尔_1111","鸡西","鸡西_1109","鹤岗","鹤岗_1106","双鸭山","双鸭山_1113","大庆","大庆_1104","伊春","伊春_1115","佳木斯","佳木斯_1108","七台河","七台河_1112","牡丹江","牡丹江_1110","黑河","黑河_1107","绥化","绥化_1114","大兴安岭","大兴安岭_1105","其它","其它_1101");break;case"河南_1200":var cityOptions=new Array("郑州(*)","郑州_1202","开封","开封_1208","洛阳","洛阳_1210","平顶山","平顶山_1212","焦作","焦作_1206","鹤壁","鹤壁_1204","新乡","新乡_1216","安阳","安阳_1203","濮阳","濮阳_1213","许昌","许昌_1218","漯河","漯河_1209","三门峡","三门峡_1214","南阳","南阳_1211","商丘","商丘_1215","信阳","信阳_1217","周口","周口_1219","驻马店","驻马店_1220","济源","济源_1207","其它","其它_1201");break;case"香港_1300":var cityOptions=new Array("香港","香港_1302","九龙","九龙_1303","新界","新界_1304","其它","其它_1301");break;case"湖北_1400":var cityOptions=new Array("武汉(*)","武汉_1402","黄石","黄石_1406","襄樊","襄樊_1416","十堰","十堰_1410","荆州","荆州_1408","宜昌","宜昌_1418","鄂州","鄂州_1404","孝感","孝感_1417","黄冈","黄冈_1405","咸宁","咸宁_1414","随州","随州_1411","恩施","恩施_1403","仙桃","仙桃_1413","潜江","潜江_1409","天门","天门_1407","神农架","神农架_1412","荆门","荆门_1419","其它","其它_1401");break;case"湖南_1500":var cityOptions=new Array("长沙(*)","长沙_1502","株洲","株洲_1515","湘潭","湘潭_1510","衡阳","衡阳_1505","邵阳","邵阳_1509","岳阳","岳阳_1512","常德","常德_1503","张家界","张家界_1514","益阳","益阳_1511","郴州","郴州_1504","永州","永州_1513","怀化","怀化_1506","娄底","娄底_1508","湘西","湘西_1507","其它","其它_1501");break;case"江苏_1600":var cityOptions=new Array("南京(*)","南京_1602","常州","常州_1604","淮安","淮安_1606","连云港","连云港_1610","南通","南通_1611","宿迁","宿迁_1614","苏州","苏州_1615","泰州","泰州_1617","同里","同里_1618","无锡","无锡_1619","徐州","徐州_1620","盐城","盐城_1621","扬州","扬州_1622","镇江","镇江_1626","周庄","周庄_1627","其它","其它_1601");break;case"江西_1700":var cityOptions=new Array("南昌(*)","南昌_1702","景德镇","景德镇_1706","萍乡","萍乡_1710","九江","九江_1708","新余","新余_1712","鹰潭","鹰潭_1714","赣州","赣州_1704","吉安","吉安_1705","宜春","宜春_1713","抚州","抚州_1703","上饶","上饶_1711","井冈山","井冈山_1707","庐山","庐山_1709","其它","其它_1701");break;case"吉林_1800":var cityOptions=new Array("长春(*)","长春_1802","吉林","吉林_1808","四平","四平_1809","辽源","辽源_1806","通化","通化_1811","白山","白山_1804","松原","松原_1810","白城","白城_1803","延边","延边_1812","其它","其它_1801");break;case"辽宁_1900":var cityOptions=new Array("沈阳(*)","沈阳_1902","大连","大连_1906","鞍山","鞍山_1903","抚顺","抚顺_1908","本溪","本溪_1904","丹东","丹东_1907","锦州","锦州_1911","营口","营口_1915","阜新","阜新_1909","辽阳","辽阳_1912","盘锦","盘锦_1913","铁岭","铁岭_1914","朝阳","朝阳_1905","葫芦岛","葫芦岛_1910","其它","其它_1901");break;case"澳门_2000":var cityOptions=new Array("澳门","澳门_2002","其它","其它_2001");break;case"内蒙古_2100":var cityOptions=new Array("呼和浩特(*)","呼和浩特_2102","包头","包头_2104","乌海","乌海_2111","赤峰","赤峰_2105","通辽","通辽_2110","鄂尔多斯","鄂尔多斯_2106","呼伦贝尔","呼伦贝尔_2107","巴彦淖尔","巴彦淖尔_2109","乌兰察布","乌兰察布_2108","锡林郭勒","锡林郭勒_2113","兴安","兴安_2112","阿拉善盟","阿拉善盟_2103","其它","其它_2101");break;case"宁夏_2200":var cityOptions=new Array("银川(*)","银川_2202","固源","固源_2203","石嘴山","石嘴山_2204","吴忠","吴忠_2205","中卫 ","中卫_2206","其它","其它_2201");break;case"青海_2300":var cityOptions=new Array("西宁(*)","西宁_2302","海东","海东_2306","海西","海西_2303","海南","海南_2305","海北","海北_2307","果洛","果洛_2308","黄南","黄南_2309","玉树","玉树_2310","其它","其它_2301");break;case"山东_2400":var cityOptions=new Array("济南(*)","济南_2402","青岛","青岛_2413","淄博","淄博_2421","枣庄","枣庄_2420","东营","东营_2406","烟台","烟台_2419","潍坊","潍坊_2417","威海","威海_2418","济宁","济宁_2408","泰安","泰安_2416","日照","日照_2415","莱芜","莱芜_2409","临沂","临沂_2411","德州","德州_2405","聊城","聊城_2410","滨州","滨州_2403","菏泽","菏泽_2407","其它","其它_2401");break;case"上海_2500":var cityOptions=new Array("崇明","崇明_2502","黄浦","黄浦_2503","卢湾","卢湾_2504","徐汇","徐汇_2505","长宁","长宁_2506","静安","静安_2507","普陀","普陀_2508","闸北","闸北_2509","虹口","虹口_2510","杨浦","杨浦_2511","闵行","闵行_2512","宝山","宝山_2513","嘉定","嘉定_2514","浦东","浦东_2515","金山","金山_2516","松江","松江_2517","青浦","青浦_2518","南汇","南汇_2519","奉贤","奉贤_2520","其它","其它_2501");break;case"山西_2600":var cityOptions=new Array("太原(*)","太原_2602","大同","大同_2604","阳泉","阳泉_2611","长治","长治_2603","晋城","晋城_2606","朔州","朔州_2605","晋中","晋中_2612","运城","运城_2613","忻州","忻州_2610","临汾","临汾_2608","吕梁","吕梁_2607","其它","其它_2601");break;case"陕西_2700":var cityOptions=new Array("西安(*)","西安_2702","铜川","铜川_2709","宝鸡","宝鸡_2704","咸阳","咸阳_2710","渭南","渭南_2706","延安","延安_2711","汉中","汉中_2705","榆林","榆林_2712","安康","安康_2703","商洛","商洛_2707","其它","其它_2701");break;case"四川_2800":var cityOptions=new Array("成都(*)","成都_2802","自贡","自贡_2826","攀枝花","攀枝花_2820","泸州","泸州_2814","德阳","德阳_2805","绵阳","绵阳_2816","广元","广元_2810","遂宁","遂宁_2821","内江","内江_2819","乐山","乐山_2813","南充","南充_2818","眉山","眉山_2817","宜宾","宜宾_2825","广安","广安_2809","达州","达州_2804","雅安","雅安_2824","巴中","巴中_2803","资阳","资阳_2827","阿坝","阿坝_2815","甘孜","甘孜_2812","凉山","凉山_2823","峨眉山","峨眉山_2807","九寨沟","九寨沟_2811","其它","其它_2801");break;case"台湾_2900":var cityOptions=new Array("台北(*)","台北_2902","高雄","高雄_2906","基隆","基隆_2903","台南","台南_2904","台中","台中_2905","新竹","新竹_2910","嘉义","嘉义_2913","宜兰","宜兰_2916","桃园","桃园_2915","苗栗","苗栗_2912","彰化","彰化_2911","南投","南投_2908","云林","云林_2909","屏东","屏东_2907","台东","台东_2917","花莲","花莲_2914","澎湖","澎湖_2920","金门","金门_2918","马祖","马祖_2919","其它","其它_2901");break;case"天津_3000":var cityOptions=new Array("和平","和平_3003","东丽","东丽_3004","河东","河东_3005","西青","西青_3006","河西","河西_3007","津南","津南_3008","南开","南开_3009","北辰","北辰_3010","河北","河北_3011","武清","武清_3012","红桥","红桥_3013","塘沽","塘沽_3014","汉沽","汉沽_3015","大港","大港_3016","宁河","宁河_3017","静海","静海_3018","宝坻","宝坻_3019","蓟县","蓟县_3020","其它","其它_3001");break;case"新疆_3100":var cityOptions=new Array("乌鲁木齐(*)","乌鲁木齐_3102","克拉玛依","克拉玛依_3112","吐鲁番","吐鲁番_3118","哈密","哈密_3109","和田","和田_3110","阿克苏","阿克苏_3103","喀什","喀什_3111","克孜勒苏柯尔克孜","克孜勒苏柯尔克孜_3105","巴音郭楞蒙古","巴音郭楞蒙古_3114","昌吉","昌吉_3107","博尔塔拉蒙古","博尔塔拉蒙古_3106","伊犁哈萨克","伊犁哈萨克_3119","塔城","塔城_3117","阿勒泰","阿勒泰_3104","石河子","石河子_3116","阿拉尔","阿拉尔_3108","图木舒克","图木舒克_3113","五家渠","五家渠_3115","其它","其它_3101");break;case"西藏_3200":var cityOptions=new Array("拉萨(*)","拉萨_3202","阿里","阿里_3203","昌都","昌都_3204","林芝","林芝_3205","那曲","那曲_3206","日喀则","日喀则_3207","山南","山南_3208","其它","其它_3201");break;case"云南_3300":var cityOptions=new Array("昆明(*)","昆明_3302","曲靖","曲靖_3315","玉溪","玉溪_3319","保山","保山_3304","昭通","昭通_3321","丽江","丽江_3312","思茅","思茅_3316","临沧","临沧_3311","文山","文山_3317","红河","红河_3308","西双版纳","西双版纳_3318","楚雄","楚雄_3305","大理","大理_3306","德宏","德宏_3314","怒江","怒江_3313","迪庆","迪庆_3320","昭通","昭通_3321","其它","其它_3301");break;case"浙江_3400":var cityOptions=new Array("杭州(*)","杭州_3402","宁波","宁波_3415","温州","温州_3426","嘉兴","嘉兴_3410","湖州","湖州_3409","绍兴","绍兴_3422","金华","金华_3411","衢州","衢州_3419","舟山","舟山_3427","台州","台州_3424","丽水","丽水_3414","安吉","安吉_3403","千岛湖","千岛湖_3418","其它","其它_3401");break;case"欧洲_3600":var cityOptions=new Array("爱尔兰","爱尔兰_3602","比利时","比利时_3603","法国","法国_3604","荷兰","荷兰_3605","卢森堡","卢森堡_3606","摩纳哥","摩纳哥_3607","英国","英国_3608","冰岛","冰岛_3609","丹麦","丹麦_3610","芬兰","芬兰_3611","挪威","挪威_3612","瑞典","瑞典_3613","奥地利","奥地利_3614","波兰","波兰_3615","德国","德国_3616","捷克共和国","捷克共和国_3617","列支敦士登","列支敦士登_3618","瑞士","瑞士_3619","斯洛伐克","斯洛伐克_3620","匈牙利","匈牙利_3621","爱沙尼亚","爱沙尼亚_3622","白俄罗斯","白俄罗斯_3623","俄罗斯","俄罗斯_3624","拉脱维亚","拉脱维亚_3625","立陶宛","立陶宛_3626","摩尔多瓦","摩尔多瓦_3627","乌克兰","乌克兰_3628","阿尔巴尼亚","阿尔巴尼亚_3629","波斯尼亚和黑塞哥维那","波斯尼亚和黑塞哥维那_3630","保加利亚","保加利亚_3631","梵蒂冈","梵蒂冈_3632","克罗地亚","克罗地亚_3633","罗马尼亚","罗马尼亚_3634","马其顿","马其顿_3635","马耳他","马耳他_3636","黑山","黑山_3637","葡萄牙","葡萄牙_3638","斯洛文尼亚","斯洛文尼亚_3639","塞浦路斯","塞浦路斯_3640","塞尔维亚","塞尔维亚_3641","圣马力诺","圣马力诺_3642","希腊","希腊_3643","西班牙","西班牙_3644","意大利","意大利_3645","安道尔","安道尔_3646","其它","其它_3601");break;case"北美洲_3700":var cityOptions=new Array("安圭拉","安圭拉_3702","安提瓜和巴布达","安提瓜和巴布达_3703","阿鲁巴","阿鲁巴_3704","巴哈马","巴哈马_3705","巴巴多斯","巴巴多斯_3706","伯利兹","伯利兹_3707","百慕大群岛","百慕大群岛_3708","英属维京群岛","英属维京群岛_3709","加拿大","加拿大_3710","开曼群岛","开曼群岛_3711","哥斯达黎加","哥斯达黎加_3712","古巴","古巴_3713","多米尼克","多米尼克_3714","多米尼加共和国","多米尼加共和国_3715","萨尔瓦多","萨尔瓦多_3716","格陵兰","格陵兰_3717","格林纳达","格林纳达_3718","瓜德洛普","瓜德洛普_3719","危地马拉","危地马拉_3720","海地","海地_3721","洪都拉斯","洪都拉斯_3722","牙买加","牙买加_3723","马提尼克","马提尼克_3724","墨西哥","墨西哥_3725","蒙特塞拉特 ","蒙特塞拉特 _3726","纳弗沙岛","纳弗沙岛_3727","荷属安的列斯","荷属安的列斯_3728","尼加拉瓜","尼加拉瓜_3729","巴拿马","巴拿马_3730","波多黎各","波多黎各_3731","圣克里斯多福与尼维斯","圣克里斯多福与尼维斯_3732","圣卢西亚","圣卢西亚_3733","圣皮耶与密克隆群岛","圣皮耶与密克隆群岛_3734","圣文森特和格林纳丁斯","圣文森特和格林纳丁斯_3735","特立尼达及多巴哥","特立尼达及多巴哥_3736","特克斯与凯科斯群岛","特克斯与凯科斯群岛_3737","美国","美国_3738","美属维京群岛 ","美属维京群岛 _3739","其它","其它_3701");break;case"南美洲_3800":var cityOptions=new Array("厄瓜多尔","厄瓜多尔_3802","哥伦比亚","哥伦比亚_3803","委内瑞拉","委内瑞拉_3804","秘鲁","秘鲁_3805","巴西","巴西_3806","智利","智利_3807","乌拉圭","乌拉圭_3808","巴拉圭","巴拉圭_3809","阿根廷","阿根廷_3810","玻利维亚","玻利维亚_3811","圭亚那","圭亚那_3812","苏里南","苏里南_3813","法属圭亚那","法属圭亚那_3814","其它","其它_3801");break;case"亚洲_3900":var cityOptions=new Array("蒙古","蒙古_3902","朝鲜","朝鲜_3903","韩国","韩国_3904","日本","日本_3905","越南","越南_3906","老挝","老挝_3907","柬埔寨","柬埔寨_3908","缅甸","缅甸_3909","泰国","泰国_3910","马来西亚","马来西亚_3911","新加坡","新加坡_3912","文莱","文莱_3913","菲律宾","菲律宾_3914","印度尼西亚","印度尼西亚_3915","锡金","锡金_3916","不丹","不丹_3917","孟加拉国","孟加拉国_3918","印度","印度_3919","斯里兰卡","斯里兰卡_3920","哈萨克斯坦","哈萨克斯坦_3921","马尔代夫","马尔代夫_3922","吉尔吉斯斯坦","吉尔吉斯斯坦_3923","塔吉克斯坦","塔吉克斯坦_3924","乌兹别可斯坦","乌兹别可斯坦_3915","土库曼斯坦","土库曼斯坦_3926","格鲁吉亚","格鲁吉亚_3927","阿塞拜疆","阿塞拜疆_3928","巴基斯坦","巴基斯坦_3929","阿富汗","阿富汗_3930","伊朗","伊朗_3931","科威特","科威特_3932","沙特阿拉伯","沙特阿拉伯_3933","巴林","巴林_3934","卡塔尔","卡塔尔_3935","阿拉伯联合酋长国","阿拉伯联合酋长国_3936","阿曼","阿曼_3937","也门","也门_3938","伊拉克","伊拉克_3939","叙利亚","叙利亚_3940","黎巴嫩","黎巴嫩_3941","约旦","约旦_3942","巴勒斯坦国","巴勒斯坦国_3943","以色列","以色列_3944","塞浦路斯","塞浦路斯_3945","土耳其","土耳其_3946","东帝汶","东帝汶_3947","尼泊尔","尼泊尔_3948","亚美尼亚","亚美尼亚_3949","其它","其它_3901");break;case"非洲_4000":var cityOptions=new Array("埃及","埃及_4002","利比亚","利比亚_4003","突尼斯","突尼斯_4004","阿尔及利亚","阿尔及利亚_4005","摩洛哥","摩洛哥_4006","西撒哈拉","西撒哈拉_4007","毛里塔尼亚","毛里塔尼亚_4008","塞内加尔","塞内加尔_4009","冈比亚","冈比亚_4010","马里","马里_4011","布基纳法索","布基纳法索_4012","佛得角","佛得角_4013","几内亚比绍","几内亚比绍_4014","苏丹","苏丹_4015","埃塞俄比亚","埃塞俄比亚_4016","厄立特里亚","厄立特里亚_4017","吉布提","吉布提_4018","索马里","索马里_4019","肯尼亚","肯尼亚_4020","乌干达","乌干达_4021","坦桑尼亚","坦桑尼亚_4022","卢旺达","卢旺达_4023","布隆迪","布隆迪_4024","刚果民主共和国","刚果民主共和国_4025","刚果","刚果_4026","加蓬","加蓬_4027","圣多美和普林西比","圣多美和普林西比_4028","安哥拉","安哥拉_4029","几内亚","几内亚_4030","塞拉利昂","塞拉利昂_4031","利比里亚","利比里亚_4032","科特迪瓦","科特迪瓦_4033","加纳","加纳_4034","多哥","多哥_4035","贝宁","贝宁_4036","尼日尔","尼日尔_4037","尼日利亚","尼日利亚_4038","喀麦隆","喀麦隆_4039","赤道几内亚","赤道几内亚_4040","乍得","乍得_4041","中非","中非_4042","赞比亚","赞比亚_4043","马拉维","马拉维_4044","莫桑比克","莫桑比克_4045","科摩罗","科摩罗_4046","马达加斯加","马达加斯加_4047","塞舌尔","塞舌尔_4048","毛里求斯","毛里求斯_4049","留尼汪（法）","留尼汪（法）_4050","津巴布韦","津巴布韦_4051","博茨瓦纳","博茨瓦纳_4052","纳米比亚","纳米比亚_4053","南非","南非_4054","斯威士兰","斯威士兰_4055","莱索托","莱索托_4056","圣赫勒拿（英）","圣赫勒拿（英）_4057","其它","其它_4001");break;case"大洋洲_4100":var cityOptions=new Array("澳大利亚","澳大利亚_4102","新西兰","新西兰_4103","巴布亚新几内亚","巴布亚新几内亚_4104","所罗门群岛","所罗门群岛_4105","瓦努阿图","瓦努阿图_4106","新喀里多尼亚（法）","新喀里多尼亚（法）_4107","斐济群岛","斐济群岛_4108","基里巴斯","基里巴斯_4109","瑙鲁","瑙鲁_4110","密克罗尼西亚联邦","密克罗尼西亚联邦_4111","马绍尔群岛","马绍尔群岛_4112","帕劳","帕劳_4113","北马里亚那群岛","北马里亚那群岛_4114","关岛（英）","关岛（英）_4115","图瓦卢","图瓦卢_4116","瓦利斯和富图那（法）","瓦利斯和富图那（法）_4117","萨摩亚","萨摩亚_4118","美属萨摩亚","美属萨摩亚_4119","纽埃（新）","纽埃（新）_4120","托克劳（新）","托克劳（新）_4121","库克群岛（新）","库克群岛（新）_4122","汤加","汤加_4123","法属波利尼西亚","法属波利尼西亚_4124","皮特凯恩（美）","皮特凯恩（美）_4125","诺福克岛","诺福克岛_4126","中途岛","中途岛_4127","其它","其它_4101");break;default:var cityOptions=new Array("","")}for(var html='<option selected="selected" value="">市</option>',i=0;i<cityOptions.length/2;i++)html+='<option value="'+cityOptions[2*i+1]+'">'+cityOptions[2*i]+"</option>";$("#J_new_address_city").html(html)}};module.exports=Receipt},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(fn){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=fn,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function(template){function anonymous($data,$filename){"use strict";var $utils=this,payAmount=($utils.$helpers,$data.payAmount),$escape=$utils.$escape,invoiceTotalPrice=$data.invoiceTotalPrice,allInsurancePrice=$data.allInsurancePrice,invoiceListInfo=$data.invoiceListInfo,method=$data.method,invoiceType=$data.invoiceType,invoiceContent=$data.invoiceContent,custLevel=$data.custLevel,signStatus=$data.signStatus,contactInfo=$data.contactInfo,deliveryAddress=$data.deliveryAddress,index=$data.index,userAddressKey=$data.userAddressKey,$out="";if($out+='<!--添加发票弹出层 end-->\r\n\t<div class="dialog_title">\r\n\t\t<h4>编辑发票信息</h4>\r\n        <img class="dialog_close" src="//ssl3.tuniucdn.com/img/201604072050/bookOnline/order_detail/close.png">\r\n\t</div>\r\n\t<div class="receipt_con">\r\n        ',payAmount&&($out+='\r\n            <div class="receipt_info">\r\n                <span class="receipt_info_title">发票总额</span>\r\n                <span class="receipt_info_content"><em class="all-price-need-change">：',$out+=$escape(invoiceTotalPrice),$out+='元</em></span>\r\n                <span class="receipt_info_tips hide">\r\n                <i class="tip_icon"><img src="//ssl3.tuniucdn.com/img/201604072050/bookOnline/order_detail/tip_icon.png"/></i>\r\n                <em class="tip_text">\r\n                <i class="y">◆</i>\r\n                <i class="z">◆</i>\r\n                ',payAmount?($out+="\r\n                    可开发票金额不包含保险费用\r\n                    ",allInsurancePrice>=0&&($out+="\r\n                    ",allInsurancePrice&&($out+="\r\n                         ¥",$out+=$escape(allInsurancePrice),$out+="\r\n                    "),$out+="\r\n                    "),$out+="，若需添加保险发票请联系客服；优惠金额不开具发票。\r\n                "):($out+="\r\n                    可开发票金额不包含保险费用",allInsurancePrice>=0&&($out+="\r\n                    ",allInsurancePrice&&($out+="\r\n                         ¥",$out+=$escape(allInsurancePrice),$out+="\r\n                    "),$out+="\r\n                     "),$out+="，添加旅游费用发票会自动开具保险手撕发票；优惠金额不开具发票。\r\n                "),$out+="\r\n                </em></span>\r\n            </div>\r\n        "),$out+='\r\n        <div class="receipt_info">\r\n            ',invoiceListInfo&&invoiceListInfo.guest_invoice_type){$out+='\r\n                <span class="receipt_info_title">发票种类</span>\r\n                  <select id="receipt_selectMethod" class="field_select">\r\n                        ';for(var method=0;method<invoiceListInfo.invoice_method.length;method++)$out+='\r\n                             <option value="',$out+=$escape(invoiceListInfo.invoice_method[method].paramValue),$out+='"> ',$out+=$escape(invoiceListInfo.invoice_method[method].paramDesc),$out+="</option>\r\n                        ";$out+='\r\n                    </select>\r\n                    <select class="field_select" id="receipt_selectType">\r\n                        ';for(var invoiceType=0;invoiceType<invoiceListInfo.guest_invoice_type.length;invoiceType++)$out+="\r\n                            ",1!=invoiceListInfo.guest_invoice_type[invoiceType].paramValue&&($out+='\r\n                                <option value="',$out+=$escape(invoiceListInfo.guest_invoice_type[invoiceType].paramValue),$out+='"> ',$out+=$escape(invoiceListInfo.guest_invoice_type[invoiceType].paramDesc),$out+="</option>\r\n                            "),$out+="\r\n                        ";$out+="\r\n                    </select>\r\n            "}if($out+='\r\n        </div>\r\n\r\n        <div class="receipt_info">\r\n            ',invoiceListInfo&&invoiceListInfo.invoice_contents&&invoiceListInfo.invoice_contents.length){$out+='\r\n                <span class="receipt_info_title">发票内容</span>\r\n                <select class="field_select" id="receipt_selectContent">\r\n                        ';for(var invoiceContent=0;invoiceContent<invoiceListInfo.invoice_contents.length;invoiceContent++)$out+="\r\n                            ",1!=invoiceListInfo.invoice_contents[invoiceContent].paramValue&&($out+='\r\n                                <option value="',$out+=$escape(invoiceListInfo.invoice_contents[invoiceContent].paramValue),$out+='"> ',$out+=$escape(invoiceListInfo.invoice_contents[invoiceContent].paramDesc),$out+="</option>\r\n                            "),$out+="\r\n                        ";$out+="\r\n                    </select>\r\n            "}if($out+='\r\n        </div>\r\n        <div class="receipt_info receipt_fee">\r\n                <span class="receipt_info_title">配送方式</span>\r\n                <div class="receipt_info_title_list">\r\n                    <p class="invoiceContent">：',$out+=custLevel?'快递(五星会员免<span class="receipt_fee_count">&yen;10</span>邮寄服务费)':'快递<span class="receipt_fee_count">&yen;10</span>',$out+='</p>\r\n                 </div>\r\n        </div>\r\n       \r\n        <div class="receipt_VAT_special hide">\r\n            <div class="receipt_info">\r\n                <span class="receipt_info_title">发票抬头</span>\r\n                <div class="receipt_tourist_list_bar">\r\n                    <div class="receipt_tourist_list" id="J_receipt_tourist_list">\r\n                    </div>\r\n                    ',payAmount&&signStatus&&($out+='\r\n                      <span class="receipt_add" id="J_add_receipt">添加多张发票</span>                      \r\n                    '),$out+='\r\n                </div>\r\n            </div>\r\n            <div class="receipt_info">\r\n                <span class="receipt_info_title">纳税人识别号</span>\r\n                <div class="receipt_tourist_list_bar">\r\n                    <input type="text"  class="receipt_identification_number"  placeholder="请填写纳税人识别号"/>\r\n                    <span class="checkIdFail hide">纳税人识别号错误，请检查！</span>\r\n                    <span class="err_tips err_checkIdFailed"></span>\r\n                    <span class="err_tips err_emptyCheckId"></span>\r\n                </div>\r\n            </div>\r\n            <div class="receipt_info">\r\n                <span class="receipt_info_title">注册地址</span>\r\n                <div class="receipt_tourist_list_bar">\r\n                    <input type="text"  class="receipt_register_address" />\r\n                    <span class="err_tips err_registeraddress"></span>\r\n                </div>\r\n            </div>\r\n            <div class="receipt_info">\r\n                <span class="receipt_info_title">注册电话</span>\r\n                <div class="receipt_tourist_list_bar">\r\n                    <input type="text"  class="receipt_register_phone" />\r\n                    <span class="err_tips err_registerPhone"></span>\r\n                    <span class="err_tips err_formatPhone"></span>\r\n                </div>\r\n            </div>\r\n            <div class="receipt_info">\r\n                <span class="receipt_info_title">开户银行</span>\r\n                <div class="receipt_tourist_list_bar">\r\n                    <input type="text"  class="receipt_register_bank" />\r\n                    <span class="err_tips err_registerBank"></span>\r\n                </div>\r\n            </div>\r\n            <div class="receipt_info">\r\n                <span class="receipt_info_title">银行账户</span>\r\n                <div class="receipt_tourist_list_bar">\r\n                    <input type="text"  class="receipt_bank_account"/>\r\n                    <span class="err_tips err_bankAccount"></span>\r\n                    <span class="err_tips err_formatBAccount"></span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n\t\t\r\n         <div class="receipt_info_box">\r\n            <div class="receipt_info">\r\n                <span class="receipt_info_title">发票类型</span>\r\n                <div class="receipt_tourist_list_bar">\r\n                    <p class="J_receipt_type_personal receipt_type_btn">个人</p><p class="J_receipt_type_company activity receipt_type_btn">公司</p>\r\n                </div>\r\n            </div>\r\n            <div class="receipt_info_bar">\r\n                <div class="receipt_info">\r\n                    <span class="receipt_info_title">发票抬头</span>\r\n                    <div class="receipt_tourist_list_bar" class="an_mo">\r\n                        <div class="receipt_tourist_list" id="J_receipt_tourist_list">\r\n                        </div>\r\n                        ',payAmount&&signStatus&&($out+='\r\n                          <span class="receipt_add" id="J_add_receipt" m="点击_发票模块_发票子页面___添加多张发票">添加多张发票</span>\r\n                        '),$out+='\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="receipt_contact">\r\n            <div class="receipt_info">\r\n                <span class="receipt_info_title">手机号码</span>\r\n                <div class="receipt_tourist_list_bar">\r\n                    <input type="text"  class="receipt_contact_phone" placeholder="请输入手机号码" ',contactInfo.tel&&($out+=' value="',$out+=$escape(contactInfo.tel),$out+='"'),$out+=' onfocus="this.placeholder=\'\'" onblur="this.placeholder=\'请输入手机号码\'"/>\r\n                    <span class="err_tips err_contactPhone"></span>\r\n                    <span class="err_tips err_format"></span>\r\n                </div>\r\n            </div>\r\n            <div class="receipt_info">\r\n                <span class="receipt_info_title">邮&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;箱</span>\r\n                <div class="receipt_tourist_list_bar">\r\n                    <input type="text"  class="receipt_contact_email" placeholder="用来接收电子发票邮件，可选填" ',contactInfo.email&&($out+=' value="',$out+=$escape(contactInfo.email),$out+='"'),$out+=' onfocus="this.placeholder=\'\'" onblur="this.placeholder=\'用来接收电子发票邮件，可选填\'"/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n\r\n\t\t<div class="receipt_info receipt_adder hide">\r\n\t\t\t<span class="receipt_info_title">配送地址：</span>\r\n\t\t\t<div class="receipt_address_list_bar">\r\n        <div class="showOverflow">\r\n        ',deliveryAddress&&deliveryAddress.length){var index=0;$out+="\r\n           ";for(var userAddressKey=0;userAddressKey<deliveryAddress.length;userAddressKey++)$out+="\r\n\r\n           ",deliveryAddress[userAddressKey].user_name&&deliveryAddress[userAddressKey].tel&&deliveryAddress[userAddressKey].provinceName&&deliveryAddress[userAddressKey].cityName&&deliveryAddress[userAddressKey].address&&(index++,$out+="\r\n           \r\n          <div class='receipt_address_list controlHei unified ",index>3&&($out+=" hide "),$out+=" ",1==index&&($out+=" list_active "),$out+='\'>\r\n              <p class="default_add">',1==deliveryAddress[userAddressKey].isDefault&&($out+="<span data-default='1'> 默认地址 </span>"),$out+=' </p>\r\n              <p class="con_name"><span>',$out+=$escape(deliveryAddress[userAddressKey].user_name),$out+='</span></p>\r\n              <p class="addRess" data-name=\'',$out+=$escape(deliveryAddress[userAddressKey].user_name),$out+="' data-province = '",$out+=$escape(deliveryAddress[userAddressKey].provinceName),$out+="' data-city='",$out+=$escape(deliveryAddress[userAddressKey].cityName),$out+="' data-address='",$out+=$escape(deliveryAddress[userAddressKey].address),$out+="' data-code='",$out+=$escape(deliveryAddress[userAddressKey].code),$out+="' data-tel='",$out+=$escape(deliveryAddress[userAddressKey].tel),$out+="' data-cityCode='",$out+=$escape(deliveryAddress[userAddressKey].city_code),$out+="' data-addressId = '",$out+=$escape(deliveryAddress[userAddressKey].address_id),$out+="'>\r\n\r\n                 <span title=\"",$out+=$escape(deliveryAddress[userAddressKey].provinceName),$out+=$escape(deliveryAddress[userAddressKey].cityName),$out+=" ",$out+=$escape(deliveryAddress[userAddressKey].address),$out+=$escape(deliveryAddress[userAddressKey].code),$out+="（",$out+=$escape(deliveryAddress[userAddressKey].tel),$out+='）"><em>',$out+=$escape(deliveryAddress[userAddressKey].provinceName),$out+=$escape(deliveryAddress[userAddressKey].cityName),$out+=$escape(deliveryAddress[userAddressKey].address),$out+="（",$out+=$escape(deliveryAddress[userAddressKey].tel),$out+='）</em></span>\r\n              </p>\r\n              <p class="active_png">\r\n                <span class="active_span">\r\n                    <span class="deleteOrCancel hide" class="an_mo">\r\n                        <em class="edit" m="点击_发票模块_发票子页面_配送地址___编辑配送地址">编辑</em>\r\n                        <em class="delete" m="点击_发票模块_发票子页面_配送地址___删除配送地址">删除</em>\r\n                    </span>    \r\n                </span>\r\n              </p>\r\n          </div>\r\n           '),$out+="\r\n          ";$out+="\r\n        "}return $out+="\r\n        <div class='receipt_add_list unified ",index>=3&&($out+=" hide  "),$out+=' controlHei\'>\r\n           <div class="address_list_con" class="an_mo">\r\n              <p class="add_png"><img src="//ssl3.tuniucdn.com/img/201604072050/bookOnline/add_png.bmp" id="J_new_address"/></p>\r\n              <p class="add_text" m="点击_发票模块_发票子页面_配送地址___添加配送地址">添加配送地址</p>\r\n           </div>\r\n        </div>\r\n      </div>\r\n      <div class="get_more_list"><span class="canShouMore ',index<3&&($out+=" hide "),$out+='"><em>更多地址</em></span></div>\r\n\t\t\t\t<div class="receipt_new_address_bar" id="J_receipt_new_address_bar">\r\n          <p class="add_new_address">添加新地址<p>\r\n\t\t\t\t\t<table>\r\n\t\t\t\t\t<tbody>\r\n            <tr>\r\n\t\t\t\t\t\t\t<td class="receipt_new_address_title">收件人：</td>\r\n\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t<input type="text" id="J_new_address_name" class="receipt_new_address_input" maxlength="10" placeholder="请输入收件人姓名" onfocus="this.placeholder=\'\'" onblur="this.placeholder=\'请输入收件人姓名\'">\r\n\t\t\t\t\t\t\t\t<span class="err_tips err_name"></span>\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t</tr>\r\n            <tr>\r\n              <td class="receipt_new_address_title">手机号：</td>\r\n              <td>\r\n                <input type="text" id="J_new_address_phone" class="receipt_new_address_input" placeholder="请输入收件人手机号码" onfocus="this.placeholder=\'\'" onblur="this.placeholder=\'请输入收件人手机号码\'">\r\n                <span class="err_tips err_phone"></span><span class="err_tips err_format"></span>\r\n              </td>\r\n            </tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td class="receipt_new_address_title">所在地区：</td>\r\n\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t<select name="" id="J_new_address_province">\r\n\t\t\t\t\t\t\t\t\t<option selected="selected" value="">省</option>\r\n\t\t\t\t\t\t\t\t\t<option value="安徽_100">安徽</option>\r\n\t\t\t\t\t\t\t\t\t<option value="北京_200">北京</option>\r\n\t\t\t\t\t\t\t\t\t<option value="重庆_300">重庆</option>\r\n\t\t\t\t\t\t\t\t\t<option value="福建_400">福建</option>\r\n\t\t\t\t\t\t\t\t\t<option value="甘肃_500">甘肃</option>\r\n\t\t\t\t\t\t\t\t\t<option value="广东_600">广东</option>\r\n\t\t\t\t\t\t\t\t\t<option value="广西_700">广西</option>\r\n\t\t\t\t\t\t\t\t\t<option value="贵州_800">贵州</option>\r\n\t\t\t\t\t\t\t\t\t<option value="海南_900">海南</option>\r\n\t\t\t\t\t\t\t\t\t<option value="河北_1000">河北</option>\r\n\t\t\t\t\t\t\t\t\t<option value="黑龙江_1100">黑龙江</option>\r\n\t\t\t\t\t\t\t\t\t<option value="河南_1200">河南</option>\r\n\t\t\t\t\t\t\t\t\t<option value="香港_1300">香港</option>\r\n\t\t\t\t\t\t\t\t\t<option value="湖北_1400">湖北</option>\r\n\t\t\t\t\t\t\t\t\t<option value="湖南_1500">湖南</option>\r\n\t\t\t\t\t\t\t\t\t<option value="江苏_1600">江苏</option>\r\n\t\t\t\t\t\t\t\t\t<option value="江西_1700">江西</option>\r\n\t\t\t\t\t\t\t\t\t<option value="吉林_1800">吉林</option>\r\n\t\t\t\t\t\t\t\t\t<option value="辽宁_1900">辽宁</option>\r\n\t\t\t\t\t\t\t\t\t<option value="澳门_2000">澳门</option>\r\n\t\t\t\t\t\t\t\t\t<option value="内蒙古_2100">内蒙古</option>\r\n\t\t\t\t\t\t\t\t\t<option value="宁夏_2200">宁夏</option>\r\n\t\t\t\t\t\t\t\t\t<option value="青海_2300">青海</option>\r\n\t\t\t\t\t\t\t\t\t<option value="山东_2400">山东</option>\r\n\t\t\t\t\t\t\t\t\t<option value="上海_2500">上海</option>\r\n\t\t\t\t\t\t\t\t\t<option value="山西_2600">山西</option>\r\n\t\t\t\t\t\t\t\t\t<option value="陕西_2700">陕西</option>\r\n\t\t\t\t\t\t\t\t\t<option value="四川_2800">四川</option>\r\n\t\t\t\t\t\t\t\t\t<option value="台湾_2900">台湾</option>\r\n\t\t\t\t\t\t\t\t\t<option value="天津_3000">天津</option>\r\n\t\t\t\t\t\t\t\t\t<option value="新疆_3100">新疆</option>\r\n\t\t\t\t\t\t\t\t\t<option value="西藏_3200">西藏</option>\r\n\t\t\t\t\t\t\t\t\t<option value="云南_3300">云南</option>\r\n\t\t\t\t\t\t\t\t\t<option value="浙江_3400">浙江</option>\r\n\t\t\t\t\t\t\t\t\t<option value="欧洲_3600">欧洲</option>\r\n\t\t\t\t\t\t\t\t\t<option value="北美洲_3700">北美洲</option>\r\n\t\t\t\t\t\t\t\t\t<option value="南美洲_3800">南美洲</option>\r\n\t\t\t\t\t\t\t\t\t<option value="亚洲_3900">亚洲</option>\r\n\t\t\t\t\t\t\t\t\t<option value="非洲_4000">非洲</option>\r\n\t\t\t\t\t\t\t\t\t<option value="大洋洲_4100">大洋洲</option>\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t<select name="" id="J_new_address_city">\r\n\t\t\t\t\t\t\t\t\t<option selected="selected" value="">市</option>\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t<span class="err_tips err_city err_province"></span>\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<td class="receipt_new_address_title new_detailed_address">详细地址：</td>\r\n\t\t\t\t\t\t\t<td>\r\n                <textarea id="J_new_address_address" class="receipt_new_address_input detailed_address">不需要重复填写省市区，不小于5个字符，不超过120个字符</textarea>\r\n\t\t\t\t\t\t\t\t<span class="err_tips err_address control"></span>\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</tbody>\r\n        </table>\r\n          <p class="over_btn"><span class="btn new_add_save">保存</span><span class="btn new_add_cancel">取消</span></p>\r\n        </div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n        <div class="note_check">\r\n            <span>\r\n                <label>注：</label>\r\n                <div class="note_content">\r\n                    <P>1.发票将于您出游归来后5个工作日开具，请注意查收；</P>\r\n                    <p>2.旅游费用和保险费用的发票分开，添加旅游费用发票自动生成保险费用发票。旅游费发票按照您的指定抬头开具；保险发票应监管要求抬头与保单中的投保人保持一致，无法指定；</p>\r\n                    ',$out+=payAmount?"\r\n                        <p>3.保险发票由保险公司为您开具，只支持开具电子发票，如您需要保险发票，添加旅游费发票请选择电子发票，每张保单开具一张电子发票，发票抬头与电子保单投保人一致。</p>\r\n                    ":"\r\n                        <p>3.保险发票由保险公司为您开具，只支持开具电子发票，如您需要保险发票，添加旅游费发票请选择电子发票，每张保单开具一张电子发票，发票抬头与电子保单投保人一致；</p>\r\n                        <p>4.如需拆分为多张发票开具，您可在完成付款之后在我的->全部订单->订单详情页进行操作添加发票。</p>\r\n                    ",$out+='\r\n                </div>\r\n            </span>\r\n        </div>\r\n\t</div>\r\n\t<div class="receipt_foot">\r\n\t\t<div class="receipt_function_bar" class="an_mo">\r\n\t\t\t<div class="receipt_btn_save" id="J_receipt_save" m="点击_发票模块_发票子页面___完成">保存</div>\r\n\t\t\t<div class="receipt_btn_cancel">取消</div>\r\n\t\t</div>\r\n\t</div>\r\n',new String($out)}return function(){var obj={};arguments[0]=arguments[0]||{};for(var key2 in arguments[0])obj[key2]=arguments[0][key2];for(var key in template.helpers)obj[key]=template.helpers[key];return window.pageDataObj&&(obj.bookStep=window.pageDataObj.bookStep,obj.pageType=window.pageDataObj.pageType,obj.proType=window.pageDataObj.proType,obj.proLine=window.pageDataObj.proLine,obj.proMode=window.pageDataObj.proMode),anonymous.call(template.utils,obj).toString()}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(fn){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=fn,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function(template){function anonymous($data,$filename){"use strict";var $utils=this,insuranceStateMap=($utils.$helpers,$data.insuranceStateMap),index=$data.index,insuranceList=$data.insuranceList,$escape=$utils.$escape,$out="";$out+='<div class="insuranceReceipt">\r\n    <div class="iR_title">\r\n        <h4>取消险发票</h4>\r\n    </div>\r\n\r\n    ';var insuranceStateMap={0:"未开票",1:"已开票","-1":"作废"};$out+='\r\n    <div class="iR_content" >\r\n        ';for(var index in insuranceList)$out+='\r\n            <ul class="ul_iR_content">\r\n                <li>\r\n                    <span>保单号：&nbsp;&nbsp;',$out+=$escape(insuranceList[index].insuranceNum),$out+="</span>\r\n                    ",2==insuranceList[index].billType&&insuranceList[index].insuranceUrl&&($out+='\r\n                        <a class="content_down" href="',$out+=$escape(insuranceList[index].insuranceUrl),$out+='">\r\n                            <span>查看电子发票</span>\r\n                            <img class="downLoad" src="//ssl3.tuniucdn.com/img/201604072050/bookOnline/order_detail/downLoad.png">\r\n                        </a>\r\n                    '),$out+="\r\n                </li>\r\n                <li>\r\n                    <span>投保人：&nbsp;&nbsp;",$out+=$escape(insuranceList[index].insuredPerson),$out+="</span>\r\n                </li>\r\n                ",2==insuranceList[index].billType?($out+="\r\n                    <li>\r\n                        <span>发票状态：&nbsp;&nbsp;",$out+=$escape(insuranceStateMap[insuranceList[index].insuranceState]),$out+="</span>\r\n                    </li>\r\n                    <li>\r\n                        <span>发票抬头：&nbsp;&nbsp;",$out+=$escape(insuranceList[index].insuranceTitle),$out+="</span>\r\n                        <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;¥",$out+=$escape(insuranceList[index].insuranceAmount),$out+="</span>\r\n                    </li>\r\n                "):($out+="\r\n                    <li>\r\n                        ",insuranceList[index].remark&&($out+="\r\n                              <img class=\"prompt_style\" src='//ssl3.tuniucdn.com/img/201604072050/bookOnline/order_detail/prompt.png'><span>",$out+=$escape(insuranceList[index].remark),$out+='</span><a href="',$out+=$escape(insuranceList[index].insuranceUrl),$out+='" class="goPiao">',insuranceList[index].insuranceUrl&&($out+="去开票"),$out+="</a>\r\n                         "),$out+="\r\n                    </li>\r\n                "),$out+='\r\n\r\n                </li>\r\n                    <li class="end_line">\r\n                </li>\r\n            </ul>\r\n        ';return $out+="\r\n    </div>\r\n</div>\r\n",new String($out)}return function(){var obj={};arguments[0]=arguments[0]||{};for(var key2 in arguments[0])obj[key2]=arguments[0][key2];for(var key in template.helpers)obj[key]=template.helpers[key];return window.pageDataObj&&(obj.bookStep=window.pageDataObj.bookStep,obj.pageType=window.pageDataObj.pageType,obj.proType=window.pageDataObj.proType,obj.proLine=window.pageDataObj.proLine,obj.proMode=window.pageDataObj.proMode),anonymous.call(template.utils,obj).toString()}})},function(module,exports,__webpack_require__){var Receipt=(__webpack_require__(75),__webpack_require__(130)),Delivery={init:function(){this.$el=$("#J_delivery_dialog"),this.tScrollObj=null,this.isNew=0,this.selectedData=null,this.bindEvents()},showPage:function(){this.$el.show(),this.tScrollObj=$(".delivery_con").TScroll(),this.resposition()},resposition:function($el){var windowWidth=$(window).width(),windowHeight=$(window).height(),thisWidth=this.$el.width()+20,thisHeight=this.$el.height()+20,top=(windowHeight-thisHeight)/2,left=(windowWidth-thisWidth)/2;this.$el.css("left",left+"px"),this.$el.css("top",top>0?top:"0px")},showListActive:function(e){var target=$(e.currentTarget),siblings=target.siblings(),index=target.index();target.hasClass("list_active")?(target.removeClass("list_active"),Delivery.selectedData=null):(target.addClass("list_active"),siblings.removeClass("list_active"),target.find(".deleteOrCancel").addClass("hide"),target.find(".changeWidth").hide(),Delivery.selectedData=pageDataObj.deliveryAddress[index])},saveSelectedAddress:function(){var receiveInfo=this.selectedData,promotionId=0;_.each(pageDataObj.promotionList,function(item){25==item.promotionTypeId&&(promotionId=item.promotionId)});var postData={orderId:pageDataObj.baseInfo.orderId,promotionIds:[promotionId],receiveProvinceCode:receiveInfo.province_code,receiveProvinceName:receiveInfo.province,receiveCityCode:receiveInfo.city_code,receiveCityName:receiveInfo.city,receiveDistrictCode:"",receiveDistrictName:"",receiveDetailAddress:receiveInfo.address,receiveTel:receiveInfo.tel,receiveName:receiveInfo.user_name,receivePostCode:""};this.restOrderAddress(postData).done(function(res){res&&res.success?($("#J_delivery_dialog").hide(),$("#bg").hide(),$(".address-list").hide(),$(".deli_prom_address").text("("+receiveInfo.user_name+" "+receiveInfo.tel+" "+receiveInfo.province+receiveInfo.city+receiveInfo.address+")")):Receipt.operationAddressError("保存数据")}).fail(function(){Receipt.operationAddressError("保存数据")})},bindEvents:function(){var self=this;self.$el.find(".deli_dialog_close").on("click",function(e){$("#bg").hide(),self.$el.hide()}),$(".delivery_btn_cancel").on("click",function(){self.selectedData=null,$(".delivery_address_list").removeClass("list_active"),$("#J_delivery_dialog").hide(),$("#bg").hide()}),$(".delivery_btn_save").on("click",function(){return self.selectedData?void self.saveSelectedAddress():($("#J_delivery_dialog").hide(),void $("#bg").hide())}),$(document).on("mouseenter mouseleave",".delivery_address_list",function(e){"mouseenter"==e.type?(self.listShowHover(e),e.stopPropagation()):"mouseleave"==e.type&&(self.listHideHover(e),e.stopPropagation())}),$("#J_deli_new_address_province").on("change",function(){self.rerenderCity()}),$(document).on("click","#J_deli_new_address",function(){self.newAddress(!0)}),$("#J_deli_new_address_name").on("blur",function(){$(this).val().trim()||self.showErr("name")}),$("#J_deli_new_address_province").on("change",function(){$(this).val()?self.hideErr("province"):self.showErr("province")}),$("#J_deli_new_address_city").on("change",function(){$(this).val()?self.hideErr("city"):self.showErr("city")}),$("#J_deli_new_address_address").on("blur",function(){$(this).val()||self.showErr("address")}),$("#J_deli_new_address_phone").on("blur",function(){if($(this).val()){var isRight=self.checkPhone($(this).val());isRight?self.hideErr("format"):self.showErr("format")}else self.showErr("phone")}),$("#J_deli_new_address_name").on("focus",function(){self.hideErr("name")}),$("#J_deli_new_address_address").on("focus",function(){$(this).val().indexOf("不需要重复填写")!=-1?($(this).val(""),$(this).css("color","#000000")):$(this).css("color","#000000"),$(this).addClass("alreadyEdit"),self.hideErr("address")}),$("#J_deli_new_address_areaCode").on("focus",function(){self.hideErr("areaCode")}),$("#J_deli_new_address_tel").on("focus",function(){self.hideErr("tel"),self.hideErr("phone")}),$("#J_deli_new_address_phone").on("focus",function(){self.hideErr("tel"),self.hideErr("phone")})},checkPhone:function(val){var partten=/^1[3,5,7,8]\d{9}$/;return!!partten.test(val)},listShowHover:function(e){var target=$(e.currentTarget);target.addClass("hoverStyle"),target.hasClass("list_active")?("默认地址"!=$.trim(target.children(".default_add").text())&&(target.children(".default_add").find("span").hasClass("alreadySet")||(target.children(".default_add").html("<span data-default='1'>设定默认地址</span>"),target.siblings("").find(".default_add span").attr("data-default","0"),target.children(".default_add").find("span").addClass("changeWidth"))),target.find(".deleteOrCancel").removeClass("hide")):(target.find(".default_add span").hasClass("alreadySet")||1==target.find(".default_add span").attr("data-default")||"默认地址"==$.trim(target.children(".default_add").text())||(target.children(".default_add").html("<span data-default='1'>设定默认地址</span>"),target.siblings("").find(".default_add span").attr("data-default","0"),target.children(".default_add").find("span").addClass("changeWidth")),target.find(".deleteOrCancel").removeClass("hide"))},listHideHover:function(e){var target=$(e.currentTarget);target.removeClass("hoverStyle"),target.hasClass("list_active")?("默认地址"!=$.trim(target.children(".default_add").text())&&(target.children(".default_add").find("span").hasClass("alreadySet")||target.children(".default_add").html("")),target.find(".deleteOrCancel").addClass("hide")):(target.find(".default_add span").hasClass("alreadySet")||"默认地址"==$.trim(target.children(".default_add").text())||target.children(".default_add").html(""),target.find(".deleteOrCancel").addClass("hide"))},setDefaultAddress:function(e){var target=$(e.currentTarget),setIndex=target.parents(".delivery_address_list").index();Receipt.setDefaultAddress({addressId:pageDataObj.deliveryAddress[setIndex].addressId}).done(function(res){res&&res.success?(target.text("默认地址"),target.addClass("alreadySet").removeClass("changeWidth").attr("data-default","1"),target.parents(".delivery_address_list").siblings(".delivery_address_list").find(".default_add").text("")):Receipt.operationAddressError("设置默认地址")}).fail(function(){Receipt.operationAddressError("设置默认地址")})},toggleShow:function(e){var target=$(e.currentTarget),showOverflow=target.parent(".get_more_list").prev(".showOverflow").children(".delivery_address_list:gt(2)"),delivery_add_list=target.parent(".get_more_list").prev(".showOverflow").children(".delivery_add_list");target.hasClass("canShouMore")?(target.removeClass("canShouMore"),showOverflow.removeClass("hide"),target.children("em").text("收起"),delivery_add_list.removeClass("hide"),target.parent(".get_more_list").prev(".showOverflow").children(".delivery_add_list").css("margin-top","30px"),$("#J_delivery_dialog").height()>850&&$(".delivery_con").css({height:"714px"}),Delivery.showCenter($("#J_delivery_dialog"))):(target.addClass("canShouMore"),showOverflow.addClass("hide"),target.children("em").text("更多地址"),delivery_add_list.addClass("hide"),target.parent(".get_more_list").prev(".showOverflow").children(".delivery_add_list").css("margin-top","0"),$(".delivery_con").css({height:"auto"}),Delivery.showCenter($("#J_delivery_dialog")))},showCenter:function(obj){var screenWidth=$(window).width(),screenHeight=$(window).height(),objLeft=(screenWidth-obj.width())/2,objTop=(screenHeight-obj.height())/2;obj.css({left:objLeft+"px",top:objTop+"px"}),$(window).resize(function(){screenWidth=$(window).width(),screenHeight=$(window).height(),objLeft=(screenWidth-obj.width())/2,objTop=(screenHeight-obj.height())/2,obj.css({left:objLeft+"px",top:objTop+"px"})})},showDelete:function(e){var target=$(e.currentTarget),index=target.parents(".delivery_address_list").index();pageDataObj.deliveryAddress;Receipt.deleteUserAddress(pageDataObj.deliveryAddress[index].addressId).done(function(res){res&&res.success?(Delivery.selectedData&&Delivery.selectedData.addressId==pageDataObj.deliveryAddress[index].addressId&&(Delivery.selectedData=null),pageDataObj.deliveryAddress.splice(index,1),null==pageDataObj.deliveryAddress&&(pageDataObj.deliveryAddress=[]),target.parents(".showOverflow").next(".get_more_list").children("span").hasClass("canShouMore")&&target.parents(".showOverflow").find(".delivery_address_list").eq(index+2).removeClass("hide"),$(".showOverflow").find(".controlHei").length<=3&&(target.parents(".showOverflow").next(".get_more_list").addClass("hide"),$(".showOverflow").find(".delivery_add_list").removeClass("hide")),$("#J_delivery_new_address_bar").show()&&($("#J_delivery_new_address_bar").hide(),Delivery.destroyAllData()),target.parents(".delivery_address_list").remove(),$(".receipt_address_list").eq(index).remove(),Delivery.showCenter($("#J_delivery_dialog"))):Receipt.operationAddressError("删除地址")}).fail(function(){Receipt.operationAddressError("删除地址")})},newAddress:function(flag){$(".delivery_address_list li input").each(function(){$(this).prop("checked",!1)}),this.destroyAllData(!0),!this.isNew||flag?($("#J_delivery_new_address_bar").show(),$("#J_deli_new_address_address").css("color","#999999"),$("#J_deli_new_address span").removeClass("triangle_down").addClass("triangle_up"),this.isNew=1,$("#J_delivery_dialog").height()>850&&$(".delivery_con").css({height:"714px"}),this.tScrollObj.scrollY($("#J_delivery_new_address_bar"))):($("#J_delivery_new_address_bar").hide(),$("#J_deli_new_address span").removeClass("triangle_up").addClass("triangle_down"),this.isNew=0,$("#J_delivery_dialog").height()>850?$(".delivery_con").css({height:"714px"}):$(".delivery_con").css({height:"714px"})),$(".delivery_new_address_bar .add_new_address").text("添加新地址"),this.showCenter($("#J_delivery_dialog"))},destroyAllData:function(flag){$("#J_delivery_new_address_bar").find("input").val(""),$("#J_delivery_new_address_bar").find("textarea").val("不需要重复填写省市区，不小于5个字符，不超过120个字符。"),$("#J_deli_new_address_province").find("option").eq(0).attr("selected",!0),$("#J_deli_new_address_city").find("option").eq(0).attr("selected",!0),flag||$("#J_delivery_new_address_bar").hide()},cancelNewAddress:function(e){$(e.currentTarget);this.destroyAllData(),$("#").css({height:"auto"}),this.showCenter($("#J_delivery_dialog"))},saveNewAddress:function(e){var target=$(e.currentTarget),self=this,index=0,allData=self.getAllInputData(target),address_list=target.parents(".delivery_new_address_bar").siblings(".showOverflow").find(".delivery_address_list").last(),receipt_list=$(".receipt_new_address_bar").siblings(".showOverflow").find(".receipt_address_list").last(),continueFlag=self.checkWhetherEmpty();continueFlag&&Receipt.SaveUserAddress({receiver_name:allData.name,province:allData.provinceCode,city:allData.cityCode,address:allData.address,tel_num:allData.phone}).done(function(res){if(res&&res.success){target.parents(".delivery_new_address_bar").siblings(".showOverflow").find(".delivery_address_list").removeClass("list_active"),$(".receipt_address_list").removeClass("list_active");var html="<div class='delivery_address_list controlHei unified new_add list_active' ><p class='default_add'></p><p class='con_name'><span> "+allData.name+"</span></p><p class='addRess' data-name='"+allData.name+"' data-province='"+allData.province+"' data-cityCode='"+allData.cityCode+"' data-provinceCode='"+allData.provinceCode+"' data-phone='"+allData.phone+"' data-address='"+allData.address+"' data-city='"+allData.city+"'><span><em>"+allData.province+allData.city+allData.address+"("+allData.phone+")</em></span></p><p class='active_png'><span class='active_span'><span class='deleteOrCancel hide'><em class='deli-edit'>编辑</em><em class='deli-delete'>删除</em></span></span></p>";address_list&&address_list.length?address_list.after(html):target.parents(".delivery_new_address_bar").siblings(".showOverflow").find(".delivery_add_list").before(html);var htmlReceipt="<div class='receipt_address_list controlHei unified new_add list_active' ><p class='default_add'></p><p class='con_name'><span> "+allData.name+"</span></p><p class='addRess' data-name='"+allData.name+"' data-province='"+allData.province+"' data-cityCode='"+allData.cityCode+"' data-provinceCode='"+allData.provinceCode+"' data-phone='"+allData.phone+"' data-address='"+allData.address+"' data-city='"+allData.city+"'><span><em>"+allData.province+allData.city+allData.address+"("+allData.phone+")</em></span></p><p class='active_png'><span class='active_span'><span class='deleteOrCancel hide'><em class='edit'>编辑</em><em class='delete'>删除</em></span></span></p>";receipt_list&&receipt_list.length?receipt_list.after(htmlReceipt):$(".receipt_new_address_bar").siblings(".showOverflow").find(".receipt_add_list").before(htmlReceipt),pageDataObj.deliveryAddress.push({addressId:res.addressId,user_name:allData.name,tel:allData.phone,province:allData.province,city:allData.city,address:allData.city}),self.selectedData={addressId:res.addressId,user_name:allData.name,tel:allData.phone,province:allData.province,city:allData.city,address:allData.city},index++;var addLength=target.parents(".delivery_new_address_bar").siblings(".showOverflow").find(".controlHei").length;addLength>3&&target.parents(".showOverflow").next(".get_more_list").removeClass("hide"),addLength>=2&&$(".delivery_add_list").css("margin-top","30px"),target.parents(".delivery_new_address_bar").siblings(".showOverflow").find(".list_active").css("height",this.commonHeight+"px"),self.destroyAllData(),$("#J_delivery_dialog").height()>850||$(".delivery_con").height()>600?($(".delivery_con").css({height:"714px"}),self.tScrollObj.scrollY($("#J_delivery_new_address_bar"))):$(".delivery_con").css({height:"auto"}),$(".showOverflow").find(".controlHei").length>3&&target.parents(".delivery_new_address_bar").prev(".get_more_list").remove("hide"),self.showCenter($("#J_delivery_dialog"))}else Receipt.operationAddressError("新增地址")}).fail(function(res){Receipt.operationAddressError("新增地址")})},checkWhetherEmpty:function(){var isContinue=!0;return $("#J_deli_new_address_name").val()||(this.showErr("name"),isContinue=!1),$("#J_deli_new_address_phone").val()||(isContinue=!1),this.checkPhone($("#J_deli_new_address_phone").val())||(this.showErr("format"),isContinue=!1),$("#J_deli_new_address_address").hasClass("alreadyEdit")?$("#J_new_address_address").val()||(this.showErr("address"),isContinue=!1):$("#J_deli_new_address_address").val().indexOf("不需要重复填写")!=-1&&(this.showErr("address"),isContinue=!1),$("#J_deli_new_address_province").val()||(this.showErr("province"),isContinue=!1),$("#J_deli_new_address_city").val()||(this.showErr("province"),isContinue=!1),isContinue},showEdit:function(e){var itemValue,target=$(e.currentTarget),add_index=(pageDataObj.deliveryAddress,target.parents(".delivery_address_list").index()),addRess=target.parents(".active_png").prev(".addRess"),existData={name:addRess.attr("data-name"),tel:addRess.attr("data-phone")||addRess.attr("data-tel"),province:addRess.attr("data-province"),city:addRess.attr("data-city"),address:addRess.attr("data-address")};$("#J_deli_new_address_name").val(existData.name),$("#J_deli_new_address_phone").val(existData.tel),$("#J_deli_new_address_address").val(existData.address).css("color","#666666"),_.each($("#J_deli_new_address_province option"),function(item,index){$(item).text()==existData.province&&$(item).attr("selected","selected").css("color","#666666")}),this.rerenderCity(),_.each($("#J_deli_new_address_city option"),function(item,index){itemValue=$(item).text().indexOf("(")>0?$(item).text().split("(")[0]:$(item).text(),itemValue==existData.city&&$(item).attr("selected","selected").css("color","#666666")}),target.parents(".showOverflow").siblings(".delivery_new_address_bar").find(".deli_new_add_save").removeClass("deli_new_add_save").addClass("deliStoreEditData"),$(".deliStoreEditData").attr("data-index",add_index),target.parents(".showOverflow").siblings(".delivery_new_address_bar").find(".add_new_address").html("编辑新地址"),target.parents(".showOverflow").siblings(".delivery_new_address_bar").show(),$("#J_delivery_dialog").height()>850&&$(".delivery_con").css({height:"714px"}),this.tScrollObj.scrollY($("#J_delivery_new_address_bar")),this.showCenter($("#J_delivery_dialog"))},storeEditedData:function(e){var target=$(e.currentTarget),editIndex=+target.attr("data-index"),allData=this.getAllInputData(target),addRess=pageDataObj.deliveryAddress,userWantEditAdd=target.parents(".delivery_new_address_bar").siblings(".showOverflow").find(".delivery_address_list").eq(editIndex),receiptWantEditAdd=$(".receipt_new_address_bar").siblings(".showOverflow").find(".receipt_address_list").eq(editIndex),isRighr=this.checkWhetherEmpty();if(isRighr){if(!this.checkPhone($("#J_deli_new_address_phone").val()))return this.showErr("format"),!1;var o=allData.province+allData.city+allData.address+"("+allData.phone+")";Receipt.updateUserAddress({addressId:addRess[editIndex].addressId,isDefault:addRess[editIndex].isDefault,receiver_name:allData.name,province:allData.provinceCode,city:allData.cityCode,address:allData.address,tel_num:allData.phone}).done(function(res){res&&res.success?(userWantEditAdd.find(".con_name span").text(allData.name),userWantEditAdd.find(".addRess span").text(o),userWantEditAdd.find(".addRess span").attr("title",o),userWantEditAdd.find(".addRess").attr({"data-name":allData.name,"data-province":allData.province,"data-city":allData.city,"data-address":allData.address,"data-tel":allData.phone}),receiptWantEditAdd.find(".con_name span").text(allData.name),receiptWantEditAdd.find(".addRess span").text(o),receiptWantEditAdd.find(".addRess span").attr("title",o),receiptWantEditAdd.find(".addRess").attr({"data-name":allData.name,"data-province":allData.province,"data-city":allData.city,"data-address":allData.address,"data-tel":allData.phone}),target.removeClass("deliStoreEditData").addClass("deli_new_add_save"),Delivery.destroyAllData(),$(".delivery_con").css({height:"auto"}),Delivery.showCenter($("#J_delivery_dialog"))):(target.removeClass("deliStoreEditData").addClass("deli_new_add_save"),Delivery.destroyAllData(),$(".delivery_con").css({height:"auto"}),Delivery.showCenter($("#J_delivery_dialog")),Receipt.operationAddressError("保存地址"))}).fail(function(res){target.removeClass("deliStoreEditData").addClass("deli_new_add_save"),Delivery.destroyAllData(),$(".delivery_con").css({height:"auto"}),Delivery.showCenter($("#J_delivery_dialog")),Receipt.operationAddressError("保存地址")})}},restOrderAddress:function(data){return $.ajax({url:"tn?r=user/user/ModifyGiftAddress",data:data,type:"POST",dataType:"json",timeout:3e5})},getAllInputData:function(target){var cityName;target.parent(".over_btn").prev("table");return cityName=$("#J_deli_new_address_city option:selected").text().indexOf("(")>0?$("#J_deli_new_address_city option:selected").text().split("(")[0]:$("#J_deli_new_address_city option:selected").text(),{name:$("#J_deli_new_address_name").val(),phone:$("#J_deli_new_address_phone").val(),province:$("#J_deli_new_address_province option:selected").text(),provinceCode:$("#J_deli_new_address_province option:selected").val().split("_")[1],city:cityName,cityCode:$("#J_deli_new_address_city option:selected").val().split("_")[1],address:$("#J_deli_new_address_address").val()}},showErr:function(key){var err={name:"收件人必填",province:"请选择省市",city:"请选择省市",address:"详细地址必填",postCode:"收件人邮编不能为空",areaCode:"区号不能为空",tel:"电话号码和手机必须填写一项",phone:"手机号必填",format:"请输入正确的手机号码"};$(".err_"+key).html("<img src='//ssl3.tuniucdn.com/img/201604072050/bookOnline/order_detail/error.png'>"+err[key])},hideErr:function(key){$(".err_"+key).text("")},rerenderCity:function(){var province=$("#J_deli_new_address_province").val();switch(province){case"安徽_100":var cityOptions=new Array("合肥(*)","合肥_102","芜湖","芜湖_120","蚌埠","蚌埠_104","淮南","淮南_112","马鞍山","马鞍山_116","淮北","淮北_110","铜陵","铜陵_118","安庆","安庆_103","黄山","黄山_113","滁州","滁州_107","阜阳","阜阳_108","宿州","宿州_117","巢湖","巢湖_106","六安","六安_115","亳州","亳州_105","池州","池州_109","宣城","宣城_121","屯溪","屯溪_119","九华山","九华山_114","其它","其它_101");break;case"北京_200":var cityOptions=new Array("东城","东城_202","西城","西城_203","崇文","崇文_204","宣武","宣武_205","朝阳","朝阳_206","丰台","丰台_207","石景山","石景山_208","海淀","海淀_209","门头沟","门头沟_210","房山","房山_211","通州","通州_212","顺义","顺义_213","昌平","昌平_214","大兴","大兴_215","平谷","平谷_216","怀柔","怀柔_217","密云","密云_218","延庆","延庆_219","其它","其它_201");break;case"重庆_300":var cityOptions=new Array("渝中","渝中_304","大渡口","大渡口_305","江北","江北_306","沙坪坝","沙坪坝_307","九龙坡","九龙坡_308","南岸","南岸_309","北碚","北碚_310","万盛","万盛_311","双挢","双挢_312","渝北","渝北_313","巴南","巴南_314","万州","万州_302","涪陵","涪陵_303","黔江","黔江_315","长寿","长寿_316","綦江","綦江_317","潼南","潼南_318","铜梁","铜梁_319","大足","大足_320","荣昌","荣昌_321","壁山","壁山_322","垫江","垫江_326","武隆","武隆_327","丰都","丰都_325","城口","城口_324","梁平","梁平_323","开县","开县_329","云阳","云阳_330","奉节","奉节_331","巫山","巫山_332","巫溪","巫溪_333","忠县","忠县_328","石柱","石柱_334","秀山","秀山_335","酉阳","酉阳_336","彭水","彭水_337","江津","江津_338","合川","合川_339","永川","永川_340","南川","南川_341","其它","其它_301");break;case"福建_400":var cityOptions=new Array("福州(*)","福州_402","厦门","厦门_414","莆田","莆田_407","三明","三明_409","泉州","泉州_408","漳州","漳州_415","南平","南平_405","龙岩","龙岩_404","宁德","宁德_406","武夷山","武夷山_413","其它","其它_401");break;case"甘肃_500":var cityOptions=new Array("兰州(*)","兰州_502","金昌","金昌_507","白银","白银_503","天水","天水_511","嘉峪关市","嘉峪关市_516","武威","武威_513","张掖","张掖_515","平凉","平凉_510","酒泉","酒泉_508","庆阳","庆阳_514","定西","定西_504","陇南","陇南_512","临夏","临夏_509","甘南","甘南_506","敦煌","敦煌_505","其它","其它_501");break;case"广东_600":var cityOptions=new Array("广州(*)","广州_602","深圳","深圳_619","珠海","珠海_628","汕头","汕头_616","韶关","韶关_618","佛山","佛山_607","江门","江门_610","湛江","湛江_625","茂名","茂名_613","肇庆","肇庆_626","惠州","惠州_609","梅州","梅州_614","汕尾","汕尾_617","河源","河源_608","阳江","阳江_621","清远","清远_615","东莞","东莞_606","中山","中山_627","潮州","潮州_604","揭阳","揭阳_611","云浮","云浮_623","其它","其它_601");break;case"广西_700":var cityOptions=new Array("南宁(*)","南宁_702","柳州","柳州_709","桂林","桂林_705","梧州","梧州_711","北海","北海_704","防城港","防城港_706","钦州","钦州_710","贵港","贵港_713","玉林","玉林_712","百色","百色_703","贺州","贺州_708","河池","河池_707","来宾","来宾_714","崇左","崇左_715","其它","其它_701");break;case"贵州_800":var cityOptions=new Array("贵阳(*)","贵阳_802","六盘水","六盘水_807","遵义","遵义_811","安顺","安顺_803","铜仁","铜仁_808","毕节","毕节_804","黔南布依族苗族自治州","黔南布依族苗族自治州_805","黔东南苗族侗族自治州","黔东南苗族侗族自治州_806","黔西南布依族苗族自治州","黔西南布依族苗族自治州_809","其它","其它_801");break;case"海南_900":var cityOptions=new Array("海口(*)","海口_902","三亚","三亚_906","文昌","文昌_909","琼海","琼海_905","万宁","万宁_908","五指山","五指山_910","东方","东方_911","儋州","儋州_903","临高","临高_912","澄迈","澄迈_913","定安","定安_914","屯昌","屯昌_915","昌江","昌江_916","白沙","白沙_917","琼中","琼中_918","陵水","陵水_904","保亭","保亭_919","乐东","乐东_907","西南中沙群岛","西南中沙群岛_920","其它","其它_901");break;case"河北_1000":var cityOptions=new Array("石家庄(*)","石家庄_1002","唐山","唐山_1013","秦皇岛","秦皇岛_1012","邯郸","邯郸_1008","邢台","邢台_1015","保定","保定_1003","张家口","张家口_1016","承德","承德_1006","沧州","沧州_1005","廊坊","廊坊_1010","衡水","衡水_1009","其它","其它_1001");break;case"黑龙江_1100":var cityOptions=new Array("哈尔滨(*)","哈尔滨_1102","齐齐哈尔","齐齐哈尔_1111","鸡西","鸡西_1109","鹤岗","鹤岗_1106","双鸭山","双鸭山_1113","大庆","大庆_1104","伊春","伊春_1115","佳木斯","佳木斯_1108","七台河","七台河_1112","牡丹江","牡丹江_1110","黑河","黑河_1107","绥化","绥化_1114","大兴安岭","大兴安岭_1105","其它","其它_1101");break;case"河南_1200":var cityOptions=new Array("郑州(*)","郑州_1202","开封","开封_1208","洛阳","洛阳_1210","平顶山","平顶山_1212","焦作","焦作_1206","鹤壁","鹤壁_1204","新乡","新乡_1216","安阳","安阳_1203","濮阳","濮阳_1213","许昌","许昌_1218","漯河","漯河_1209","三门峡","三门峡_1214","南阳","南阳_1211","商丘","商丘_1215","信阳","信阳_1217","周口","周口_1219","驻马店","驻马店_1220","济源","济源_1207","其它","其它_1201");break;case"香港_1300":var cityOptions=new Array("香港","香港_1302","九龙","九龙_1303","新界","新界_1304","其它","其它_1301");break;case"湖北_1400":var cityOptions=new Array("武汉(*)","武汉_1402","黄石","黄石_1406","襄樊","襄樊_1416","十堰","十堰_1410","荆州","荆州_1408","宜昌","宜昌_1418","鄂州","鄂州_1404","孝感","孝感_1417","黄冈","黄冈_1405","咸宁","咸宁_1414","随州","随州_1411","恩施","恩施_1403","仙桃","仙桃_1413","潜江","潜江_1409","天门","天门_1407","神农架","神农架_1412","荆门","荆门_1419","其它","其它_1401");break;case"湖南_1500":var cityOptions=new Array("长沙(*)","长沙_1502","株洲","株洲_1515","湘潭","湘潭_1510","衡阳","衡阳_1505","邵阳","邵阳_1509","岳阳","岳阳_1512","常德","常德_1503","张家界","张家界_1514","益阳","益阳_1511","郴州","郴州_1504","永州","永州_1513","怀化","怀化_1506","娄底","娄底_1508","湘西","湘西_1507","其它","其它_1501");break;case"江苏_1600":var cityOptions=new Array("南京(*)","南京_1602","常州","常州_1604","淮安","淮安_1606","连云港","连云港_1610","南通","南通_1611","宿迁","宿迁_1614","苏州","苏州_1615","泰州","泰州_1617","同里","同里_1618","无锡","无锡_1619","徐州","徐州_1620","盐城","盐城_1621","扬州","扬州_1622","镇江","镇江_1626","周庄","周庄_1627","其它","其它_1601");break;case"江西_1700":var cityOptions=new Array("南昌(*)","南昌_1702","景德镇","景德镇_1706","萍乡","萍乡_1710","九江","九江_1708","新余","新余_1712","鹰潭","鹰潭_1714","赣州","赣州_1704","吉安","吉安_1705","宜春","宜春_1713","抚州","抚州_1703","上饶","上饶_1711","井冈山","井冈山_1707","庐山","庐山_1709","其它","其它_1701");break;case"吉林_1800":var cityOptions=new Array("长春(*)","长春_1802","吉林","吉林_1808","四平","四平_1809","辽源","辽源_1806","通化","通化_1811","白山","白山_1804","松原","松原_1810","白城","白城_1803","延边","延边_1812","其它","其它_1801");break;case"辽宁_1900":var cityOptions=new Array("沈阳(*)","沈阳_1902","大连","大连_1906","鞍山","鞍山_1903","抚顺","抚顺_1908","本溪","本溪_1904","丹东","丹东_1907","锦州","锦州_1911","营口","营口_1915","阜新","阜新_1909","辽阳","辽阳_1912","盘锦","盘锦_1913","铁岭","铁岭_1914","朝阳","朝阳_1905","葫芦岛","葫芦岛_1910","其它","其它_1901");break;case"澳门_2000":var cityOptions=new Array("澳门","澳门_2002","其它","其它_2001");break;case"内蒙古_2100":var cityOptions=new Array("呼和浩特(*)","呼和浩特_2102","包头","包头_2104","乌海","乌海_2111","赤峰","赤峰_2105","通辽","通辽_2110","鄂尔多斯","鄂尔多斯_2106","呼伦贝尔","呼伦贝尔_2107","巴彦淖尔","巴彦淖尔_2109","乌兰察布","乌兰察布_2108","锡林郭勒","锡林郭勒_2113","兴安","兴安_2112","阿拉善盟","阿拉善盟_2103","其它","其它_2101");break;case"宁夏_2200":var cityOptions=new Array("银川(*)","银川_2202","固源","固源_2203","石嘴山","石嘴山_2204","吴忠","吴忠_2205","中卫 ","中卫_2206","其它","其它_2201");break;case"青海_2300":var cityOptions=new Array("西宁(*)","西宁_2302","海东","海东_2306","海西","海西_2303","海南","海南_2305","海北","海北_2307","果洛","果洛_2308","黄南","黄南_2309","玉树","玉树_2310","其它","其它_2301");break;case"山东_2400":var cityOptions=new Array("济南(*)","济南_2402","青岛","青岛_2413","淄博","淄博_2421","枣庄","枣庄_2420","东营","东营_2406","烟台","烟台_2419","潍坊","潍坊_2417","威海","威海_2418","济宁","济宁_2408","泰安","泰安_2416","日照","日照_2415","莱芜","莱芜_2409","临沂","临沂_2411","德州","德州_2405","聊城","聊城_2410","滨州","滨州_2403","菏泽","菏泽_2407","其它","其它_2401");break;case"上海_2500":var cityOptions=new Array("崇明","崇明_2502","黄浦","黄浦_2503","卢湾","卢湾_2504","徐汇","徐汇_2505","长宁","长宁_2506","静安","静安_2507","普陀","普陀_2508","闸北","闸北_2509","虹口","虹口_2510","杨浦","杨浦_2511","闵行","闵行_2512","宝山","宝山_2513","嘉定","嘉定_2514","浦东","浦东_2515","金山","金山_2516","松江","松江_2517","青浦","青浦_2518","南汇","南汇_2519","奉贤","奉贤_2520","其它","其它_2501");break;case"山西_2600":var cityOptions=new Array("太原(*)","太原_2602","大同","大同_2604","阳泉","阳泉_2611","长治","长治_2603","晋城","晋城_2606","朔州","朔州_2605","晋中","晋中_2612","运城","运城_2613","忻州","忻州_2610","临汾","临汾_2608","吕梁","吕梁_2607","其它","其它_2601");break;case"陕西_2700":var cityOptions=new Array("西安(*)","西安_2702","铜川","铜川_2709","宝鸡","宝鸡_2704","咸阳","咸阳_2710","渭南","渭南_2706","延安","延安_2711","汉中","汉中_2705","榆林","榆林_2712","安康","安康_2703","商洛","商洛_2707","其它","其它_2701");break;case"四川_2800":var cityOptions=new Array("成都(*)","成都_2802","自贡","自贡_2826","攀枝花","攀枝花_2820","泸州","泸州_2814","德阳","德阳_2805","绵阳","绵阳_2816","广元","广元_2810","遂宁","遂宁_2821","内江","内江_2819","乐山","乐山_2813","南充","南充_2818","眉山","眉山_2817","宜宾","宜宾_2825","广安","广安_2809","达州","达州_2804","雅安","雅安_2824","巴中","巴中_2803","资阳","资阳_2827","阿坝","阿坝_2815","甘孜","甘孜_2812","凉山","凉山_2823","峨眉山","峨眉山_2807","九寨沟","九寨沟_2811","其它","其它_2801");break;case"台湾_2900":var cityOptions=new Array("台北(*)","台北_2902","高雄","高雄_2906","基隆","基隆_2903","台南","台南_2904","台中","台中_2905","新竹","新竹_2910","嘉义","嘉义_2913","宜兰","宜兰_2916","桃园","桃园_2915","苗栗","苗栗_2912","彰化","彰化_2911","南投","南投_2908","云林","云林_2909","屏东","屏东_2907","台东","台东_2917","花莲","花莲_2914","澎湖","澎湖_2920","金门","金门_2918","马祖","马祖_2919","其它","其它_2901");break;case"天津_3000":var cityOptions=new Array("和平","和平_3003","东丽","东丽_3004","河东","河东_3005","西青","西青_3006","河西","河西_3007","津南","津南_3008","南开","南开_3009","北辰","北辰_3010","河北","河北_3011","武清","武清_3012","红桥","红桥_3013","塘沽","塘沽_3014","汉沽","汉沽_3015","大港","大港_3016","宁河","宁河_3017","静海","静海_3018","宝坻","宝坻_3019","蓟县","蓟县_3020","其它","其它_3001");break;case"新疆_3100":var cityOptions=new Array("乌鲁木齐(*)","乌鲁木齐_3102","克拉玛依","克拉玛依_3112","吐鲁番","吐鲁番_3118","哈密","哈密_3109","和田","和田_3110","阿克苏","阿克苏_3103","喀什","喀什_3111","克孜勒苏柯尔克孜","克孜勒苏柯尔克孜_3105","巴音郭楞蒙古","巴音郭楞蒙古_3114","昌吉","昌吉_3107","博尔塔拉蒙古","博尔塔拉蒙古_3106","伊犁哈萨克","伊犁哈萨克_3119","塔城","塔城_3117","阿勒泰","阿勒泰_3104","石河子","石河子_3116","阿拉尔","阿拉尔_3108","图木舒克","图木舒克_3113","五家渠","五家渠_3115","其它","其它_3101");break;case"西藏_3200":var cityOptions=new Array("拉萨(*)","拉萨_3202","阿里","阿里_3203","昌都","昌都_3204","林芝","林芝_3205","那曲","那曲_3206","日喀则","日喀则_3207","山南","山南_3208","其它","其它_3201");break;case"云南_3300":var cityOptions=new Array("昆明(*)","昆明_3302","曲靖","曲靖_3315","玉溪","玉溪_3319","保山","保山_3304","昭通","昭通_3321","丽江","丽江_3312","思茅","思茅_3316","临沧","临沧_3311","文山","文山_3317","红河","红河_3308","西双版纳","西双版纳_3318","楚雄","楚雄_3305","大理","大理_3306","德宏","德宏_3314","怒江","怒江_3313","迪庆","迪庆_3320","昭通","昭通_3321","其它","其它_3301");break;case"浙江_3400":var cityOptions=new Array("杭州(*)","杭州_3402","宁波","宁波_3415","温州","温州_3426","嘉兴","嘉兴_3410","湖州","湖州_3409","绍兴","绍兴_3422","金华","金华_3411","衢州","衢州_3419","舟山","舟山_3427","台州","台州_3424","丽水","丽水_3414","安吉","安吉_3403","千岛湖","千岛湖_3418","其它","其它_3401");break;case"欧洲_3600":var cityOptions=new Array("爱尔兰","爱尔兰_3602","比利时","比利时_3603","法国","法国_3604","荷兰","荷兰_3605","卢森堡","卢森堡_3606","摩纳哥","摩纳哥_3607","英国","英国_3608","冰岛","冰岛_3609","丹麦","丹麦_3610","芬兰","芬兰_3611","挪威","挪威_3612","瑞典","瑞典_3613","奥地利","奥地利_3614","波兰","波兰_3615","德国","德国_3616","捷克共和国","捷克共和国_3617","列支敦士登","列支敦士登_3618","瑞士","瑞士_3619","斯洛伐克","斯洛伐克_3620","匈牙利","匈牙利_3621","爱沙尼亚","爱沙尼亚_3622","白俄罗斯","白俄罗斯_3623","俄罗斯","俄罗斯_3624","拉脱维亚","拉脱维亚_3625","立陶宛","立陶宛_3626","摩尔多瓦","摩尔多瓦_3627","乌克兰","乌克兰_3628","阿尔巴尼亚","阿尔巴尼亚_3629","波斯尼亚和黑塞哥维那","波斯尼亚和黑塞哥维那_3630","保加利亚","保加利亚_3631","梵蒂冈","梵蒂冈_3632","克罗地亚","克罗地亚_3633","罗马尼亚","罗马尼亚_3634","马其顿","马其顿_3635","马耳他","马耳他_3636","黑山","黑山_3637","葡萄牙","葡萄牙_3638","斯洛文尼亚","斯洛文尼亚_3639","塞浦路斯","塞浦路斯_3640","塞尔维亚","塞尔维亚_3641","圣马力诺","圣马力诺_3642","希腊","希腊_3643","西班牙","西班牙_3644","意大利","意大利_3645","安道尔","安道尔_3646","其它","其它_3601");break;case"北美洲_3700":var cityOptions=new Array("安圭拉","安圭拉_3702","安提瓜和巴布达","安提瓜和巴布达_3703","阿鲁巴","阿鲁巴_3704","巴哈马","巴哈马_3705","巴巴多斯","巴巴多斯_3706","伯利兹","伯利兹_3707","百慕大群岛","百慕大群岛_3708","英属维京群岛","英属维京群岛_3709","加拿大","加拿大_3710","开曼群岛","开曼群岛_3711","哥斯达黎加","哥斯达黎加_3712","古巴","古巴_3713","多米尼克","多米尼克_3714","多米尼加共和国","多米尼加共和国_3715","萨尔瓦多","萨尔瓦多_3716","格陵兰","格陵兰_3717","格林纳达","格林纳达_3718","瓜德洛普","瓜德洛普_3719","危地马拉","危地马拉_3720","海地","海地_3721","洪都拉斯","洪都拉斯_3722","牙买加","牙买加_3723","马提尼克","马提尼克_3724","墨西哥","墨西哥_3725","蒙特塞拉特 ","蒙特塞拉特 _3726","纳弗沙岛","纳弗沙岛_3727","荷属安的列斯","荷属安的列斯_3728","尼加拉瓜","尼加拉瓜_3729","巴拿马","巴拿马_3730","波多黎各","波多黎各_3731","圣克里斯多福与尼维斯","圣克里斯多福与尼维斯_3732","圣卢西亚","圣卢西亚_3733","圣皮耶与密克隆群岛","圣皮耶与密克隆群岛_3734","圣文森特和格林纳丁斯","圣文森特和格林纳丁斯_3735","特立尼达及多巴哥","特立尼达及多巴哥_3736","特克斯与凯科斯群岛","特克斯与凯科斯群岛_3737","美国","美国_3738","美属维京群岛 ","美属维京群岛 _3739","其它","其它_3701");break;case"南美洲_3800":var cityOptions=new Array("厄瓜多尔","厄瓜多尔_3802","哥伦比亚","哥伦比亚_3803","委内瑞拉","委内瑞拉_3804","秘鲁","秘鲁_3805","巴西","巴西_3806","智利","智利_3807","乌拉圭","乌拉圭_3808","巴拉圭","巴拉圭_3809","阿根廷","阿根廷_3810","玻利维亚","玻利维亚_3811","圭亚那","圭亚那_3812","苏里南","苏里南_3813","法属圭亚那","法属圭亚那_3814","其它","其它_3801");break;case"亚洲_3900":var cityOptions=new Array("蒙古","蒙古_3902","朝鲜","朝鲜_3903","韩国","韩国_3904","日本","日本_3905","越南","越南_3906","老挝","老挝_3907","柬埔寨","柬埔寨_3908","缅甸","缅甸_3909","泰国","泰国_3910","马来西亚","马来西亚_3911","新加坡","新加坡_3912","文莱","文莱_3913","菲律宾","菲律宾_3914","印度尼西亚","印度尼西亚_3915","锡金","锡金_3916","不丹","不丹_3917","孟加拉国","孟加拉国_3918","印度","印度_3919","斯里兰卡","斯里兰卡_3920","哈萨克斯坦","哈萨克斯坦_3921","马尔代夫","马尔代夫_3922","吉尔吉斯斯坦","吉尔吉斯斯坦_3923","塔吉克斯坦","塔吉克斯坦_3924","乌兹别可斯坦","乌兹别可斯坦_3915","土库曼斯坦","土库曼斯坦_3926","格鲁吉亚","格鲁吉亚_3927","阿塞拜疆","阿塞拜疆_3928","巴基斯坦","巴基斯坦_3929","阿富汗","阿富汗_3930","伊朗","伊朗_3931","科威特","科威特_3932","沙特阿拉伯","沙特阿拉伯_3933","巴林","巴林_3934","卡塔尔","卡塔尔_3935","阿拉伯联合酋长国","阿拉伯联合酋长国_3936","阿曼","阿曼_3937","也门","也门_3938","伊拉克","伊拉克_3939","叙利亚","叙利亚_3940","黎巴嫩","黎巴嫩_3941","约旦","约旦_3942","巴勒斯坦国","巴勒斯坦国_3943","以色列","以色列_3944","塞浦路斯","塞浦路斯_3945","土耳其","土耳其_3946","东帝汶","东帝汶_3947","尼泊尔","尼泊尔_3948","亚美尼亚","亚美尼亚_3949","其它","其它_3901");break;case"非洲_4000":var cityOptions=new Array("埃及","埃及_4002","利比亚","利比亚_4003","突尼斯","突尼斯_4004","阿尔及利亚","阿尔及利亚_4005","摩洛哥","摩洛哥_4006","西撒哈拉","西撒哈拉_4007","毛里塔尼亚","毛里塔尼亚_4008","塞内加尔","塞内加尔_4009","冈比亚","冈比亚_4010","马里","马里_4011","布基纳法索","布基纳法索_4012","佛得角","佛得角_4013","几内亚比绍","几内亚比绍_4014","苏丹","苏丹_4015","埃塞俄比亚","埃塞俄比亚_4016","厄立特里亚","厄立特里亚_4017","吉布提","吉布提_4018","索马里","索马里_4019","肯尼亚","肯尼亚_4020","乌干达","乌干达_4021","坦桑尼亚","坦桑尼亚_4022","卢旺达","卢旺达_4023","布隆迪","布隆迪_4024","刚果民主共和国","刚果民主共和国_4025","刚果","刚果_4026","加蓬","加蓬_4027","圣多美和普林西比","圣多美和普林西比_4028","安哥拉","安哥拉_4029","几内亚","几内亚_4030","塞拉利昂","塞拉利昂_4031","利比里亚","利比里亚_4032","科特迪瓦","科特迪瓦_4033","加纳","加纳_4034","多哥","多哥_4035","贝宁","贝宁_4036","尼日尔","尼日尔_4037","尼日利亚","尼日利亚_4038","喀麦隆","喀麦隆_4039","赤道几内亚","赤道几内亚_4040","乍得","乍得_4041","中非","中非_4042","赞比亚","赞比亚_4043","马拉维","马拉维_4044","莫桑比克","莫桑比克_4045","科摩罗","科摩罗_4046","马达加斯加","马达加斯加_4047","塞舌尔","塞舌尔_4048","毛里求斯","毛里求斯_4049","留尼汪（法）","留尼汪（法）_4050","津巴布韦","津巴布韦_4051","博茨瓦纳","博茨瓦纳_4052","纳米比亚","纳米比亚_4053","南非","南非_4054","斯威士兰","斯威士兰_4055","莱索托","莱索托_4056","圣赫勒拿（英）","圣赫勒拿（英）_4057","其它","其它_4001");break;case"大洋洲_4100":var cityOptions=new Array("澳大利亚","澳大利亚_4102","新西兰","新西兰_4103","巴布亚新几内亚","巴布亚新几内亚_4104","所罗门群岛","所罗门群岛_4105","瓦努阿图","瓦努阿图_4106","新喀里多尼亚（法）","新喀里多尼亚（法）_4107","斐济群岛","斐济群岛_4108","基里巴斯","基里巴斯_4109","瑙鲁","瑙鲁_4110","密克罗尼西亚联邦","密克罗尼西亚联邦_4111","马绍尔群岛","马绍尔群岛_4112","帕劳","帕劳_4113","北马里亚那群岛","北马里亚那群岛_4114","关岛（英）","关岛（英）_4115","图瓦卢","图瓦卢_4116","瓦利斯和富图那（法）","瓦利斯和富图那（法）_4117","萨摩亚","萨摩亚_4118","美属萨摩亚","美属萨摩亚_4119","纽埃（新）","纽埃（新）_4120","托克劳（新）","托克劳（新）_4121","库克群岛（新）","库克群岛（新）_4122","汤加","汤加_4123","法属波利尼西亚","法属波利尼西亚_4124","皮特凯恩（美）","皮特凯恩（美）_4125","诺福克岛","诺福克岛_4126","中途岛","中途岛_4127","其它","其它_4101");break;default:var cityOptions=new Array("","")}for(var html='<option selected="selected" value="">--市--</option>',i=0;i<cityOptions.length/2;i++)html+='<option value="'+cityOptions[2*i+1]+'">'+cityOptions[2*i]+"</option>";$("#J_deli_new_address_city").html(html)}};module.exports=Delivery},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(9),__webpack_require__(5),__webpack_require__(15),__webpack_require__(135),__webpack_require__(7),__webpack_require__(136),__webpack_require__(75)],__WEBPACK_AMD_DEFINE_RESULT__=function(Backbone,EventBus,Layer,deliveryAddressTemplate,Template,citys,Scroll){return Backbone.View.extend({el:"#m-float-delivery",events:{"mouseenter .delivery-address-item":"showHoverInfo","mouseleave .delivery-address-item":"hideHoverInfo","click .delivery-address-item":"selectDefaultAddress","click .cancel":"closePanel","click .book-close":"closePanel","click .confirm":"closePanel","click #J_resume_address":"resumeAddress","click #J_delete_address":"deleteAddress","click .delivery-address-add":"showAddPanel","click #canShowMore":"reSetMainHeight","blur #J_new_address_name":"valiName","blur #J_new_address_phone":"valiTel","blur #J_new_address_address":"valiAddress","focus #J_new_address_address":"addressFocus","change #J_new_address_province":"renderCity","click .address_add":"valiAll","click .address_cancel":"closeNewAddressPanel","click .no-default":"resetDefaultAddress"},initialize:function(){var self=this;this.listenTo(self.model,"render",this.render),$(window).resize(function(){self.resPosition()})},render:function(){var renderHtml=deliveryAddressTemplate(this.model.toJSON());this.$el.html(renderHtml),this.model.get("canShouMore")?this.$el.find(".delivery-main").css("max-height","none"):this.$el.find(".delivery-main").css("max-height","310px"),this.$el.show(),this.resPosition(),this.scrollObj=this.$el.find(".delivery-con").TScroll()},resPosition:function(){var $content=this.$el.find(".float-content"),mgTop=($(window).height()-$content.height())/2,mgLeft=($(window).width()-$content.width())/2;$content.css("top",mgTop+"px"),$content.css("left",mgLeft+"px")},showHoverInfo:function(e){var target=$(e.currentTarget);target.addClass("active")},hideHoverInfo:function(e){var target=$(e.currentTarget),index=target.data("index"),isSelected=this.model.isSelected(index);isSelected||target.removeClass("active")},selectDefaultAddress:function(e){var target=$(e.currentTarget),index=target.data("index");this.$el.find(".delivery-address-item").removeClass("active"),target.addClass("active"),this.model.resetSelectObj(index)},resetDefaultAddress:function(e){var target=$(e.currentTarget),index=target.data("index");this.$el.find(".is-default").removeClass("is-default").addClass("no-default").text("设为默认地址"),target.removeClass("no-default").addClass("is-default").text("默认地址"),this.model.resetDefaultAddress(index),e.stopPropagation()},deleteAddress:function(e){var target=$(e.currentTarget).parents(".delivery-address-item"),index=target.data("index"),item=this.model.get("list")[index];EventBus.trigger("deleteDevAddress",item.address_id,index),e.stopPropagation()},reSetMainHeight:function(e){var target=$(e.currentTarget);"更多地址"==target.text()?(target.find("span").text("收起"),this.model.set("canShouMore",!0),this.$el.find(".delivery-main").css("max-height","none")):(target.find("span").text("更多地址"),this.model.set("canShouMore",!1),this.$el.find(".delivery-main").css("max-height","310px")),this.resPosition()},showAddPanel:function(){this.model.set({isShowInput:!0}),this.$el.find(".receipt-new-address-form").show(),this.scrollObj.scrollY(this.$el.find(".receipt-new-address-form")),this.clearAddressInput(),this.resPosition()},valiName:function(e){var text=e?$(e.currentTarget).val().trim():this.$el.find("#J_new_address_name").val().trim();return text?(this.$el.find(".err_name").hide(),!0):(this.showErr("name"),!1)},valiTel:function(e){var tel=e?$(e.currentTarget).val().trim():this.$el.find("#J_new_address_phone").val().trim(),partten=/^1[3,5,7,8]\d{9}$/;return partten.test(tel)?(this.$el.find(".err_tel").hide(),!0):(this.showErr("tel"),!1)},valiAddress:function(e){var address=e?$(e.currentTarget).val().trim():this.$el.find("#J_new_address_address").val().trim();return address&&this.model.get("hasFocus")?(this.$el.find(".err_address").hide(),!0):(this.showErr("address"),!1)},valiProvince:function(){return this.$el.find("#J_new_address_province").val()&&this.$el.find("#J_new_address_city").val()?(this.$el.find(".err_province").hide(),!0):(this.showErr("province"),!1)},valiAll:function(e){var ver1=this.valiName(),ver2=this.valiTel(),ver3=this.valiAddress(),ver4=this.valiProvince(),needSaveOrUpadte=ver1&&ver2&&ver3&&ver4;if(needSaveOrUpadte){var baseObj={receiver_name:this.$el.find("#J_new_address_name").val().trim(),province:this.$el.find("#J_new_address_province option:selected").val().split("_")[1],provinceName:this.$el.find("#J_new_address_province option:selected").text(),city:this.$el.find("#J_new_address_city option:selected").val().split("_")[1],cityName:this.$el.find("#J_new_address_city option:selected").text(),address:this.$el.find("#J_new_address_address").val().trim(),tel_num:this.$el.find("#J_new_address_phone").val().trim()};this.model.get("updaterAddress")?(baseObj.addressId=this.model.get("updaterAddress").address_id,baseObj.isDefault=this.model.get("updaterAddress").isDefault,EventBus.trigger("updateDeliveryAddress",baseObj)):EventBus.trigger("saveDeliveryAddress",baseObj)}},addressFocus:function(e){var address=$(e.currentTarget).val().trim();this.model.set("hasFocus",!0),address.indexOf("不需要重复填写")!=-1?($(e.currentTarget).val(""),$(e.currentTarget).css("color","#000000")):$(e.currentTarget).css("color","#000000")},renderCity:function(e){var province=$(e.currentTarget).val();this.renderCitys(province)},renderCitys:function(p){var collCityObj=citys[p],html='<option selected="selected" value="">--市--</option>';for(var k in collCityObj)html+='<option value="'+collCityObj[k]+'">'+k+"</option>";this.$el.find("#J_new_address_city").html(html)},showErr:function(key){var err={name:"收件人必填",province:"请选择省市",city:"请选择省市",address:"详细地址必填",postCode:"收件人邮编不能为空",areaCode:"区号不能为空",tel:"请输入正确的手机号码"};this.$el.find(".err_"+key).html("<img src='http://ssl3.tuniucdn.com/img/201604072050/bookOnline/error.png'>"+err[key])},closeNewAddressPanel:function(){this.$el.find(".receipt-new-address-form").hide(),this.clearAddressInput(),this.model.reset(),this.resPosition()},resumeAddress:function(e){var i=$(e.currentTarget).data("index"),list=this.model.toJSON().list,updaterAddress=list[i],provinces=this.$el.find("#J_new_address_province option");this.$el.find(".receipt-new-address-form").show(),this.scrollObj.scrollY(this.$el.find(".receipt-new-address-form")),this.model.set({isShowInput:!0,updaterAddress:updaterAddress}),this.$el.find("#J_new_address_name").val(updaterAddress.user_name),this.$el.find("#J_new_address_phone").val(updaterAddress.tel),this.$el.find("#J_new_address_address").val(updaterAddress.address).css("color","#666666"),this.model.set("hasFocus",!0),_.each(provinces,function(item,index){$(item).text()==updaterAddress.provinceName&&$(item).attr("selected","selected").css("color","#666666")}),this.renderCitys(this.$el.find("#J_new_address_province").val());var renderCity=this.$el.find("#J_new_address_city option");_.each(renderCity,function(item,index){$(item).text()==updaterAddress.cityName&&$(item).attr("selected","selected").css("color","#666666")}),this.resPosition(),e.stopPropagation()},clearAddressInput:function(){this.$el.find(".receipt-new-address-form").find("input").val(""),this.$el.find(".receipt-new-address-form").find("textarea").val("不需要重复填写省市区，不小于5个字符，不超过120个字符。").css("color","#999"),this.$el.find("#J_new_address_province").find("option").eq(0).attr("selected",!0),this.$el.find("#J_new_address_city").find("option").eq(0).attr("selected",!0),this.$el.find(".err_tips").html()},openPanel:function(){},closePanel:function(e){var target=$(e.target),flag=target.hasClass("confirm");flag&&"order_detail"==pageDataObj.pageType&&this.setDefaultAddress(target),this.$el.hide(),this.model.reset()},setDefaultAddress:function(target){var receiveInfo,panelBox=target.parents(".float-content").find(".panel-box"),index=panelBox.children(".active").index(),promotionId=0;if("-1"==index)return!1;receiveInfo=this.model.selectedData(index),_.each(pageDataObj.giftOrderInfo.list,function(item){25==item.promotionTypeId&&(promotionId=item.promotionId)});var postData={orderId:pageDataObj.baseInfo.orderId,promotionIds:[promotionId],receiveProvinceCode:receiveInfo.provinceCode,receiveProvinceName:receiveInfo.provinceName,receiveCityCode:receiveInfo.cityCode,receiveCityName:receiveInfo.cityName,receiveDistrictCode:"",receiveDistrictName:"",receiveDetailAddress:receiveInfo.address,receiveTel:receiveInfo.tel,receiveName:receiveInfo.user_name,receivePostCode:""};EventBus.trigger("restOrderAddress",postData,receiveInfo)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(fn){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=fn,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function(template){function anonymous($data,$filename){"use strict";var $utils=this,_=($utils.$helpers,$data._),list=$data.list,$escape=($data.item,$data.index,$utils.$escape),canShouMore=$data.canShouMore,isShowInput=$data.isShowInput,$out="";return $out+='<div class="float-bg"></div>\r\n<div class="float-content">\r\n\t<header class="float-header">\r\n\t\t<h2 class="active">配送地址</h2>\r\n\t\t<span><i class="icon book-close"></i></span>\r\n\t</header>\r\n\r\n\t<div class="delivery-con">\r\n\t\t<div class="delivery-main">\r\n\t\t\t<div class="panel-box">\r\n\t\t\t\t',_.each(list,function(item,index){$out+='\r\n\t\t\t\t<div class="panel delivery-address-item ',item.selected&&($out+="active"),$out+='" data-index="',$out+=$escape(index),$out+='">\r\n\t\t\t\t\t<div class="panel-body">\r\n\t\t\t\t\t\t<p class="panel-title">',$out+=$escape(item.provinceName),$out+=" ",$out+=$escape(item.cityName),$out+="(",$out+=$escape(item.user_name),$out+=' 收)</p>\r\n\t\t\t\t\t\t<div class="panel-main">\r\n\t\t\t\t\t\t\t<p>',$out+=$escape(item.tel),$out+='</p>\r\n\t\t\t\t\t\t\t<p class="detail-add f-ol">',$out+=$escape(item.address),$out+='</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class="panel-footer">\r\n\t\t\t\t\t\t\t<div class="footer-left">\r\n\t\t\t\t\t\t\t\t<span class="edit" id="J_resume_address" data-index="',$out+=$escape(index),$out+='">修改</span>\r\n\t\t\t\t\t\t\t\t<span class="line"></span>\r\n\t\t\t\t\t\t\t\t<span id="J_delete_address" class="delete">删除</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class="footer-right">\r\n\t\t\t\t\t\t\t\t',item.isDefault?$out+='\r\n\t\t\t\t\t\t\t\t<span class="defaults-address is-default">默认地址</span>\r\n\t\t\t\t\t\t\t\t':($out+='\r\n\t\t\t\t\t\t\t\t<span class="defaults-address no-default" data-index="',$out+=$escape(index),$out+='">设为默认地址</span>\r\n\t\t\t\t\t\t\t\t'),$out+="\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t",item.selected&&($out+='\r\n\t\t\t\t\t\t<div class="user-selected"><img class="" src="//img3.tuniucdn.com/img/201510131901/bookOnline/user-selected.png" alt=""></div>\r\n\t\t\t\t\t\t'),$out+="\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t"}),$out+='\r\n\t\t\t\t<div class="panel delivery-address-add">\r\n\t\t\t\t\t<div class="panel-main"><img class="add-address" src="http://img3.tuniucdn.com/img/201510131901/bookOnline/add.png" alt=""></div>\r\n\t\t\t\t\t<div class="add-text">添加收货人信息</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class="clear-float"></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t',list&&list.length>=6&&($out+='\r\n\t\t<div class="click-to-more-address">\r\n\t\t\t',$out+=canShouMore?'\r\n\t\t\t<span id="canShowMore" class="moreAddress"><span>收起</span><i class="icon less-tourist-icon"></i></span>\r\n\t\t\t':'\r\n\t\t\t<span id="canShowMore" class="moreAddress"><span>更多地址</span><i class="icon more-tourist-icon"></i></span>\r\n\t\t\t',$out+="\r\n\t\t</div>\r\n\t\t"),$out+='\r\n\r\n\t\t<div class="receipt-new-address-form',isShowInput||($out+=" hide"),$out+='">\r\n\r\n\t\t\t<div>\r\n\t\t\t\t<span class="add-consignee-info">添加收货人信息</span>\r\n\t\t\t</div>\r\n\r\n\t\t\t<table>\r\n\t\t\t\t<tbody>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td class="receipt_info_title">收件人</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<input type="text" id="J_new_address_name" class="new_address_input" maxlength="10" placeholder="请输入收件人姓名" onfocus="this.placeholder=\'\'" onblur="this.placeholder=\'请输入收件人姓名\'">\r\n\t\t\t\t\t\t<span class="err_tips err_name"></span>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td class="receipt_info_title">手机号</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<input type="text" id="J_new_address_phone" class="new_address_input" placeholder="请输入收件人手机号码" onfocus="this.placeholder=\'\'" onblur="this.placeholder=\'请输入收件人手机号码\'">\r\n\t\t\t\t\t\t<span class="err_tips err_tel"></span>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td class="receipt_info_title">所在地区</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<select name="" id="J_new_address_province">\r\n\t\t\t\t\t\t\t<option selected="selected" value="">省</option>\r\n\t\t\t\t\t\t\t<option value="安徽_100">安徽</option>\r\n\t\t\t\t\t\t\t<option value="北京_200">北京</option>\r\n\t\t\t\t\t\t\t<option value="重庆_300">重庆</option>\r\n\t\t\t\t\t\t\t<option value="福建_400">福建</option>\r\n\t\t\t\t\t\t\t<option value="甘肃_500">甘肃</option>\r\n\t\t\t\t\t\t\t<option value="广东_600">广东</option>\r\n\t\t\t\t\t\t\t<option value="广西_700">广西</option>\r\n\t\t\t\t\t\t\t<option value="贵州_800">贵州</option>\r\n\t\t\t\t\t\t\t<option value="海南_900">海南</option>\r\n\t\t\t\t\t\t\t<option value="河北_1000">河北</option>\r\n\t\t\t\t\t\t\t<option value="黑龙江_1100">黑龙江</option>\r\n\t\t\t\t\t\t\t<option value="河南_1200">河南</option>\r\n\t\t\t\t\t\t\t<option value="香港_1300">香港</option>\r\n\t\t\t\t\t\t\t<option value="湖北_1400">湖北</option>\r\n\t\t\t\t\t\t\t<option value="湖南_1500">湖南</option>\r\n\t\t\t\t\t\t\t<option value="江苏_1600">江苏</option>\r\n\t\t\t\t\t\t\t<option value="江西_1700">江西</option>\r\n\t\t\t\t\t\t\t<option value="吉林_1800">吉林</option>\r\n\t\t\t\t\t\t\t<option value="辽宁_1900">辽宁</option>\r\n\t\t\t\t\t\t\t<option value="澳门_2000">澳门</option>\r\n\t\t\t\t\t\t\t<option value="内蒙古_2100">内蒙古</option>\r\n\t\t\t\t\t\t\t<option value="宁夏_2200">宁夏</option>\r\n\t\t\t\t\t\t\t<option value="青海_2300">青海</option>\r\n\t\t\t\t\t\t\t<option value="山东_2400">山东</option>\r\n\t\t\t\t\t\t\t<option value="上海_2500">上海</option>\r\n\t\t\t\t\t\t\t<option value="山西_2600">山西</option>\r\n\t\t\t\t\t\t\t<option value="陕西_2700">陕西</option>\r\n\t\t\t\t\t\t\t<option value="四川_2800">四川</option>\r\n\t\t\t\t\t\t\t<option value="台湾_2900">台湾</option>\r\n\t\t\t\t\t\t\t<option value="天津_3000">天津</option>\r\n\t\t\t\t\t\t\t<option value="新疆_3100">新疆</option>\r\n\t\t\t\t\t\t\t<option value="西藏_3200">西藏</option>\r\n\t\t\t\t\t\t\t<option value="云南_3300">云南</option>\r\n\t\t\t\t\t\t\t<option value="浙江_3400">浙江</option>\r\n\t\t\t\t\t\t\t<option value="欧洲_3600">欧洲</option>\r\n\t\t\t\t\t\t\t<option value="北美洲_3700">北美洲</option>\r\n\t\t\t\t\t\t\t<option value="南美洲_3800">南美洲</option>\r\n\t\t\t\t\t\t\t<option value="亚洲_3900">亚洲</option>\r\n\t\t\t\t\t\t\t<option value="非洲_4000">非洲</option>\r\n\t\t\t\t\t\t\t<option value="大洋洲_4100">大洋洲</option>\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t<select name="" id="J_new_address_city">\r\n\t\t\t\t\t\t\t<option selected="selected" value="">市</option>\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t<span class="err_tips err_city err_province"></span>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td class="receipt_info_title new_detailed_address">详细地址</td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<textarea id="J_new_address_address" class="new_address_input detailed_address">不需要重复填写省市区，不小于5个字符，不超过120个字符</textarea>\r\n\t\t\t\t\t\t<span class="err_tips err_address control"></span>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<td class="new_address_sub_title"></td>\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<button class="btn address_add">保存</button>\r\n\t\t\t\t\t\t<button class="btn address_cancel">取消</button>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<div class="add-btn">\r\n\t\t<button class="confirm">确认</button>\r\n\t\t<button class="cancel">取消</button>\r\n\t</div>\r\n</div>',new String($out)}return function(){var obj={};arguments[0]=arguments[0]||{};for(var key2 in arguments[0])obj[key2]=arguments[0][key2];for(var key in template.helpers)obj[key]=template.helpers[key];return window.pageDataObj&&(obj.bookStep=window.pageDataObj.bookStep,obj.pageType=window.pageDataObj.pageType,obj.proType=window.pageDataObj.proType,obj.proLine=window.pageDataObj.proLine,obj.proMode=window.pageDataObj.proMode),anonymous.call(template.utils,obj).toString()}})},function(module,exports){module.exports={"安徽_100":{"合肥":"合肥_102","芜湖":"芜湖_120","蚌埠":"蚌埠_104","淮南":"淮南_112","马鞍山":"马鞍山_116","淮北":"淮北_110","铜陵":"铜陵_118","安庆":"安庆_103","黄山":"黄山_113","滁州":"滁州_107","阜阳":"阜阳_108","宿州":"宿州_117","巢湖":"巢湖_106","六安":"六安_115","亳州":"亳州_105","池州":"池州_109","宣城":"宣城_121","屯溪":"屯溪_119","九华山":"九华山_114","其它":"其它_101"},"北京_200":{"东城":"东城_202","西城":"西城_203","崇文":"崇文_204","宣武":"宣武_205","朝阳":"朝阳_206","丰台":"丰台_207","石景山":"石景山_208","海淀":"海淀_209","门头沟":"门头沟_210","房山":"房山_211","通州":"通州_212","顺义":"顺义_213","昌平":"昌平_214","大兴":"大兴_215","平谷":"平谷_216","怀柔":"怀柔_217","密云":"密云_218","延庆":"延庆_219","其它":"其它_201"},"重庆_300":{"渝中":"渝中_304","大渡口":"大渡口_305","江北":"江北_306","沙坪坝":"沙坪坝_307","九龙坡":"九龙坡_308","南岸":"南岸_309","北碚":"北碚_310","万盛":"万盛_311","双挢":"双挢_312","渝北":"渝北_313","巴南":"巴南_314","万州":"万州_302","涪陵":"涪陵_303","黔江":"黔江_315","长寿":"长寿_316","綦江":"綦江_317","潼南":"潼南_318","铜梁":"铜梁_319","大足":"大足_320","荣昌":"荣昌_321","壁山":"壁山_322","垫江":"垫江_326","武隆":"武隆_327","丰都":"丰都_325","城口":"城口_324","梁平":"梁平_323","开县":"开县_329","云阳":"云阳_330","奉节":"奉节_331","巫山":"巫山_332","巫溪":"巫溪_333","忠县":"忠县_328","石柱":"石柱_334","秀山":"秀山_335","酉阳":"酉阳_336","彭水":"彭水_337","江津":"江津_338","合川":"合川_339","永川":"永川_340","南川":"南川_341","其它":"其它_301"},"福建_400":{"福州":"福州_402","厦门":"厦门_414","莆田":"莆田_407","三明":"三明_409","泉州":"泉州_408","漳州":"漳州_415","南平":"南平_405","龙岩":"龙岩_404","宁德":"宁德_406","武夷山":"武夷山_413","其它":"其它_401"},"甘肃_500":{"兰州":"兰州_502","金昌":"金昌_507","白银":"白银_503","天水":"天水_511","嘉峪关市":"嘉峪关市_516","武威":"武威_513","张掖":"张掖_515","平凉":"平凉_510","酒泉":"酒泉_508","庆阳":"庆阳_514","定西":"定西_504","陇南":"陇南_512","临夏":"临夏_509","甘南":"甘南_506","敦煌":"敦煌_505","其它":"其它_501"},"广东_600":{"广州":"广州_602","深圳":"深圳_619","珠海":"珠海_628","汕头":"汕头_616","韶关":"韶关_618","佛山":"佛山_607","江门":"江门_610","湛江":"湛江_625","茂名":"茂名_613","肇庆":"肇庆_626","惠州":"惠州_609","梅州":"梅州_614","汕尾":"汕尾_617","河源":"河源_608","阳江":"阳江_621","清远":"清远_615","东莞":"东莞_606","中山":"中山_627","潮州":"潮州_604","揭阳":"揭阳_611","云浮":"云浮_623","其它":"其它_601"},"广西_700":{"南宁":"南宁_702","柳州":"柳州_709","桂林":"桂林_705","梧州":"梧州_711","北海":"北海_704","防城港":"防城港_706","钦州":"钦州_710","贵港":"贵港_713","玉林":"玉林_712","百色":"百色_703","贺州":"贺州_708","河池":"河池_707","来宾":"来宾_714","崇左":"崇左_715","其它":"其它_701"},"贵州_800":{"贵阳":"贵阳_802","六盘水":"六盘水_807","遵义":"遵义_811","安顺":"安顺_803","铜仁":"铜仁_808","毕节":"毕节_804","黔南布依族苗族自治州":"黔南布依族苗族自治州_805","黔东南苗族侗族自治州":"黔东南苗族侗族自治州_806","黔西南布依族苗族自治州":"黔西南布依族苗族自治州_809","其它":"其它_801"},"海南_900":{"海口":"海口_902","三亚":"三亚_906","文昌":"文昌_909","琼海":"琼海_905","万宁":"万宁_908","五指山":"五指山_910","东方":"东方_911","儋州":"儋州_903","临高":"临高_912","澄迈":"澄迈_913","定安":"定安_914","屯昌":"屯昌_915","昌江":"昌江_916","白沙":"白沙_917","琼中":"琼中_918","陵水":"陵水_904","保亭":"保亭_919","乐东:":"乐东_907","西南中沙群岛":"西南中沙群岛_920","其它":"其它_901"},"河北_1000":{"石家庄":"石家庄_1002","唐山":"唐山_1013","秦皇岛":"秦皇岛_1012","邯郸":"邯郸_1008","邢台":"邢台_1015","保定":"保定_1003","张家口":"张家口_1016","承德":"承德_1006","沧州":"沧州_1005","廊坊":"廊坊_1010","衡水":"衡水_1009","其它":"其它_1001"},"黑龙江_1100":{"哈尔滨":"哈尔滨_1102","齐齐哈尔":"齐齐哈尔_1111","鸡西":"鸡西_1109","鹤岗":"鹤岗_1106","双鸭山":"双鸭山_1113","大庆":"大庆_1104","伊春":"伊春_1115","佳木斯":"佳木斯_1108","七台河":"七台河_1112","牡丹江":"牡丹江_1110","黑河":"黑河_1107","绥化":"绥化_1114","大兴安岭":"大兴安岭_1105","其它":"其它_1101"},"河南_1200":{"郑州":"郑州_1202","开封":"开封_1208","洛阳":"洛阳_1210","平顶山":"平顶山_1212","焦作":"焦作_1206","鹤壁":"鹤壁_1204","新乡":"新乡_1216","安阳":"安阳_1203","濮阳":"濮阳_1213","许昌":"许昌_1218","漯河":"漯河_1209","三门峡":"三门峡_1214","南阳":"南阳_1211","商丘":"商丘_1215","信阳":"信阳_1217","周口":"周口_1219","驻马店":"驻马店_1220","济源":"济源_1207","其它":"其它_1201"},"香港_1300":{"香港":"香港_1302","九龙":"九龙_1303","新界":"新界_1304","其它":"其它_1301"},"湖北_1400":{"武汉":"武汉_1402","黄石":"黄石_1406","襄樊":"襄樊_1416","十堰":"十堰_1410","荆州":"荆州_1408","宜昌":"宜昌_1418","鄂州":"鄂州_1404","孝感":"孝感_1417","黄冈":"黄冈_1405","咸宁":"咸宁_1414","随州":"随州_1411","恩施":"恩施_1403","仙桃":"仙桃_1413","潜江":"潜江_1409","天门":"天门_1407","神农架":"神农架_1412","荆门":"荆门_1419","其它":"其它_1401"},"湖南_1500":{"长沙":"长沙_1502","株洲":"株洲_1515","湘潭":"湘潭_1510","衡阳":"衡阳_1505","邵阳":"邵阳_1509","岳阳":"岳阳_1512","常德":"常德_1503","张家界":"张家界_1514","益阳":"益阳_1511","郴州":"郴州_1504","永州":"永州_1513","怀化":"怀化_1506","娄底":"娄底_1508","湘西":"湘西_1507","其它":"其它_1501"},"江苏_1600":{"南京":"南京_1602","常州":"常州_1604","淮安":"淮安_1606","连云港":"连云港_1610","南通":"南通_1611","宿迁":"宿迁_1614","苏州":"苏州_1615","泰州":"泰州_1617","同里":"同里_1618","无锡":"无锡_1619","徐州":"徐州_1620","盐城":"盐城_1621","扬州":"扬州_1622","镇江":"镇江_1626","周庄":"周庄_1627","其它":"其它_1601"},"江西_1700":{"南昌":"南昌_1702","景德镇":"景德镇_1706","萍乡":"萍乡_1710","九江":"九江_1708","新余":"新余_1712","鹰潭":"鹰潭_1714","赣州":"赣州_1704","吉安":"吉安_1705","宜春":"宜春_1713","抚州":"抚州_1703","上饶":"上饶_1711","井冈山":"井冈山_1707","庐山":"庐山_1709","其它":"其它_1701"},"吉林_1800":{"长春":"长春_1802","吉林":"吉林_1808","四平":"四平_1809","辽源":"辽源_1806","通化":"通化_1811","白山":"白山_1804","松原":"松原_1810","白城":"白城_1803","延边":"延边_1812","其它":"其它_1801"},"辽宁_1900":{"沈阳":"沈阳_1902","大连":"大连_1906","鞍山":"鞍山_1903","抚顺":"抚顺_1908","本溪":"本溪_1904","丹东":"丹东_1907","锦州":"锦州_1911","营口":"营口_1915","阜新":"阜新_1909","辽阳":"辽阳_1912","盘锦":"盘锦_1913","铁岭":"铁岭_1914","朝阳":"朝阳_1905","葫芦岛":"葫芦岛_1910","其它":"其它_1901"},"澳门_2000":{"澳门":"澳门_2002","其它":"其它_2001"},"内蒙古_2100":{"呼和浩特":"呼和浩特_2102","包头":"包头_2104","乌海":"乌海_2111","赤峰":"赤峰_2105","通辽":"通辽_2110","鄂尔多斯":"鄂尔多斯_2106","呼伦贝尔":"呼伦贝尔_2107","巴彦淖尔":"巴彦淖尔_2109","乌兰察布":"乌兰察布_2108","锡林郭勒":"锡林郭勒_2113","兴安":"兴安_2112","阿拉善盟":"阿拉善盟_2103","其它":"其它_2101"},"宁夏_2200":{"银川":"银川_2202","固源":"固源_2203","石嘴山":"石嘴山_2204","吴忠":"吴忠_2205","中卫 ":"中卫_2206","其它":"其它_2201"},"青海_2300":{"西宁":"西宁_2302","海东":"海东_2306","海西":"海西_2303","海南":"海南_2305","海北":"海北_2307","果洛":"果洛_2308","黄南":"黄南_2309","玉树":"玉树_2310","其它":"其它_2301"},"山东_2400":{"济南":"济南_2402","青岛":"青岛_2413","淄博":"淄博_2421","枣庄":"枣庄_2420","东营":"东营_2406","烟台":"烟台_2419","潍坊":"潍坊_2417","威海":"威海_2418","济宁":"济宁_2408","泰安":"泰安_2416","日照":"日照_2415","莱芜":"莱芜_2409","临沂":"临沂_2411","德州":"德州_2405","聊城":"聊城_2410","滨州":"滨州_2403","菏泽":"菏泽_2407","其它":"其它_2401"},"上海_2500":{"崇明":"崇明_2502","黄浦":"黄浦_2503","卢湾":"卢湾_2504","徐汇":"徐汇_2505","长宁":"长宁_2506","静安":"静安_2507","普陀":"普陀_2508","闸北":"闸北_2509","虹口":"虹口_2510","杨浦":"杨浦_2511","闵行":"闵行_2512","宝山":"宝山_2513","嘉定":"嘉定_2514","浦东":"浦东_2515","金山":"金山_2516","松江":"松江_2517","青浦":"青浦_2518","南汇":"南汇_2519","奉贤":"奉贤_2520","其它":"其它_2501"},"山西_2600":{"太原":"太原_2602","大同":"大同_2604","阳泉":"阳泉_2611","长治":"长治_2603","晋城":"晋城_2606","朔州":"朔州_2605","晋中":"晋中_2612","运城":"运城_2613","忻州":"忻州_2610","临汾":"临汾_2608","吕梁":"吕梁_2607","其它":"其它_2601"},"陕西_2700":{"西安":"西安_2702","铜川":"铜川_2709","宝鸡":"宝鸡_2704","咸阳":"咸阳_2710","渭南":"渭南_2706","延安":"延安_2711","汉中":"汉中_2705","榆林":"榆林_2712","安康":"安康_2703","商洛":"商洛_2707","其它":"其它_2701"},"四川_2800":{"成都":"成都_2802","自贡":"自贡_2826","攀枝花":"攀枝花_2820","泸州":"泸州_2814","德阳":"德阳_2805","绵阳":"绵阳_2816","广元":"广元_2810","遂宁":"遂宁_2821","内江":"内江_2819","乐山":"乐山_2813","南充":"南充_2818","眉山":"眉山_2817","宜宾":"宜宾_2825","广安":"广安_2809","达州":"达州_2804","雅安":"雅安_2824","巴中":"巴中_2803","资阳":"资阳_2827","阿坝":"阿坝_2815","甘孜":"甘孜_2812","凉山":"凉山_2823","峨眉山":"峨眉山_2807","九寨沟":"九寨沟_2811","其它":"其它_2801"},"台湾_2900":{"台北":"台北_2902","高雄":"高雄_2906","基隆":"基隆_2903","台南":"台南_2904","台中":"台中_2905","新竹":"新竹_2910","嘉义":"嘉义_2913","宜兰":"宜兰_2916","桃园":"桃园_2915","苗栗":"苗栗_2912","彰化":"彰化_2911","南投":"南投_2908","云林":"云林_2909","屏东":"屏东_2907","台东":"台东_2917","花莲":"花莲_2914","澎湖":"澎湖_2920","金门":"金门_2918","马祖":"马祖_2919","其它":"其它_2901"},"天津_3000":{"和平":"和平_3003","东丽":"东丽_3004","河东":"河东_3005","西青":"西青_3006","河西":"河西_3007","津南":"津南_3008","南开":"南开_3009","北辰":"北辰_3010","河北":"河北_3011","武清":"武清_3012","红桥":"红桥_3013","塘沽":"塘沽_3014","汉沽":"汉沽_3015","大港":"大港_3016","宁河":"宁河_3017","静海":"静海_3018","宝坻":"宝坻_3019","蓟县":"蓟县_3020","其它":"其它_3001"},"新疆_3100":{"乌鲁木齐":"乌鲁木齐_3102","克拉玛依":"克拉玛依_3112","吐鲁番":"吐鲁番_3118","哈密":"哈密_3109","和田":"和田_3110","阿克苏":"阿克苏_3103","喀什":"喀什_3111","克孜勒苏柯尔克孜":"克孜勒苏柯尔克孜_3105","巴音郭楞蒙古":"巴音郭楞蒙古_3114","昌吉":"昌吉_3107","博尔塔拉蒙古":"博尔塔拉蒙古_3106","伊犁哈萨克":"伊犁哈萨克_3119","塔城":"塔城_3117","阿勒泰":"阿勒泰_3104","石河子":"石河子_3116","阿拉尔":"阿拉尔_3108","图木舒克":"图木舒克_3113","五家渠":"五家渠_3115","其它":"其它_3101"},"西藏_3200":{"拉萨":"拉萨_3202","阿里":"阿里_3203","昌都":"昌都_3204","林芝":"林芝_3205","那曲":"那曲_3206","日喀则":"日喀则_3207","山南":"山南_3208","其它":"其它_3201"},"云南_3300":{"昆明":"昆明_3302","曲靖":"曲靖_3315","玉溪":"玉溪_3319","保山":"保山_3304","昭通":"昭通_3321","丽江":"丽江_3312","思茅":"思茅_3316","临沧":"临沧_3311","文山":"文山_3317","红河":"红河_3308","西双版纳":"西双版纳_3318","楚雄":"楚雄_3305","大理":"大理_3306","德宏":"德宏_3314","怒江":"怒江_3313","迪庆":"迪庆_3320","其它":"其它_3301"},"浙江_3400":{"杭州":"杭州_3402","宁波":"宁波_3415","温州":"温州_3426","嘉兴":"嘉兴_3410","湖州":"湖州_3409","绍兴":"绍兴_3422","金华":"金华_3411","衢州":"衢州_3419","舟山":"舟山_3427","台州":"台州_3424","丽水":"丽水_3414","安吉":"安吉_3403","千岛湖":"千岛湖_3418","其它":"其它_3401"},"欧洲_3600":{"爱尔兰":"爱尔兰_3602","比利时":"比利时_3603","法国":"法国_3604","荷兰":"荷兰_3605","卢森堡":"卢森堡_3606","摩纳哥":"摩纳哥_3607","英国":"英国_3608","冰岛":"冰岛_3609","丹麦":"丹麦_3610","芬兰":"芬兰_3611","挪威":"挪威_3612","瑞典":"瑞典_3613","奥地利":"奥地利_3614","波兰":"波兰_3615","德国":"德国_3616","捷克共和国":"捷克共和国_3617","列支敦士登":"列支敦士登_3618","瑞士":"瑞士_3619","斯洛伐克":"斯洛伐克_3620","匈牙利":"匈牙利_3621","爱沙尼亚":"爱沙尼亚_3622","白俄罗斯":"白俄罗斯_3623","俄罗斯":"俄罗斯_3624","拉脱维亚":"拉脱维亚_3625","立陶宛":"立陶宛_3626","摩尔多瓦":"摩尔多瓦_3627","乌克兰":"乌克兰_3628","阿尔巴尼亚":"阿尔巴尼亚_3629","波斯尼亚和黑塞哥维那":"波斯尼亚和黑塞哥维那_3630","保加利亚":"保加利亚_3631","梵蒂冈":"梵蒂冈_3632","克罗地亚":"克罗地亚_3633","罗马尼亚":"罗马尼亚_3634","马其顿":"马其顿_3635","马耳他":"马耳他_3636","黑山":"黑山_3637","葡萄牙":"葡萄牙_3638","斯洛文尼亚":"斯洛文尼亚_3639","塞浦路斯":"塞浦路斯_3640","塞尔维亚":"塞尔维亚_3641","圣马力诺":"圣马力诺_3642","希腊":"希腊_3643","西班牙":"西班牙_3644","意大利":"意大利_3645","安道尔":"安道尔_3646","其它":"其它_3601"},"北美洲_3700":{"安圭拉":"安圭拉_3702","安提瓜和巴布达":"安提瓜和巴布达_3703","阿鲁巴":"阿鲁巴_3704","巴哈马":"巴哈马_3705","巴巴多斯":"巴巴多斯_3706","伯利兹":"伯利兹_3707","百慕大群岛":"百慕大群岛_3708","英属维京群岛":"英属维京群岛_3709","加拿大":"加拿大_3710","开曼群岛":"开曼群岛_3711","哥斯达黎加":"哥斯达黎加_3712","古巴":"古巴_3713","多米尼克":"多米尼克_3714","多米尼加共和国":"多米尼加共和国_3715","萨尔瓦多":"萨尔瓦多_3716","格陵兰":"格陵兰_3717","格林纳达":"格林纳达_3718","瓜德洛普":"瓜德洛普_3719","危地马拉":"危地马拉_3720","海地":"海地_3721","洪都拉斯":"洪都拉斯_3722","牙买加":"牙买加_3723","马提尼克":"马提尼克_3724","墨西哥":"墨西哥_3725","蒙特塞拉特 ":"蒙特塞拉特 _3726","纳弗沙岛":"纳弗沙岛_3727","荷属安的列斯":"荷属安的列斯_3728","尼加拉瓜":"尼加拉瓜_3729","巴拿马":"巴拿马_3730","波多黎各":"波多黎各_3731","圣克里斯多福与尼维斯":"圣克里斯多福与尼维斯_3732","圣卢西亚":"圣卢西亚_3733","圣皮耶与密克隆群岛":"圣皮耶与密克隆群岛_3734","圣文森特和格林纳丁斯":"圣文森特和格林纳丁斯_3735","特立尼达及多巴哥":"特立尼达及多巴哥_3736","特克斯与凯科斯群岛":"特克斯与凯科斯群岛_3737","美国":"美国_3738","美属维京群岛 ":"美属维京群岛 _3739","其它":"其它_3701"},"南美洲_3800":{"厄瓜多尔":"厄瓜多尔_3802","哥伦比亚":"哥伦比亚_3803","委内瑞拉":"委内瑞拉_3804","秘鲁":"秘鲁_3805","巴西":"巴西_3806","智利":"智利_3807","乌拉圭":"乌拉圭_3808","巴拉圭":"巴拉圭_3809","阿根廷":"阿根廷_3810","玻利维亚":"玻利维亚_3811","圭亚那":"圭亚那_3812","苏里南":"苏里南_3813","法属圭亚那":"法属圭亚那_3814","其它":"其它_3801"},"亚洲_3900":{"蒙古":"蒙古_3902","朝鲜":"朝鲜_3903","韩国":"韩国_3904","日本":"日本_3905","越南":"越南_3906","老挝":"老挝_3907","柬埔寨":"柬埔寨_3908","缅甸":"缅甸_3909","泰国":"泰国_3910","马来西亚":"马来西亚_3911","新加坡":"新加坡_3912","文莱":"文莱_3913","菲律宾":"菲律宾_3914","印度尼西亚":"印度尼西亚_3915","锡金":"锡金_3916","不丹":"不丹_3917","孟加拉国":"孟加拉国_3918","印度":"印度_3919","斯里兰卡":"斯里兰卡_3920","哈萨克斯坦":"哈萨克斯坦_3921","马尔代夫":"马尔代夫_3922","吉尔吉斯斯坦":"吉尔吉斯斯坦_3923","塔吉克斯坦":"塔吉克斯坦_3924","乌兹别可斯坦":"乌兹别可斯坦_3915","土库曼斯坦":"土库曼斯坦_3926","格鲁吉亚":"格鲁吉亚_3927","阿塞拜疆":"阿塞拜疆_3928","巴基斯坦":"巴基斯坦_3929","阿富汗":"阿富汗_3930","伊朗":"伊朗_3931","科威特":"科威特_3932","沙特阿拉伯":"沙特阿拉伯_3933","巴林":"巴林_3934","卡塔尔":"卡塔尔_3935","阿拉伯联合酋长国":"阿拉伯联合酋长国_3936","阿曼":"阿曼_3937","也门":"也门_3938","伊拉克":"伊拉克_3939","叙利亚":"叙利亚_3940","黎巴嫩":"黎巴嫩_3941","约旦":"约旦_3942","巴勒斯坦国":"巴勒斯坦国_3943","以色列":"以色列_3944","塞浦路斯":"塞浦路斯_3945","土耳其":"土耳其_3946","东帝汶":"东帝汶_3947","尼泊尔":"尼泊尔_3948","亚美尼亚":"亚美尼亚_3949","其它":"其它_3901"},"非洲_4000":{"埃及":"埃及_4002","利比亚":"利比亚_4003","突尼斯":"突尼斯_4004","阿尔及利亚":"阿尔及利亚_4005","摩洛哥":"摩洛哥_4006","西撒哈拉":"西撒哈拉_4007","毛里塔尼亚":"毛里塔尼亚_4008","塞内加尔":"塞内加尔_4009","冈比亚":"冈比亚_4010","马里":"马里_4011","布基纳法索":"布基纳法索_4012","佛得角":"佛得角_4013","几内亚比绍":"几内亚比绍_4014","苏丹":"苏丹_4015","埃塞俄比亚":"埃塞俄比亚_4016","厄立特里亚":"厄立特里亚_4017","吉布提":"吉布提_4018","索马里":"索马里_4019","肯尼亚":"肯尼亚_4020","乌干达":"乌干达_4021","坦桑尼亚":"坦桑尼亚_4022","卢旺达":"卢旺达_4023","布隆迪":"布隆迪_4024","刚果民主共和国":"刚果民主共和国_4025","刚果":"刚果_4026","加蓬":"加蓬_4027","圣多美和普林西比":"圣多美和普林西比_4028","安哥拉":"安哥拉_4029","几内亚":"几内亚_4030","塞拉利昂":"塞拉利昂_4031","利比里亚":"利比里亚_4032","科特迪瓦":"科特迪瓦_4033","加纳":"加纳_4034","多哥":"多哥_4035","贝宁":"贝宁_4036","尼日尔":"尼日尔_4037","尼日利亚":"尼日利亚_4038","喀麦隆":"喀麦隆_4039","赤道几内亚":"赤道几内亚_4040","乍得":"乍得_4041","中非":"中非_4042","赞比亚":"赞比亚_4043","马拉维":"马拉维_4044","莫桑比克":"莫桑比克_4045","科摩罗":"科摩罗_4046","马达加斯加":"马达加斯加_4047","塞舌尔":"塞舌尔_4048","毛里求斯":"毛里求斯_4049","留尼汪（法）":"留尼汪（法）_4050","津巴布韦":"津巴布韦_4051","博茨瓦纳":"博茨瓦纳_4052","纳米比亚":"纳米比亚_4053","南非":"南非_4054","斯威士兰":"斯威士兰_4055","莱索托":"莱索托_4056","圣赫勒拿（英）":"圣赫勒拿（英）_4057","其它":"其它_4001"},"大洋洲_4100":{"澳大利亚":"澳大利亚_4102","新西兰":"新西兰_4103","巴布亚新几内亚":"巴布亚新几内亚_4104","所罗门群岛":"所罗门群岛_4105","瓦努阿图":"瓦努阿图_4106","新喀里多尼亚（法）":"新喀里多尼亚（法）_4107","斐济群岛":"斐济群岛_4108","基里巴斯":"基里巴斯_4109","瑙鲁":"瑙鲁_4110","密克罗尼西亚联邦":"密克罗尼西亚联邦_4111","马绍尔群岛":"马绍尔群岛_4112","帕劳":"帕劳_4113","北马里亚那群岛":"北马里亚那群岛_4114","关岛（英）":"关岛（英）_4115","图瓦卢":"图瓦卢_4116","瓦利斯和富图那（法）":"瓦利斯和富图那（法）_4117","萨摩亚":"萨摩亚_4118","美属萨摩亚":"美属萨摩亚_4119","纽埃（新）":"纽埃（新）_4120","托克劳（新）":"托克劳（新）_4121","库克群岛（新）":"库克群岛（新）_4122","汤加":"汤加_4123","法属波利尼西亚":"法属波利尼西亚_4124","皮特凯恩（美）":"皮特凯恩（美）_4125","诺福克岛":"诺福克岛_4126","中途岛":"中途岛_4127","其它":"其它_4101"}}},function(module,exports,__webpack_require__){var cancelReasonLayer,cancelReasonId,cancelReasonName,backbone=__webpack_require__(9),tpl=__webpack_require__(117),config=__webpack_require__(6),Layer=__webpack_require__(16),renason_tpl=__webpack_require__(138),pageDataObj=config.pageDataObj,EventBus=__webpack_require__(5),tools=__webpack_require__(13);module.exports=backbone.View.extend({el:"",events:{},initialize:function(){var self=this;$(document).on("click",".peri_cancel_order .peri_rea_con .show-color",function(e){self.toggleReason(e)}),$(document).on("click",".rea_btn .peri_confirm_active",function(e){cancelReasonId&&(Layer.close(cancelReasonLayer),self.sureCancelOrder(cancelReasonId,cancelReasonName))})},render:function(){var html,data=this.model.toJSON();html=tpl(data),this.$el.html(html).show()},showCancelReason:function(){cancelReasonId="",cancelReasonName="";var html=renason_tpl({});cancelReasonLayer=Layer.open({type:1,title:!1,closeBtn:1,area:["430px","480px"],content:html})},toggleReason:function(e){var target=$(e.currentTarget);target.hasClass("active-color")?(target.removeClass("active-color"),target.siblings(".rea_btn").find(".peri-confirm").removeClass("peri_confirm_active")):(target.addClass("active-color"),target.siblings().removeClass("active-color"),target.siblings(".rea_btn").find(".peri-confirm").addClass("peri_confirm_active")),cancelReasonId=target.data("typeid"),cancelReasonName=target.text()},confirmReason:function(){var self=this,askCancel=$.layer({type:1,title:"提示",btns:2,btn:["取消","确认"],area:["400px","auto"],border:[6,1,"#c4c4c5"],page:{html:'<p class="m10" style="padding-top: 10px;margin-left: 115px;font-size:14px;text-align:center;width: 182px;">订单取消后将不可出游，</p><p class="m10" style="padding-bottom:80px;margin-left: 115px;font-size:14px;text-align:center;width: 182px;">您确定要取消当前的订单吗？</p>'},yes:function(){layer.close(askCancel),tools.safeEventTrack("点击_确认弹窗____确认")},no:function(){layer.close(askCancel),tools.safeEventTrack("点击_确认弹窗____取消 "),self.sureCancelOrder("30302","行程未定或改变")}})},showHeSun:function(){var heSunLayer=$.layer({type:1,guide:2,title:"提示",closeBtn:1,btns:1,btn:["确 定"],area:["400px","155px"],border:[6,1,"#c4c4c5"],page:{html:'<p class="m10" style="margin-top: 15px; margin-left: 80px;font-size:14px;text-align:left;width: 280px;line-height:20px;">订单核损中，请您耐心等待，核损结果将会在2小时内以短信或人工的方式通知您。</p>'},yes:function(){layer.close(heSunLayer)}})},sureCancelOrder:function(typeid,text){var isMenpiao=pageDataObj.baseInfo&&75==pageDataObj.baseInfo.orderType;isMenpiao&&pageDataObj.showSwitch&&pageDataObj.showSwitch.isCancelOrder?EventBus.trigger("beforePayCancelOrderAjax",typeid,text):(EventBus.trigger("begainCancelOrderAjax",typeid,text),EventBus.trigger("begainCancelOrder",30))}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(fn){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=fn,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function(template){function anonymous($data,$filename){"use strict";var $utils=this,$out=($utils.$helpers,"");return $out+='<div class="peri_cancel_order">\r\n   <h2>取消订单</h2>\r\n   <div class="cancel_con">\r\n      <div class="rea_title">\r\n         <p class="sure_cancel">您确定取消订单么？</p>\r\n         <p class="cancel_rea">为了下次更好为您服务，请告诉我们您取消的原因。</p>\r\n      </div>\r\n      <div class="peri_rea_con">\r\n         <p class="show-color rea_one" data-typeid = "30302">行程未定或改变<span class="peri_rea_active"></span></p>\r\n         <p class="show-color" data-typeid = "10102">价格变动<span class="peri_rea_active"></span></p>\r\n         <p class="show-color" data-typeid = "30701">更换团期重新下单<span class="peri_rea_active"></span></p>\r\n         <p class="show-color" data-typeid = "30304">同伴未定或改变<span class="peri_rea_active"></span></p>\r\n         <p class="show-color" data-typeid = "30401">证件不符合出游条件<span class="peri_rea_active"></span></p>\r\n         <p class="show-color" data-typeid = "30201">出游人身体不适<span class="peri_rea_active"></span></p>\r\n         <p class="show-color" data-typeid = "30801">其他家预订<span class="peri_rea_active"></span></p>\r\n         <p class="rea_btn"><input type="button" class="peri-confirm" value="确 定"/></p>\r\n      </div>\r\n   </div>\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n',new String($out)}return function(){var obj={};arguments[0]=arguments[0]||{};for(var key2 in arguments[0])obj[key2]=arguments[0][key2];for(var key in template.helpers)obj[key]=template.helpers[key];return window.pageDataObj&&(obj.bookStep=window.pageDataObj.bookStep,obj.pageType=window.pageDataObj.pageType,obj.proType=window.pageDataObj.proType,obj.proLine=window.pageDataObj.proLine,obj.proMode=window.pageDataObj.proMode),anonymous.call(template.utils,obj).toString()}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),config=__webpack_require__(6),Layer=__webpack_require__(16),modify_tourists_tpl=__webpack_require__(140),pageDataObj=config.pageDataObj,EventBus=__webpack_require__(5),account_info_tpl=__webpack_require__(141),show_invoice_tpl=__webpack_require__(142),MSG={errorService:"服务异常请稍后重试",noCancel:"该订单暂不支持在线取消，如需取消请拨打免费热线：4007-999-999",noModify:"该订单暂不支持在线修改，如需取消请拨打免费热线：4007-999-999",cancelFail:"发起取消失败，请稍后重试或致电客户服务热线：4007-999-999。",modifyFail:"修改订单失败，请稍后重试或致电客户服务热线：4007-999-999。",noValidDate:"当前的退改信息已经超出有效期，您可以返回订单详情页重新进行退团，如有任何疑问，您可以致电客服咨询：4007-999-999。",flightTip:"机票不可退改，请致电客服处理4007-999-999",system:"系统已受理您的退改请求，退款将在15个工作日内退回支付账户，请注意查收。",busy:"系统繁忙，请稍后重试。",noModifyAll:"暂不支持取消全部出游人",leastOneAdult:"出游人中至少有一名成人"};module.exports=backbone.View.extend({el:"",events:{},initialize:function(){var self=this;$(document).on("click",".per-tourist .per-tourist-main ul li",function(e){self.modifyTourists(e)}),$(document).on("click",".per-tourist .go-to-back",function(e){Layer.close(window.modifyTouristLayerIndex)}),$(document).on("click",".peri_back_deter",function(e){Layer.close(window.invoiceHtmlLayerIndex)}),$(document).on("click",".per-tourist .go-to-active",function(e){self.begainModifyOrder(e)}),$(document).on("click",".input_checkbox_btn",function(e){self.agreeAgreement(e)}),$(document).on("click",".agreement_active",function(e){self.agreeToCancelOrder(e)}),$(document).on("click",".peri_agreement_giveUp",function(){self.sureGiveUp()})},render:function(){},showModifyTourists:function(){var data=this.model.get("list");if(!_.isEmpty(data)){var html=modify_tourists_tpl({touristList:data});window.modifyTouristLayerIndex=Layer.open({type:1,title:!1,closeBtn:1,area:["540px","auto"],content:html})}},modifyTourists:function(e){var self=this,target=$(e.currentTarget),indexFlag=target.index();"0"==target.attr("data-type")?target.hasClass("per-tourist-active")?(target.removeClass("per-tourist-active"),self.findNum().hasActive?"":target.parents(".per-tourist").find(".go-to-sure").removeClass("go-to-active")):self.findNum(indexFlag).selectAllTou?Layer.msg(MSG.noModifyAll,function(){}):self.findNum().adultNum<=1?Layer.msg(MSG.leastOneAdult,function(){}):(target.addClass("per-tourist-active"),target.parents(".per-tourist").find(".go-to-sure").addClass("go-to-active")):target.hasClass("per-tourist-active")?(target.removeClass("per-tourist-active"),self.findNum().hasActive?"":target.parents(".per-tourist").find(".go-to-sure").removeClass("go-to-active")):self.findNum(indexFlag).selectAllTou?Layer.msg(MSG.noModifyAll,function(){}):(target.addClass("per-tourist-active"),target.parents(".per-tourist").find(".go-to-sure").addClass("go-to-active"))},findNum:function(indexFlag){var thisLi=$(".per-tourist .per-tourist-main ul li"),len=$(".per-tourist .per-tourist-main ul").find(".per-tourist-active").length,flag={},adultNum=0;return flag.hasActive=_.some(thisLi,function(num){return $(num).hasClass("per-tourist-active")}),_.each(thisLi,function(item,index){"0"!=$(item).attr("data-type")||$(item).hasClass("per-tourist-active")||adultNum++}),flag.adultNum=adultNum,thisLi.length-1==len?flag.selectAllTou=!0:flag.selectAllTou=!1,flag},showAccountInfo:function(res1,res2,type){var self=this,timeLeft=res1.timeLeft,contractData={account:res1,contract:res2,type:type},html=account_info_tpl(contractData);window.accountInfoLayerIndex=Layer.open({type:1,title:!1,closeBtn:1,area:["650px","665px"],content:html,cancel:function(){return self.sureGiveUp(),!1}}),this.countDown(timeLeft,function(msg){$(".peri_effective_Time").html(msg)}),this.showInvoivePanel(pageDataObj.baseInfo.invoiceFlag)},showInvoivePanel:function(flag){if(flag){var invoiceHtml=show_invoice_tpl({});window.invoiceHtmlLayerIndex=Layer.open({type:1,title:!1,closeBtn:1,area:["430PX","200"],content:invoiceHtml})}},sureGiveUp:function(){window.sureGiveUpLayerIndex=$.layer({type:1,guide:2,title:"提示",closeBtn:[0,!0],btns:2,btn:["确 定","取 消"],area:["400px","150px"],border:[6,1,"#c4c4c5"],page:{html:'<p class="m10" style="padding-top: 10px;margin-left: 115px;font-size:16px;text-align:center;width: 182px;">是否放弃核损？</p>'},yes:function(){layer.close(window.sureGiveUpLayerIndex),Layer.close(window.accountInfoLayerIndex),EventBus.trigger("cancelOrderRegretFun")}})},countDown:function(timeStamp,fn){window.countDownTimer=setInterval(function(){var distancetime=1e3*timeStamp;if(distancetime>=0){var msg,sec=Math.floor(distancetime/1e3%60),min=Math.floor(distancetime/1e3/60%60),hour=Math.floor(distancetime/1e3/60/60%24);sec<10&&(sec="0"+sec),min<10&&(min="0"+min),hour<10&&(hour="0"+hour),msg=hour+"时"+min+"分"+sec+"秒",fn(msg),--timeStamp}else window.clearInterval(window.countDownTimer),EventBus.trigger("cancelOrderRegretFun",!0),Layer.close(window.accountInfoLayerIndex),$(".effective").show()},1e3)},begainModifyOrder:function(e){var self=this,target=$(e.target),notEditTourist=[],dom=target.parents(".per-tourist").children(".per-tourist-main").find("li");Layer.close(window.modifyTouristLayerIndex),_.each(dom,function(item,index){if($(item).hasClass("per-tourist-active")){var touristId=$(item).attr("data-personid"),touristData=self.model.searchNotEditData(touristId);notEditTourist.push(touristData)}}),EventBus.trigger("begainModifyOrderAjax",notEditTourist),EventBus.trigger("begainCancelOrder",30,!0)},agreeAgreement:function(e){var target=$(e.currentTarget);target.children(".tn_fontface");target.children(".tn_fontface").hasClass("tick-ac")?(target.children(".tn_fontface").removeClass("tick-ac"),$(".peri_agreement_con_deter").removeClass("agreement_active")):(target.children(".tn_fontface").addClass("tick-ac"),$(".peri_agreement_con_deter").addClass("agreement_active"))},agreeToCancelOrder:function(e){var target=$(e.target),type=target.parents(".agreement_but_con").attr("data-type");layer.close(window.sureGiveUpLayerIndex),Layer.close(window.accountInfoLayerIndex),1==type?EventBus.trigger("confirmCancelOrder"):EventBus.trigger("confirmModifyOrder")},layerAlert:function(msg,flag){var newMsg=MSG[msg];$.layer({type:1,area:["310px","150px"],btns:1,btn:["确定"],page:{html:'<p class="T_alert">'+newMsg+"</p>"},yes:function(){layer.closeAll(),flag&&(window.location.href="/tn?r=user/user/newOrderDetail&id="+pageDataObj.baseInfo.orderId)}})},layerNoValidDate:function(msg){var newMsg=MSG[msg];$.layer({type:1,guide:2,title:"提示",closeBtn:[0,!0],btns:1,btn:["确定"],area:["350px","auto"],border:[6,1,"#c4c4c5"],page:{html:'<p class="m10" style="padding-bottom:50px;line-height:22px;">'+newMsg+"</p>"}})}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(fn){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=fn,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function(template){function anonymous($data,$filename){"use strict";var $utils=this,_=($utils.$helpers,$data._),touristList=$data.touristList,$escape=($data.tourist,$utils.$escape),$out="";return $out+=' <div class="per-tourist">\r\n <div class="per-tourist-title">\r\n     <h2><b>当前游客列表</b></h2>\r\n </div>\r\n <div class="per-tourist-main">\r\n    <ul>\r\n       ',_.each(touristList,function(tourist){$out+='\r\n            <li data-type="',$out+=$escape(tourist.isChild),$out+='" class="" data-personId=\'',$out+=$escape(tourist.personId),$out+='\'>\r\n                <span class="tourist-name"><a class="full-name">',$out+=$escape(tourist.name),$out+='</a><a class="psd-num">',$out+=$escape(tourist.psptId),$out+='</a></span>\r\n                <span class="tourist-flag"><a class="">退团</a></span>\r\n            </li>\r\n       '}),$out+='\r\n    </ul> \r\n </div>\r\n <div class="per-tourist-foot">\r\n         <a class="btn go-to-sure"href="javascript:;">确定</a><a class="btn go-to-back" href="javascript:;">返回</a>\r\n </div>\r\n </div>',new String($out)}return function(){var obj={};arguments[0]=arguments[0]||{};for(var key2 in arguments[0])obj[key2]=arguments[0][key2];for(var key in template.helpers)obj[key]=template.helpers[key];return window.pageDataObj&&(obj.bookStep=window.pageDataObj.bookStep,obj.pageType=window.pageDataObj.pageType,obj.proType=window.pageDataObj.proType,obj.proLine=window.pageDataObj.proLine,obj.proMode=window.pageDataObj.proMode),anonymous.call(template.utils,obj).toString()}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(fn){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=fn,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function(template){function anonymous($data,$filename){"use strict";var $utils=this,$escape=($utils.$helpers,$utils.$escape),type=$data.type,i=$data.i,account=$data.account,showPrice=$data.showPrice,$string=$utils.$string,contract=$data.contract,$out="";if($out+='<div class="peri-cancel-order">\r\n    <div class="tuituan_title">\r\n        <h2><b>',$out+=$escape(type?"取消订单":"修改订单"),$out+='</b><span><i></i>有效期: <em class="peri_effective_Time"></em></span></h2>\r\n    </div>\r\n    <div class="tuituan_con">\r\n        <div class="tuituan_con_bg">\r\n            <div class="tuituan_cancel">\r\n                <p> 取消本次行程，退款金额将原路返回您的账户</p>\r\n                ',0==type){$out+='\r\n                    <p> 本次退团的游客：<span class="all-tourist">\r\n                    ';for(var i=0;i<account.touristName.length;i++)$out+="\r\n                        ",$out+=$escape(account.touristName[i]),$out+=" \r\n                        ",i!=account.touristName.length-1&&($out+="\r\n                             ，\r\n                        "),$out+="\r\n                    ";$out+="\r\n                    </span></p>\r\n                "}return $out+="\r\n                <p> 应退现金：<em>",$out+=$escape(showPrice(account.content.backPrice)),$out+='</em></p>\r\n            </div>\r\n            <div class="tuituan_cost_detail">\r\n                <h2>核损明细：</h2>\r\n                <div class="detailed">\r\n                     <p><span class="shou-pay">应退总价：<em>',$out+=$escape(showPrice(account.content.retirementTotal)),$out+='</em></span><span class="shou-collect">应收违约金：<em>',$out+=$escape(showPrice(account.content.breakContractPrice)),$out+='</em></span></p>\r\n                     <p><span class="promot-pay">促销活动：<em>',$out+=$escape(showPrice(account.content.changePromotionPrice)),$out+='</em></span></p>\r\n                     <p class="actual-refound">实际退款金额：<span>',$out+=$escape(showPrice(account.content.refundAmount)),$out+='</span></p>\r\n                </div>\r\n            </div>\r\n\r\n            <div class="tuituan_cost_detail">\r\n                <h2>费用明细：</h2>\r\n                <div class="detailed">\r\n                     <p><span class="shou-pay">应退旅游券：<em>',$out+=$escape(showPrice(account.content.backTourPrice)),$out+='</em></span><span class="shou-collect">应退抵用券：<em>',$out+=$escape(showPrice(account.content.backCouponPrice)),$out+='</em></span></p>\r\n                     <p><span class="promot-pay">应退现金：<em>',$out+=$escape(showPrice(account.content.backPrice)),$out+='</em></span></p>\r\n                     <p class="actual-refound">实际退款金额：<span>',$out+=$escape(showPrice(account.content.refundAmount)),$out+='</span></p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n        <div class="singleRoom">',0==type&&($out+=$escape(account.touristName.length),$out+="人退团后，您可能需要线下至酒店补齐单房差，如有疑问可致电：4007-999-999。"),$out+='</div>\r\n        \r\n        <div class="tuituan_agreement">\r\n            <div class="agreement">\r\n                <label class="input_checkbox_btn">\r\n                    <span class="tn_fontface" id="tn_fontface"></span>\r\n                    <em class="agree_tn_con">我已阅读并接受以下协议</em>\r\n                </label>\r\n                <div class="per_agreement_con" id="per_agreement_con">\r\n                    <!--     协议模板     -->\r\n                    ',$out+=$string(contract.content),$out+='   \r\n                 \r\n                </div>\r\n                <div class="agreement_but_con" data-type="',$out+=$escape(type),$out+='">\r\n                   <span>\r\n                         <input type="button" id="peri_agreement_con_deter" class="peri-btn peri_agreement_con_deter" value="确 定"/>\r\n                   </span>\r\n                   <span>\r\n                         <input type="button" id="peri_agreement_giveUp" class="peri-btn peri_agreement_giveUp" value="放 弃"/>\r\n                   </span>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</div>\r\n',new String($out)}return function(){var obj={};arguments[0]=arguments[0]||{};for(var key2 in arguments[0])obj[key2]=arguments[0][key2];for(var key in template.helpers)obj[key]=template.helpers[key];return window.pageDataObj&&(obj.bookStep=window.pageDataObj.bookStep,obj.pageType=window.pageDataObj.pageType,obj.proType=window.pageDataObj.proType,obj.proLine=window.pageDataObj.proLine,obj.proMode=window.pageDataObj.proMode),anonymous.call(template.utils,obj).toString()}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(fn){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=fn,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function(template){function anonymous($data,$filename){"use strict";var $utils=this,$out=($utils.$helpers,"");return $out+='<div class="peri-back">\r\n    <h2>提示</h2>\r\n    <div class="back_main">\r\n        <div class="back_con">\r\n            <p>目前系统已经为您开具了发票，请将发票归还至当地门市或者寄回至发票寄出地址，如您有任何疑问可以拨打免费热线咨询：<em>4007-999-999</em></p>\r\n        </div>\r\n        <div class="back_but">\r\n            <input type="button" id="peri_back_deter" class="peri_back_deter" value="知道了"/>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n',new String($out)}return function(){var obj={};arguments[0]=arguments[0]||{};for(var key2 in arguments[0])obj[key2]=arguments[0][key2];for(var key in template.helpers)obj[key]=template.helpers[key];return window.pageDataObj&&(obj.bookStep=window.pageDataObj.bookStep,obj.pageType=window.pageDataObj.pageType,obj.proType=window.pageDataObj.proType,obj.proLine=window.pageDataObj.proLine,obj.proMode=window.pageDataObj.proMode),anonymous.call(template.utils,obj).toString()}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),eventBus=__webpack_require__(5),tpl=__webpack_require__(144);module.exports=backbone.View.extend({el:"#m-footer",events:{"click .close-img img":"hidePerfectTourist"},initialize:function(){this.render()},render:function(){var data=this.model.toJSON(),html=tpl(data);this.$el.html(html).show()},agree:function(){this.model.agree()},toContract:function(e){eventBus.trigger("toContract"),e.stopPropagation()},confirm:function(){eventBus.trigger("saveOrder")},hidePerfectTourist:function(){this.model.set("isShow",!1),this.render()}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(fn){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=fn,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function(template){function anonymous($data,$filename){"use strict";var $utils=this,isShow=($utils.$helpers,$data.isShow),$escape=$utils.$escape,beforeDayNum=$data.beforeDayNum,productId=$data.productId,orderId=$data.orderId,$out="";return isShow&&($out+='\r\n<div class="perfect-tourist-info">\r\n   <div class="info-main">\r\n       <div class="main-text">\r\n            您的订单还有部分出游信息未完善，这将会影响您的出游，请在出游前<em>',$out+=$escape(beforeDayNum),$out+='</em>天完善出游人信息！\r\n       </div>\r\n       <div class="main-btn">\r\n            <a href="/tours/',$out+=$escape(productId),$out+="/book/step2/",$out+=$escape(orderId),$out+='?from=user&operationFlag=2&version=2" m="点击_底部按钮____去完善">补全信息</a>\r\n       </div>\r\n   </div>\r\n   <div class="close-img"><img src="//ssl3.tuniucdn.com/img/201604072050/bookOnline/order_detail/close-x.png"/></div>\r\n</div>\r\n'),new String($out)}return function(){var obj={};arguments[0]=arguments[0]||{};for(var key2 in arguments[0])obj[key2]=arguments[0][key2];for(var key in template.helpers)obj[key]=template.helpers[key];return window.pageDataObj&&(obj.bookStep=window.pageDataObj.bookStep,obj.pageType=window.pageDataObj.pageType,obj.proType=window.pageDataObj.proType,obj.proLine=window.pageDataObj.proLine,obj.proMode=window.pageDataObj.proMode),anonymous.call(template.utils,obj).toString()}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),config=__webpack_require__(6),EventBus=__webpack_require__(5),MSG=(config.pageDataObj,{errorSign:"很抱歉，协议签订出错，您可以稍后再试或联系客服处理！",successSign:"协议签订成功！",failSign:"协议副本获取失败！请重新再试"});module.exports=backbone.View.extend({el:"",events:{},initialize:function(){},showThisIframe:function(html,data){$.layer({title:data.text,type:1,page:{html:html},btns:2,btn:["同意","取消"],area:["900px","550px"],yes:function(){EventBus.trigger("signService",data.orderId,data.key)}})},layerAlert:function(msg){var newMsg=MSG[msg];$.layer({type:1,area:["310px","150px"],btns:1,btn:["确定"],page:{html:'<p class="T_alert">'+newMsg+"</p>"}})}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),tpl=__webpack_require__(147);module.exports=backbone.View.extend({el:"#m-recommend",initialize:function(){this.listenTo(this.model,"render",this.render)},render:function(){var data=this.model.toJSON(),html=tpl(data);this.$el.html(html).show()}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(fn){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=fn,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function(template){function anonymous($data,$filename){"use strict";var $utils=this,$helpers=$utils.$helpers,iconNameMap=$data.iconNameMap,lines=$data.lines,Math=$helpers.Math,list=$data.list,lineCount=$data.lineCount,_=$data._,$escape=($data.item,$data.index,$data.panelClass,$utils.$escape),$out="";$out+='<h2>\r\n    <span class="icon2 recommend-icon"></span>\r\n    <span class="m-title">当地推荐</span>\r\n</h2>\r\n<div class="modular-body">\r\n    ';var iconNameMap={wifi:"wifi",localPlay:"wanle",train:"huoche",flight:"jipiao",localGroup:"cantuan",dstService:"mudidi",bus:"qiche",visa:"qianzheng",ticket:"menpiao",hireCar:"zuche"},lines=Math.ceil(list.length/lineCount);return $out+='\r\n    <div class="recommend-container align-left">\r\n        ',_.each(list,function(item,index){var panelClass="";1==lines?index+1==list.length&&(panelClass="no-right-margin"):(index+1)%lineCount==0&&(panelClass="no-right-margin"),$out+='\r\n        <div class="recommend-panel ',$out+=$escape(panelClass),$out+='">\r\n            <a href="',$out+=$escape(item.url),$out+='">\r\n                <div class="recommend-img ',$out+=$escape(iconNameMap[item.type]),$out+='"></div>\r\n                <div class="recommend-name f-ol" title="',$out+=$escape(item.name),$out+='">',$out+=$escape(item.name),$out+="</div>\r\n            </a>\r\n        </div>\r\n        "}),$out+="\r\n    </div>\r\n</div>\r\n",new String($out)}return function(){var obj={};arguments[0]=arguments[0]||{};for(var key2 in arguments[0])obj[key2]=arguments[0][key2];for(var key in template.helpers)obj[key]=template.helpers[key];return window.pageDataObj&&(obj.bookStep=window.pageDataObj.bookStep,obj.pageType=window.pageDataObj.pageType,obj.proType=window.pageDataObj.proType,obj.proLine=window.pageDataObj.proLine,obj.proMode=window.pageDataObj.proMode),anonymous.call(template.utils,obj).toString()}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),tpl=__webpack_require__(149),config=__webpack_require__(6);config.pageDataObj;module.exports=backbone.View.extend({el:"#m-global-buy",events:{},initialize:function(){_.isEmpty(this.model.get("list"))&&_.isEmpty(this.model.get("recommendList"))&&_.isEmpty(this.model.get("tips"))||this.render()},render:function(){var html,data=this.model.toJSON();html=tpl(data),this.$el.html(html).show()}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(fn){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=fn,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function(template){function anonymous($data,$filename){"use strict";var $utils=this,_=($utils.$helpers,$data._),list=$data.list,$escape=($data.item,$data.index,$utils.$escape),recommendList=$data.recommendList,len=$data.len,tips=$data.tips,$out="";if($out+='<h2>\r\n    <a class="m-more"></a>\r\n    <span class="icon2 global-icon"></span>\r\n    <span class="m-title">全球购优惠券</span>\r\n</h2>\r\n<div class="modular-body">\r\n    ',_.isEmpty(list)||($out+="\r\n       ",_.each(list,function(item,index){$out+='\r\n            <div class="flight-panel-title">\r\n                 <span class="cruiseName">',$out+=$escape(item.resName),$out+="</span>\r\n            </div>\r\n       "}),$out+="\r\n    "),$out+="\r\n   \r\n   ",!_.isEmpty(recommendList)){$out+='\r\n    <div class="flight-journeys">\r\n         ';var len=recommendList.length;_.each(recommendList,function(item,index){$out+='\r\n           <div class="panel ',index==len-1&&($out+=" clear-right "),$out+=' an_mo">\r\n            <a href="',$out+=$escape(item.shopHomeUrl),$out+='" m="点击_全球购模块____推荐领券">\r\n                <div class="panel-main">\r\n                     <div class="panel-top">\r\n                        <img src="',$out+=$escape(item.shopLogo),$out+='"></img>\r\n                     </div>\r\n                     <div class="panel-middle">\r\n                        <p class="title f-ol" title="',$out+=$escape(item.title),$out+='">',$out+=$escape(item.title),$out+='</p>\r\n                        <p class="desc f-ol" title="',$out+=$escape(item.titleSub),$out+='">',$out+=$escape(item.subTitle),$out+='</p>\r\n                     </div>\r\n                     <div class="panel-bottom">\r\n                        <a class="location-url">领取</a>\r\n                     </div>\r\n                </div>\r\n            </a>\r\n           </div>\r\n         '}),$out+='\r\n         <div class="clear-float"></div>\r\n    </div> \r\n    '}return $out+="\r\n    ",_.isEmpty(tips)||($out+='\r\n           <p class="emptyTips">',$out+=$escape(tips),$out+="</p>\r\n    "),$out+='\r\n    <div class="flight-tips an_mo">\r\n         <a class="check-all" href="http://shopping.tuniu.cn/" m="点击_全球购模块____更多优惠券">\r\n              更多优惠券<i class="icon2 open-icon"></i>\r\n         </a> \r\n   </div>           \r\n\r\n</div>\r\n',new String($out)}return function(){var obj={};arguments[0]=arguments[0]||{};for(var key2 in arguments[0])obj[key2]=arguments[0][key2];for(var key in template.helpers)obj[key]=template.helpers[key];return window.pageDataObj&&(obj.bookStep=window.pageDataObj.bookStep,obj.pageType=window.pageDataObj.pageType,obj.proType=window.pageDataObj.proType,obj.proLine=window.pageDataObj.proLine,obj.proMode=window.pageDataObj.proMode),anonymous.call(template.utils,obj).toString()}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),tpl=__webpack_require__(151),config=__webpack_require__(6);config.pageDataObj;module.exports=backbone.View.extend({el:"#m-bookingInfo",events:{},initialize:function(){_.isEmpty(this.model.get("list"))||this.render()},render:function(){var html,data=this.model.toJSON();html=tpl(data),this.$el.html(html).show()}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(fn){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=fn,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function(template){function anonymous($data,$filename){"use strict";var $utils=this,list=($utils.$helpers,$data.list),_=$data._,$escape=($data.item,$utils.$escape),$out="";return list&&list.length&&($out+='\r\n<h2>\r\n    <a class="m-more"></a>\r\n    <span class="icon2 additional-icon"></span>\r\n    <span class="m-title">附加信息</span>\r\n</h2>\r\n<div class="modular-body">\r\n    <div class="flight-journeys">\r\n     \r\n        <div class="flight-panel">\r\n         <div class="flight-journey">\r\n            <ul>\r\n                ',_.each(list,function(item){$out+="\r\n                    <li>",$out+=$escape(item.nameToGuest),$out+='：<em class="c9">',$out+=$escape(item.textValue?item.textValue:item.optionValue.map(function(item){return item.content}).join("、")),$out+="</em></li>\r\n                "}),$out+="\r\n            </ul>\r\n         </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n"),new String($out)}return function(){var obj={};arguments[0]=arguments[0]||{};for(var key2 in arguments[0])obj[key2]=arguments[0][key2];for(var key in template.helpers)obj[key]=template.helpers[key];return window.pageDataObj&&(obj.bookStep=window.pageDataObj.bookStep,obj.pageType=window.pageDataObj.pageType,obj.proType=window.pageDataObj.proType,obj.proLine=window.pageDataObj.proLine,obj.proMode=window.pageDataObj.proMode),anonymous.call(template.utils,obj).toString()}})},function(module,exports,__webpack_require__){var backbone=__webpack_require__(9),tpl=__webpack_require__(153);module.exports=backbone.View.extend({el:"#m-lossInfo",initialize:function(){this.render()},render:function(){var data=this.model.toJSON();if(data.show){var html=tpl(data);this.$el.html(html).show()}}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(fn){__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(7)],__WEBPACK_AMD_DEFINE_FACTORY__=fn,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(function(template){function anonymous($data,$filename){"use strict";var $utils=this,show=($utils.$helpers,$data.show),$escape=$utils.$escape,lossInfo=$data.lossInfo,$out="";return show&&($out+='\n<h2>\n    <a class="m-more"></a>\n    <span class="icon2 lossInfo-icon"></span>\n    <span class="m-title">退改信息</span>\n</h2>\n<div class="modular-body">\n\t<div class="body">\n\t\t<div class="memo">\n\t\t 注:\n\t\t</div>\n\t\t<div class="content">\n\t\t\t',$out+=$escape(lossInfo),$out+="\n\t\t</div>\n\t</div>\n</div>\n"),$out+="\n",new String($out)}return function(){var obj={};arguments[0]=arguments[0]||{};for(var key2 in arguments[0])obj[key2]=arguments[0][key2];for(var key in template.helpers)obj[key]=template.helpers[key];return window.pageDataObj&&(obj.bookStep=window.pageDataObj.bookStep,obj.pageType=window.pageDataObj.pageType,obj.proType=window.pageDataObj.proType,obj.proLine=window.pageDataObj.proLine,obj.proMode=window.pageDataObj.proMode),anonymous.call(template.utils,obj).toString()}})},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(14),__webpack_require__(6)],__WEBPACK_AMD_DEFINE_RESULT__=function($,config){var ajaxUrlConfig={getContract:"/tn?r=order/tourV3Order/getContract",getOrderAccountInfo:"/tn?r=order/tourV3Order/getOrderAccountInfo",beforePayCancelOrder:"/web-detail/api/CancelOrder/beforePayCancelOrder",applyCancelOrder:"/web-detail/api/CancelOrder/applyCancelOrder",cancelOrder:"/tn?r=order/tourV3Order/CancelOrder",confirmCancelOrder:"/tn?r=order/tourV3Order/confirmCancelOrder",cancelOrderRegret:"/tn?r=order/tourV3Order/CancelOrderRegret",applyDelTourist:"/tn?r=order/tourV3Order/ApplyDelTourist",getModifyOrderAccountInfo:"/tn?r=order/tourV3Order/GetOrderAccountInfo",confirmModifyOrder:"/tn?r=order/tourV3Order/ConfirmModifyOrder",GetGroupNotification:pageDataObj.tksHost+"/webs/order/GetGroupNotification",ConfirmNotification:"http:"+pageDataObj.tksHost+"/webs/order/ConfirmNotification",updateUserAddress:"/tn?r=order/Comm/updateUserAddress",saveNewAddress:"/tn?r=order/Comm/SaveUserAddress",cardIdCallback:"/tn?r=order/tourV3Order/cardIdCallback",publicRtxInfo:"tn?r=order/tourV3Order/publicRtxInfo",setDefaultAddress:"/tn?r=order/Comm/setDefaultAddress",deleteAddress:"/tn?r=order/Comm/deleteUserAddress",signExtraContract:"/tn?r=order/tourV3Order/signExtraContract",modifyGiftAddress:"tn?r=user/user/ModifyGiftAddress"};return{applyDelTourist:function(sendData){return $.ajax({url:ajaxUrlConfig.applyDelTourist,dataType:"json",data:{orderId:pageDataObj.baseInfo.orderId,contactInfo:sendData,isOrderDetailFlag:pageDataObj.isOrderDetailFlag,domesticLongFlag:1},cache:!1,method:"get",timeout:3e4})},getModifyOrderAccountInfo:function(){var json={orderId:pageDataObj.baseInfo.orderId,from:"user",render:0};return $.ajax({url:ajaxUrlConfig.getModifyOrderAccountInfo,dataType:"json",data:json,cache:!1,method:"get",timeout:3e4})},confirmModifyOrder:function(){return $.ajax({url:ajaxUrlConfig.confirmModifyOrder,dataType:"json",data:{orderId:pageDataObj.baseInfo.orderId,type:1},cache:!1,method:"get",timeout:2e4,beforeSend:function(){$(".peri-cancel-order").hide(),$(".load").show()}})},getContract:function(orderId){return $.ajax({url:ajaxUrlConfig.getContract,data:{orderId:orderId,type:1},dataType:"json",cache:!1,method:"get",timeout:2e4})},getOrderAccountInfo:function(orderId){return $.ajax({url:ajaxUrlConfig.getOrderAccountInfo,data:{orderId:orderId,from:"cc",render:0},dataType:"json",cache:!1,method:"get",timeout:2e4})},beforePayCancelOrder:function(orderId,typeid,text){return $.ajax({url:ajaxUrlConfig.beforePayCancelOrder,data:{orderId:orderId,cancelType:typeid,cancelTypeDetail:text,cancelReason:""},dataType:"json",cache:!1,method:"get",timeout:2e4})},cancelOrder:function(data,text){if(pageDataObj.baseInfo&&75==pageDataObj.baseInfo.orderType){var postData={orderId:pageDataObj.baseInfo.orderId};return $.ajax({url:ajaxUrlConfig.applyCancelOrder,data:postData,dataType:"json",cache:!1,method:"post",timeout:3e4})}var postData={orderId:pageDataObj.baseInfo.orderId,cancelReason:data,cancelTypeDetail:text};return $.ajax({url:ajaxUrlConfig.cancelOrder,data:postData,dataType:"json",cache:!1,method:"post",timeout:3e4})},confirmCancelOrder:function(orderId){return $.ajax({url:ajaxUrlConfig.confirmCancelOrder,data:{orderId:orderId},dataType:"json",cache:!1,method:"post",timeout:3e4,beforeSend:function(){$(".peri-cancel-order").hide(),$(".load").show()}})},cancelOrderRegret:function(){return $.ajax({url:ajaxUrlConfig.cancelOrderRegret,data:{orderId:pageDataObj.baseInfo.orderId},dataType:"json",cache:!1,method:"post",timeout:2e4,beforeSend:function(){$(".peri-cancel-order").hide(),$(".load").show()}})},getGroupNotification:function(data){return $.ajax({url:ajaxUrlConfig.GetGroupNotification,data:data,type:"GET",dataType:"json",timeout:3e5})},getConfirmNotification:function(data){return $.ajax({url:ajaxUrlConfig.ConfirmNotification,data:data,type:"GET",dataType:"json",timeout:3e5})},updateUserAddress:function(data){return $.ajax({type:"GET",url:ajaxUrlConfig.updateUserAddress,data:data,dataType:"json"})},saveNewAddress:function(data){return $.ajax({type:"GET",url:ajaxUrlConfig.saveNewAddress,data:data,dataType:"json"})},setDefaultAddress:function(data){return $.ajax({type:"GET",url:ajaxUrlConfig.setDefaultAddress,data:data,dataType:"json"})},deleteAddress:function(data){return $.ajax({type:"GET",url:ajaxUrlConfig.deleteAddress,data:data,dataType:"json"})},cardIdCallback:function(data){return $.ajax({type:"GET",url:ajaxUrlConfig.cardIdCallback,data:data,dataType:"json"})},publicRtxInfo:function(data){return $.ajax({type:"GET",url:ajaxUrlConfig.publicRtxInfo,data:data,dataType:"json"})},signExtraContract:function(data){return $.ajax({type:"post",async:!1,url:ajaxUrlConfig.signExtraContract,data:data,dataType:"json"})},restOrderAddress:function(data){return $.ajax({url:ajaxUrlConfig.modifyGiftAddress,data:data,type:"POST",dataType:"json",timeout:3e5})}}}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__;__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(14),__webpack_require__(9),__webpack_require__(6),__webpack_require__(13)],__WEBPACK_AMD_DEFINE_RESULT__=function($,Backbone,config,tools){var pageDataObj=config.pageDataObj;return Backbone.Model.extend({showAnimateTime:200,initialize:function(){this.render(),this.bindEvents()},bindEvents:function(){var self=this;$(document).on("mouseenter","#channelPageSuspended li",function(e){self.mouseEnterHandler($(e.currentTarget))}),$(document).on("mouseleave","#channelPageSuspended li",function(e){self.mouseLeaveHandler($(e.currentTarget))}),$(document).on("click","#channelPageSuspended li",function(e){self.clickHandler($(e.currentTarget))})},render:function(){var windowWidth=$(window).width(),rightOffset=(windowWidth>1280?30:0)+"px",bottomOffset="160px",suspendedHtml='<div id="channelPageSuspended" style="z-index:9999;cursor: pointer;position:fixed;bottom:'+bottomOffset+";right: "+rightOffset+';width:40px;text-align: center;line-height: 40px;font-size: 14px;color: #f80;font-family: \'Microsoft YaHei\'"><ul><li style="height:40px;display:block;-moz-box-shadow:0px 0px 2px #CCCCCC;-webkit-box-shadow:0px 0px 2px #CCCCCC;box-shadow:0px 0px 2px #CCCCCC;background: url(\'http://img3.tuniucdn.com/site/images/kefu/icon-headset.png\') 0 0 no-repeat;"><p style="height: 40px;width: 76px;border-left: 4px solid #f80;position:absolute;left:-40px;background-color: #fff;display: none;">在线客服</p></li><li style="display:none;height:40px;-moz-box-shadow:0px 0px 2px #CCCCCC;-webkit-box-shadow:0px 0px 2px #CCCCCC;box-shadow:0px 0px 2px #CCCCCC;background: url(\'http://img3.tuniucdn.com/site/images/kefu/icon-barcode.png\') 0 0 no-repeat;"><div style="display:none;background:url(\'http://img3.tuniucdn.com/site/images/kefu/barcode.png\') 0 0 no-repeat;position: absolute;width: 150px;height: 150px;left: -160px;"><div style="position:absolute;top:15px;right:-5px;width:0;height:0;border-top:5px solid transparent;border-bottom:5px solid transparent;border-left:5px solid white; "></div></div></li><li style="height:40px;display:block;-moz-box-shadow:0px 0px 2px #CCCCCC;-webkit-box-shadow:0px 0px 2px #CCCCCC;box-shadow:0px 0px 2px #CCCCCC;background: url(\'http://img3.tuniucdn.com/site/images/kefu/icon-goup.png\') 0 0 no-repeat;"><p style="height: 40px;width: 76px;border-left: 4px solid #f80;position:absolute;left:-40px;background-color: #fff;display:none;">返回顶部</p></li><ul></div>';$("body").append(suspendedHtml)},clickHandler:function($target){var index=$target.index();if(0===index){"undefined"!=typeof window._gaq&&window._gaq.push(["_trackEvent","在线客服按钮_1","",""]);var supportProductType=[1,2,3,8];if(supportProductType.indexOf(pageDataObj.productType)==-1&&(pageDataObj.productType=1),window.TNCHAT_isShowChatEntry){var postData;"order_detail"==pageDataObj.pageType?(postData={entryTemplateId:7,orderId:pageDataObj.baseInfo.orderId},tools.safeEventTrack("点击_在线客服____在线客服")):postData={entryTemplateId:22,productId:pageDataObj.productId,productType:pageDataObj.productType||1},window.TNCHAT_isShowChatEntry(postData,function(data){data.status&&window.open(decodeURIComponent(data.url),"在线客服","width=640, height=515, top=100, left=500, toolbar=no, menubar=no, scrollbars=no, resizable=no, location=no, status=no")})}else{var entranceUrl=location.pathname,livechatUrl=encodeURI("http://dynamic.m.tuniu.com/livechat?entranceUrl="+entranceUrl);window.open(livechatUrl,"在线客服","width=640, height=515, top=100, left=500, toolbar=no, menubar=no, scrollbars=no, resizable=no, location=no, status=no")}}else 2===index&&$("body,html").animate({scrollTop:"0px"},this.showAnimateTime)},mouseEnterHandler:function($target){var handlers=[function(target){target.css({background:"url('http://img3.tuniucdn.com/site/images/kefu/icon-headset-on.png') 0 0 no-repeat"}),target.find("p").stop().animate({left:-80,opacity:"show"},200)},function(target){target.css({background:"url('http://img3.tuniucdn.com/site/images/kefu/icon-barcode-on.png') 0 0 no-repeat"}),target.find("div").stop().show(this.showAnimateTime)},function(target){target.css({background:"url('http://img3.tuniucdn.com/site/images/kefu/icon-goup-on.png') 0 0 no-repeat"}),target.find("p").stop().animate({left:-80,opacity:"show"},this.showAnimateTime)}];handlers[$target.index()]($target)},mouseLeaveHandler:function($target){var handlers=[function(target){target.css({background:"url('http://img3.tuniucdn.com/site/images/kefu/icon-headset.png') 0 0 no-repeat"}),target.find("p").stop().animate({left:-40,opacity:"hide"},100)},function(target){target.css({background:"url('http://img3.tuniucdn.com/site/images/kefu/icon-barcode.png') 0 0 no-repeat"}),target.find("div").stop().hide(100)},function(target){target.css({background:"url('http://img3.tuniucdn.com/site/images/kefu/icon-goup.png') 0 0 no-repeat"}),target.find("p").stop().animate({left:-40,opacity:"hide"},100)}];handlers[$target.index()]($target)}})}.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},function(module,exports,__webpack_require__){var $=__webpack_require__(14),dataObj=(__webpack_require__(8),{}),init=!0,idIndex=1;module.exports={supportAnimation:function(){var div=document.createElement("div");return void 0!==div.style.animationName||void 0!==div.style.webkitAnimationName},watchScroll:function(options){function compare(el){var $el=$(el);if(supportAnimation){var id=$el.data("moduleSlideId");id||(id="T_slide_"+idIndex,idIndex++,$el.data("moduleSlideId",id));var ofObj=el.getBoundingClientRect(),prevTop=dataObj[id]&&dataObj[id].top,prevBottom=dataObj[id]&&dataObj[id].bottom;prevTop||prevBottom||(prevTop=wH,prevBottom=wH);var top=ofObj.top,bottom=ofObj.bottom;top||bottom||(top=wH,bottom=wH),dataObj[id]={top:top,bottom:bottom};var slideInDown=prevTop>=wH&&top<wH,inSight=bottom>0&&top<wH,inSightTop=bottom<=0,inSightBottom=top>=wH;slideInDown&&($el.addClass("slide-in-down"),$el.one("animationend webkitAnimationEnd",function(){$el.css("opacity",1).removeClass("slide-in-down")})),inSight?init&&($el.addClass("slide-in-down"),$el.one("animationend webkitAnimationEnd",function(){$el.css("opacity",1).removeClass("slide-in-down")})):inSightTop?$el.css("opacity",1):inSightBottom&&$el.css("opacity",0)}else $el.css("opacity",1)}var self=this,moduleClass=options.moduleClass||"container",supportAnimation=this.supportAnimation(),$win=$(window),wH=$win.height(),$obj=$("."+moduleClass);$obj.each(function(index,item){compare(item)}),init=null,setTimeout(function(){self.watchScroll(options)},200)},watchFooter:function(){setInterval(function(e){var $body=$("body"),body=$body[0],bodyH=body.offsetHeight,windowH=$(window).height(),scrollH=$(document).height(),scrollT=$(window).scrollTop(),$footer=$(".footer"),footerHeight=$footer.innerHeight(),margin=parseInt($footer.css("marginBottom")),delta=footerHeight+margin,isFixed="fixed"==$footer.css("position");bodyH+(isFixed?delta:0)<=windowH?$body.removeClass("footer-fixed").addClass("footer-static"):($body.removeClass("footer-static"),windowH+scrollT>=scrollH?$body.hasClass("footer-fixed")||($body.addClass("footer-fixed"),scrollH=body.scrollHeight,body.scrollTop=scrollH-windowH,$footer.addClass("slide-in-down-no-opacity"),$footer.one("animationend webkitAnimationEnd",function(){$footer.removeClass("slide-in-down-no-opacity")})):$body.removeClass("footer-fixed"))},200)}}},function(module,exports,__webpack_require__){var config=__webpack_require__(6),pageDataObj=config.pageDataObj,constant=__webpack_require__(17),compositionEventName=constant.COMPOSITION_EVENT_NAME,compositionEvent={init:function(){pageDataObj[compositionEventName]=!0,this.bindEvents()},bindEvents:function(){$(document).on("compositionstart",function(){pageDataObj[compositionEventName]=!1}),$(document).on("compositionend",function(){pageDataObj[compositionEventName]=!0})}};compositionEvent.init(),module.exports=compositionEvent},function(module,exports,__webpack_require__){__webpack_require__(75);module.exports={init:function(){this.bindEvents()},bindEvents:function(){$(document).on("click",".detail-wrapper",function(e){var id=(new Date).getTime(),el=$(this).find(".resources-detail");el.data("showMoreId",id),$(".resources-detail").each(function(index,item){$(item).data("showMoreId")!=id&&$(item).hide()}),el.is(":hidden")&&el.find(".resources").tScroll({delta:15,fixedScrollObjHeight:!1}),el.toggle(),e.stopPropagation()}),$(document).on("click",".resources-detail .close-icon",function(e){$(this).parents(".resources-detail").hide()}),$(document).on("click",".resources-detail",function(e){e.stopPropagation()}),$(document).on("click",function(e){$(".resources-detail").hide()})}}},function(module,exports){module.exports={init:function(obj1,obj2){this.bindEvents(obj1,obj2)},bindEvents:function(obj1,obj2){var self=this;$(document).ready(function(){setInterval(function(){var top=+$(document).scrollTop(),first=(obj2.length,+obj2.eq(0).offset().top),last=+obj2.filter(":visible").filter(":last").offset().top,lastHeight=obj2.filter(":visible").filter(":last").height(),navHeight=obj1.height();obj1.offset().top;navHeight+top>last+lastHeight?obj1.removeClass("fix"):(obj1.css("top",0),top>=first?(obj1.removeClass("absolu"),obj1.addClass("fix")):(obj1.removeClass("absolu"),obj1.removeClass("fix"))),self.goThisNav(top,obj2)},100)})},goThisNav:function(top,obj2){var modulars=obj2;$.each(modulars,function(index,item){if($(item).filter(":visible")){var marginBottom=parseInt($(modulars).eq(0).css("marginBottom")),itemTop=+$(item).offset().top-marginBottom,itemHeight=+$(item).height(),itemBottom=+itemTop+itemHeight;if(top>=itemTop&&top<itemBottom){var thisId=$(item).attr("id");$("body").find("[data-id="+thisId+"]").addClass("active"),$("body").find("[data-id="+thisId+"]").siblings("").removeClass("active")}}})}}},function(module,exports){module.exports=function(config){return function(){var newEvent;newEvent=this.event+":"+config.pageDataObj.pageType,"function"==typeof this.allEvents[newEvent]&&(this.event=newEvent),this.next()}}}]);